"use strict";(self.webpackChunksuperstack=self.webpackChunksuperstack||[]).push([[179],{6304:(dt,be,O)=>{O.d(be,{Dh:()=>Re,GT:()=>fe,cc:()=>Ae,hO:()=>Be,on:()=>L,pX:()=>ne,xv:()=>ue});var g=O(5879),K=O(120),P=O(2793);dt=O.hmd(dt);const X=["ngOnDestroy"],ne=(ke,ht,ft,se={})=>new Proxy(ke,{get:(_e,Y)=>ft.runOutsideAngular(()=>{var me;if(ke[Y])return!(null===(me=se?.spy)||void 0===me)&&me.get&&se.spy.get(Y,ke[Y]),ke[Y];if(X.indexOf(Y)>-1)return()=>{};const Oe=ht.toPromise().then(re=>{const G=re&&re[Y];return"function"==typeof G?G.bind(re):G&&G.then?G.then(Ce=>ft.run(()=>Ce)):ft.run(()=>G)});return new Proxy(()=>{},{get:(re,G)=>Oe[G],apply:(re,G,Ce)=>Oe.then(gt=>{var Qt;const pn=gt&&gt(...Ce);return!(null===(Qt=se?.spy)||void 0===Qt)&&Qt.apply&&se.spy.apply(Y,Ce,pn),pn})})})}),fe=(ke,ht)=>{ht.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(se=>{Object.defineProperty(ke.prototype,se,Object.getOwnPropertyDescriptor(ft.prototype||ft,se))})})};class ye{constructor(ht){return ht}}const Re=new g.OlP("angularfire2.app.options"),ue=new g.OlP("angularfire2.app.name");function L(ke,ht,ft){const _e="object"==typeof ft&&ft||{};_e.name=_e.name||"string"==typeof ft&&ft||"[DEFAULT]";const me=K.Z.apps.filter(Oe=>Oe&&Oe.name===_e.name)[0]||ht.runOutsideAngular(()=>K.Z.initializeApp(ke,_e));try{JSON.stringify(ke)!==JSON.stringify(me.options)&&B("error",`${me.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(me)}const B=(ke,...ht)=>{(0,g.X6Q)()&&typeof console<"u"&&console[ke](...ht)},ee={provide:ye,useFactory:L,deps:[Re,g.R0b,[new g.FiY,ue]]};let Be=(()=>{class ke{constructor(ft){K.Z.registerVersion("angularfire",P.q4.full,"core"),K.Z.registerVersion("angularfire",P.q4.full,"app-compat"),K.Z.registerVersion("angular",g.q4F.full,ft.toString())}static initializeApp(ft,se){return{ngModule:ke,providers:[{provide:Re,useValue:ft},{provide:ue,useValue:se}]}}}return ke.\u0275fac=function(ft){return new(ft||ke)(g.LFG(g.Lbi))},ke.\u0275mod=g.oAB({type:ke}),ke.\u0275inj=g.cJS({providers:[ee]}),ke})();function Ae(ke,ht,ft,se,_e){const[,Y,me]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===ke)||[];if(Y)return function We(ke,ht){try{return ke.toString()===ht.toString()}catch{return ke===ht}}(_e,me)||(qe("error",`${ht} was already initialized on the ${ft} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:_e,was:me})),Y;{const Oe=se();return globalThis.\u0275AngularfireInstanceCache.push([ke,Oe,_e]),Oe}}const Le=!!dt.hot,qe=(ke,...ht)=>{(0,g.X6Q)()&&typeof console<"u"&&console[ke](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(dt,be,O)=>{O.d(be,{q4:()=>rc,iC:()=>Fo,HU:()=>ba,vb:()=>Ps,JM:()=>mu});var g=O(5879),K=O(4097),P=O(5861),X=O(4303),ne=O(9058),fe=O(4537),ye=O(7879);const Re=(I,C)=>C.some(M=>I instanceof M);let ue,L;const Be=new WeakMap,Ae=new WeakMap,We=new WeakMap,Le=new WeakMap,qe=new WeakMap;let ft={get(I,C,M){if(I instanceof IDBTransaction){if("done"===C)return Ae.get(I);if("objectStoreNames"===C)return I.objectStoreNames||We.get(I);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return me(I[C])},set:(I,C,M)=>(I[C]=M,!0),has:(I,C)=>I instanceof IDBTransaction&&("done"===C||"store"===C)||C in I};function Y(I){return"function"==typeof I?function _e(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...C){return I.apply(Oe(this),C),me(Be.get(this))}:function(...C){return me(I.apply(Oe(this),C))}:function(C,...M){const k=I.call(Oe(this),C,...M);return We.set(k,C.sort?C.sort():[C]),me(k)}}(I):(I instanceof IDBTransaction&&function ht(I){if(Ae.has(I))return;const C=new Promise((M,k)=>{const z=()=>{I.removeEventListener("complete",Z),I.removeEventListener("error",he),I.removeEventListener("abort",he)},Z=()=>{M(),z()},he=()=>{k(I.error||new DOMException("AbortError","AbortError")),z()};I.addEventListener("complete",Z),I.addEventListener("error",he),I.addEventListener("abort",he)});Ae.set(I,C)}(I),Re(I,function B(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ft):I)}function me(I){if(I instanceof IDBRequest)return function ke(I){const C=new Promise((M,k)=>{const z=()=>{I.removeEventListener("success",Z),I.removeEventListener("error",he)},Z=()=>{M(me(I.result)),z()},he=()=>{k(I.error),z()};I.addEventListener("success",Z),I.addEventListener("error",he)});return C.then(M=>{M instanceof IDBCursor&&Be.set(M,I)}).catch(()=>{}),qe.set(C,I),C}(I);if(Le.has(I))return Le.get(I);const C=Y(I);return C!==I&&(Le.set(I,C),qe.set(C,I)),C}const Oe=I=>qe.get(I),Ce=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],Qt=new Map;function pn(I,C){if(!(I instanceof IDBDatabase)||C in I||"string"!=typeof C)return;if(Qt.get(C))return Qt.get(C);const M=C.replace(/FromIndex$/,""),k=C!==M,z=gt.includes(M);if(!(M in(k?IDBIndex:IDBObjectStore).prototype)||!z&&!Ce.includes(M))return;const Z=function(){var he=(0,P.Z)(function*(Ke,...ze){const st=this.transaction(Ke,z?"readwrite":"readonly");let Nt=st.store;return k&&(Nt=Nt.index(ze.shift())),(yield Promise.all([Nt[M](...ze),z&&st.done]))[0]});return function(ze){return he.apply(this,arguments)}}();return Qt.set(C,Z),Z}!function se(I){ft=I(ft)}(I=>({...I,get:(C,M,k)=>pn(C,M)||I.get(C,M,k),has:(C,M)=>!!pn(C,M)||I.has(C,M)}));const gn="@firebase/installations",bn="0.6.4",Tn=1e4,nr=`w:${bn}`,ie="FIS_v2",de="https://firebaseinstallations.googleapis.com/v1",pe=36e5,Ze=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function Mn({projectId:I}){return`${de}/projects/${I}/installations`}function _t(I){return{token:I.token,requestStatus:2,expiresIn:_r(I.expiresIn),creationTime:Date.now()}}function Wt(I,C){return pt.apply(this,arguments)}function pt(){return(pt=(0,P.Z)(function*(I,C){const k=(yield C.json()).error;return Ze.create("request-failed",{requestName:I,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function mn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Gn(I){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function _r(I){return Number(I.replace("s","000"))}function Vn(){return(Vn=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:M}){const k=Mn(I),z=mn(I),Z=C.getImmediate({optional:!0});if(Z){const st=yield Z.getHeartbeatsHeader();st&&z.append("x-firebase-client",st)}const Ke={method:"POST",headers:z,body:JSON.stringify({fid:M,authVersion:ie,appId:I.appId,sdkVersion:nr})},ze=yield Gn(()=>fetch(k,Ke));if(ze.ok){const st=yield ze.json();return{fid:st.fid||M,registrationStatus:2,refreshToken:st.refreshToken,authToken:_t(st.authToken)}}throw yield Wt("Create Installation",ze)})).apply(this,arguments)}function Kr(I){return new Promise(C=>{setTimeout(C,I)})}const wo=/^[cdef][\w-]{21}$/,Qe="";function it(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function Dt(I){return function ws(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return wo.test(M)?M:Qe}catch{return Qe}}function fn(I){return`${I.appName}!${I.appId}`}const wn=new Map;function Wn(I,C){const M=fn(I);Is(M,C),function tn(I,C){const M=function Kt(){return!rr&&"BroadcastChannel"in self&&(rr=new BroadcastChannel("[Firebase] FID Change"),rr.onmessage=I=>{Is(I.data.key,I.data.fid)}),rr}();M&&M.postMessage({key:I,fid:C}),function Zr(){0===wn.size&&rr&&(rr.close(),rr=null)}()}(M,C)}function Is(I,C){const M=wn.get(I);if(M)for(const k of M)k(C)}let rr=null;const Ds="firebase-installations-database",Yo=1,dr="firebase-installations-store";let wi=null;function ge(){return wi||(wi=function re(I,C,{blocked:M,upgrade:k,blocking:z,terminated:Z}={}){const he=indexedDB.open(I,C),Ke=me(he);return k&&he.addEventListener("upgradeneeded",ze=>{k(me(he.result),ze.oldVersion,ze.newVersion,me(he.transaction))}),M&&he.addEventListener("blocked",()=>M()),Ke.then(ze=>{Z&&ze.addEventListener("close",()=>Z()),z&&ze.addEventListener("versionchange",()=>z())}).catch(()=>{}),Ke}(Ds,Yo,{upgrade:(I,C)=>{0===C&&I.createObjectStore(dr)}})),wi}function $(I,C){return le.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(I,C){const M=fn(I),z=(yield ge()).transaction(dr,"readwrite"),Z=z.objectStore(dr),he=yield Z.get(M);return yield Z.put(C,M),yield z.done,(!he||he.fid!==C.fid)&&Wn(I,C.fid),C})).apply(this,arguments)}function Ge(I){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(I){const C=fn(I),k=(yield ge()).transaction(dr,"readwrite");yield k.objectStore(dr).delete(C),yield k.done})).apply(this,arguments)}function Et(I,C){return wt.apply(this,arguments)}function wt(){return(wt=(0,P.Z)(function*(I,C){const M=fn(I),z=(yield ge()).transaction(dr,"readwrite"),Z=z.objectStore(dr),he=yield Z.get(M),Ke=C(he);return void 0===Ke?yield Z.delete(M):yield Z.put(Ke,M),yield z.done,Ke&&(!he||he.fid!==Ke.fid)&&Wn(I,Ke.fid),Ke})).apply(this,arguments)}function U(I){return V.apply(this,arguments)}function V(){return V=(0,P.Z)(function*(I){let C;const M=yield Et(I.appConfig,k=>{const z=function q(I){return yn(I||{fid:it(),registrationStatus:0})}(k),Z=function Se(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Ze.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},k=function ae(I,C){return ct.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:k}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Ct(I)}:{installationEntry:C}}(I,z);return C=Z.registrationPromise,Z.installationEntry});return M.fid===Qe?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}}),V.apply(this,arguments)}function ct(){return ct=(0,P.Z)(function*(I,C){try{const M=yield function Oi(I,C){return Vn.apply(this,arguments)}(I,C);return $(I.appConfig,M)}catch(M){throw nt(M)&&409===M.customData.serverCode?yield Ge(I.appConfig):yield $(I.appConfig,{fid:C.fid,registrationStatus:0}),M}}),ct.apply(this,arguments)}function Ct(I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,P.Z)(function*(I){let C=yield In(I.appConfig);for(;1===C.registrationStatus;)yield Kr(100),C=yield In(I.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:k}=yield U(I);return k||M}return C})).apply(this,arguments)}function In(I){return Et(I,C=>{if(!C)throw Ze.create("installation-not-found");return yn(C)})}function yn(I){return function xt(I){return 1===I.registrationStatus&&I.registrationTime+Tn<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Pr(){return(Pr=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},M){const k=function ts(I,{fid:C}){return`${Mn(I)}/${C}/authTokens:generate`}(I,M),z=function _n(I,{refreshToken:C}){const M=mn(I);return M.append("Authorization",function qr(I){return`${ie} ${I}`}(C)),M}(I,M),Z=C.getImmediate({optional:!0});if(Z){const st=yield Z.getHeartbeatsHeader();st&&z.append("x-firebase-client",st)}const Ke={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:nr,appId:I.appId}})},ze=yield Gn(()=>fetch(k,Ke));if(ze.ok)return _t(yield ze.json());throw yield Wt("Generate Auth Token",ze)})).apply(this,arguments)}function Io(I){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,P.Z)(function*(I,C=!1){let M;const k=yield Et(I.appConfig,Z=>{if(!ea(Z))throw Ze.create("not-registered");const he=Z.authToken;if(!C&&function Ys(I){return 2===I.requestStatus&&!function Lu(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+pe}(I)}(he))return Z;if(1===he.requestStatus)return M=function Qo(I,C){return Xo.apply(this,arguments)}(I,C),Z;{if(!navigator.onLine)throw Ze.create("app-offline");const Ke=function wd(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}(Z);return M=function Fu(I,C){return Jo.apply(this,arguments)}(I,Ke),Ke}});return M?yield M:k.authToken}),Pi.apply(this,arguments)}function Xo(){return(Xo=(0,P.Z)(function*(I,C){let M=yield qa(I.appConfig);for(;1===M.authToken.requestStatus;)yield Kr(100),M=yield qa(I.appConfig);const k=M.authToken;return 0===k.requestStatus?Io(I,C):k})).apply(this,arguments)}function qa(I){return Et(I,C=>{if(!ea(C))throw Ze.create("not-registered");return function Id(I){return 1===I.requestStatus&&I.requestTime+Tn<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Jo(){return Jo=(0,P.Z)(function*(I,C){try{const M=yield function Zt(I,C){return Pr.apply(this,arguments)}(I,C),k=Object.assign(Object.assign({},C),{authToken:M});return yield $(I.appConfig,k),M}catch(M){if(!nt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const k=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield $(I.appConfig,k)}else yield Ge(I.appConfig);throw M}}),Jo.apply(this,arguments)}function ea(I){return void 0!==I&&2===I.registrationStatus}function Ka(){return(Ka=(0,P.Z)(function*(I){const C=I,{installationEntry:M,registrationPromise:k}=yield U(C);return k?k.catch(console.error):Io(C).catch(console.error),M.fid})).apply(this,arguments)}function li(){return li=(0,P.Z)(function*(I,C=!1){const M=I;return yield function Cd(I){return Ii.apply(this,arguments)}(M),(yield Io(M,C)).token}),li.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(I){const{registrationPromise:C}=yield U(I);C&&(yield C)})).apply(this,arguments)}function Do(I){return Ze.create("missing-app-config-values",{valueName:I})}const Td="installations",Vg=I=>{const C=I.getProvider("app").getImmediate(),M=function Uu(I){if(!I||!I.options)throw Do("App Configuration");if(!I.name)throw Do("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!I.options[M])throw Do(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,X.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Cs=I=>{const C=I.getProvider("app").getImmediate(),M=(0,X.qX)(C,Td).getImmediate();return{getId:()=>function Vu(I){return Ka.apply(this,arguments)}(M),getToken:z=>function Dd(I){return li.apply(this,arguments)}(M,z)}};(function Rf(){(0,X.Xd)(new fe.wA(Td,Vg,"PUBLIC")),(0,X.Xd)(new fe.wA("installations-internal",Cs,"PRIVATE"))})(),(0,X.KN)(gn,bn),(0,X.KN)(gn,bn,"esm2017");const Za="@firebase/remote-config",cn=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yr{constructor(C,M,k,z){this.client=C,this.storage=M,this.storageCache=k,this.logger=z}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-M,z=k<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${z}.`),z}fetch(C){var M=this;return(0,P.Z)(function*(){const[k,z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(z&&M.isCachedDataFresh(C.cacheMaxAgeMillis,k))return z;C.eTag=z&&z.eTag;const Z=yield M.client.fetch(C),he=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Z.status&&he.push(M.storage.setLastSuccessfulFetchResponse(Z)),yield Promise.all(he),Z})()}}function Md(I=navigator){return I.languages&&I.languages[0]||I.language}class ns{constructor(C,M,k,z,Z,he){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=k,this.projectId=z,this.apiKey=Z,this.appId=he}fetch(C){var M=this;return(0,P.Z)(function*(){const[k,z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),he=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ze={sdk_version:M.sdkVersion,app_instance_id:k,app_instance_id_token:z,app_id:M.appId,language_code:Md()},st={method:"POST",headers:Ke,body:JSON.stringify(ze)},Nt=fetch(he,st),Rt=new Promise((ti,Fs)=>{C.signal.addEventListener(()=>{const El=new Error("The operation was aborted.");El.name="AbortError",Fs(El)})});let ei;try{yield Promise.race([Nt,Rt]),ei=yield Nt}catch(ti){let Fs="fetch-client-network";throw"AbortError"===ti?.name&&(Fs="fetch-timeout"),cn.create(Fs,{originalErrorMessage:ti?.message})}let Dn=ei.status;const ks=ei.headers.get("ETag")||void 0;let Lo,lo;if(200===ei.status){let ti;try{ti=yield ei.json()}catch(Fs){throw cn.create("fetch-client-parse",{originalErrorMessage:Fs?.message})}Lo=ti.entries,lo=ti.state}if("INSTANCE_STATE_UNSPECIFIED"===lo?Dn=500:"NO_CHANGE"===lo?Dn=304:("NO_TEMPLATE"===lo||"EMPTY_CONFIG"===lo)&&(Lo={}),304!==Dn&&200!==Dn)throw cn.create("fetch-status",{httpStatus:Dn});return{status:Dn,eTag:ks,config:Lo}})()}}class Qa{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,P.Z)(function*(){const k=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,k)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:k}){var z=this;return(0,P.Z)(function*(){yield function Rn(I,C){return new Promise((M,k)=>{const z=Math.max(C-Date.now(),0),Z=setTimeout(M,z);I.addEventListener(()=>{clearTimeout(Z),k(cn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const Z=yield z.client.fetch(C);return yield z.storage.deleteThrottleMetadata(),Z}catch(Z){if(!function ia(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Z))throw Z;const he={throttleEndTimeMillis:Date.now()+(0,ne.$s)(k),backoffCount:k+1};return yield z.storage.setThrottleMetadata(he),z.attemptFetch(C,he)}})()}}class xd{constructor(C,M,k,z,Z){this.app=C,this._client=M,this._storageCache=k,this._storage=z,this._logger=Z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hi(I,C){const M=I.target.error||void 0;return cn.create(C,{originalErrorMessage:M&&M?.message})}const Bn="app_namespace_store";class t0{constructor(C,M,k,z=function $t(){return new Promise((I,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=k=>{C(hi(k,"storage-open"))},M.onsuccess=k=>{I(k.target.result)},M.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(Bn,{keyPath:"compositeKey"})}}catch(M){C(cn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=k,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,P.Z)(function*(){const k=yield M.openDbPromise;return new Promise((z,Z)=>{const Ke=k.transaction([Bn],"readonly").objectStore(Bn),ze=M.createCompositeKey(C);try{const st=Ke.get(ze);st.onerror=Nt=>{Z(hi(Nt,"storage-get"))},st.onsuccess=Nt=>{const Rt=Nt.target.result;z(Rt?Rt.value:void 0)}}catch(st){Z(cn.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(C,M){var k=this;return(0,P.Z)(function*(){const z=yield k.openDbPromise;return new Promise((Z,he)=>{const ze=z.transaction([Bn],"readwrite").objectStore(Bn),st=k.createCompositeKey(C);try{const Nt=ze.put({compositeKey:st,value:M});Nt.onerror=Rt=>{he(hi(Rt,"storage-set"))},Nt.onsuccess=()=>{Z()}}catch(Nt){he(cn.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(C){var M=this;return(0,P.Z)(function*(){const k=yield M.openDbPromise;return new Promise((z,Z)=>{const Ke=k.transaction([Bn],"readwrite").objectStore(Bn),ze=M.createCompositeKey(C);try{const st=Ke.delete(ze);st.onerror=Nt=>{Z(hi(Nt,"storage-delete"))},st.onsuccess=()=>{z()}}catch(st){Z(cn.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class ju{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,P.Z)(function*(){const M=C.storage.getLastFetchStatus(),k=C.storage.getLastSuccessfulFetchTimestampMillis(),z=C.storage.getActiveConfig(),Z=yield M;Z&&(C.lastFetchStatus=Z);const he=yield k;he&&(C.lastSuccessfulFetchTimestampMillis=he);const Ke=yield z;Ke&&(C.activeConfig=Ke)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function To(){return So.apply(this,arguments)}function So(){return(So=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function rs(){(0,X.Xd)(new fe.wA("remote-config",function I(C,{instanceIdentifier:M}){const k=C.getProvider("app").getImmediate(),z=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cn.create("registration-window");if(!(0,ne.hl)())throw cn.create("indexed-db-unavailable");const{projectId:Z,apiKey:he,appId:Ke}=k.options;if(!Z)throw cn.create("registration-project-id");if(!he)throw cn.create("registration-api-key");if(!Ke)throw cn.create("registration-app-id");const ze=new t0(Ke,k.name,M=M||"firebase"),st=new ju(ze),Nt=new ye.Yd(Za);Nt.logLevel=ye.in.ERROR;const Rt=new ns(z,X.Jn,M,Z,he,Ke),ei=new Qa(Rt,ze),Dn=new Yr(ei,ze,st,Nt),ks=new xd(k,Dn,st,ze,Nt);return function Pt(I){const C=(0,ne.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ks),ks},"PUBLIC").setMultipleInstances(!0)),(0,X.KN)(Za,"0.4.4"),(0,X.KN)(Za,"0.4.4","esm2017")}();const sr=(I,C)=>C.some(M=>I instanceof M);let Ug,jn;const Ts=new WeakMap,Ss=new WeakMap,fr=new WeakMap,wr=new WeakMap,Wc=new WeakMap;let Xa={get(I,C,M){if(I instanceof IDBTransaction){if("done"===C)return Ss.get(I);if("objectStoreNames"===C)return I.objectStoreNames||fr.get(I);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return is(I[C])},set:(I,C,M)=>(I[C]=M,!0),has:(I,C)=>I instanceof IDBTransaction&&("done"===C||"store"===C)||C in I};function Bg(I){return"function"==typeof I?function Pf(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oa(){return jn||(jn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...C){return I.apply(qc(this),C),is(Ts.get(this))}:function(...C){return is(I.apply(qc(this),C))}:function(C,...M){const k=I.call(qc(this),C,...M);return fr.set(k,C.sort?C.sort():[C]),is(k)}}(I):(I instanceof IDBTransaction&&function Rd(I){if(Ss.has(I))return;const C=new Promise((M,k)=>{const z=()=>{I.removeEventListener("complete",Z),I.removeEventListener("error",he),I.removeEventListener("abort",he)},Z=()=>{M(),z()},he=()=>{k(I.error||new DOMException("AbortError","AbortError")),z()};I.addEventListener("complete",Z),I.addEventListener("error",he),I.addEventListener("abort",he)});Ss.set(I,C)}(I),sr(I,function fi(){return Ug||(Ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Xa):I)}function is(I){if(I instanceof IDBRequest)return function Nf(I){const C=new Promise((M,k)=>{const z=()=>{I.removeEventListener("success",Z),I.removeEventListener("error",he)},Z=()=>{M(is(I.result)),z()},he=()=>{k(I.error),z()};I.addEventListener("success",Z),I.addEventListener("error",he)});return C.then(M=>{M instanceof IDBCursor&&Ts.set(M,I)}).catch(()=>{}),Wc.set(C,I),C}(I);if(wr.has(I))return wr.get(I);const C=Bg(I);return C!==I&&(wr.set(I,C),Wc.set(C,I)),C}const qc=I=>Wc.get(I);function Nd(I,C,{blocked:M,upgrade:k,blocking:z,terminated:Z}={}){const he=indexedDB.open(I,C),Ke=is(he);return k&&he.addEventListener("upgradeneeded",ze=>{k(is(he.result),ze.oldVersion,ze.newVersion,is(he.transaction))}),M&&he.addEventListener("blocked",()=>M()),Ke.then(ze=>{Z&&ze.addEventListener("close",()=>Z()),z&&ze.addEventListener("versionchange",()=>z())}).catch(()=>{}),Ke}function Ja(I,{blocked:C}={}){const M=indexedDB.deleteDatabase(I);return C&&M.addEventListener("blocked",()=>C()),is(M).then(()=>{})}const Od=["get","getKey","getAll","getAllKeys","count"],kf=["put","add","delete","clear"],Kc=new Map;function Ff(I,C){if(!(I instanceof IDBDatabase)||C in I||"string"!=typeof C)return;if(Kc.get(C))return Kc.get(C);const M=C.replace(/FromIndex$/,""),k=C!==M,z=kf.includes(M);if(!(M in(k?IDBIndex:IDBObjectStore).prototype)||!z&&!Od.includes(M))return;const Z=function(){var he=(0,P.Z)(function*(Ke,...ze){const st=this.transaction(Ke,z?"readwrite":"readonly");let Nt=st.store;return k&&(Nt=Nt.index(ze.shift())),(yield Promise.all([Nt[M](...ze),z&&st.done]))[0]});return function(ze){return he.apply(this,arguments)}}();return Kc.set(C,Z),Z}!function Of(I){Xa=I(Xa)}(I=>({...I,get:(C,M,k)=>Ff(C,M)||I.get(C,M,k),has:(C,M)=>!!Ff(C,M)||I.has(C,M)}));const Pd="/firebase-messaging-sw.js",Zc="/firebase-cloud-messaging-push-scope",eu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kd="https://fcmregistrations.googleapis.com/v1",Fd="google.c.a.c_id",$n="google.c.a.c_l",Lf="google.c.a.ts";var ua=(()=>((ua=ua||{}).PUSH_RECEIVED="push-received",ua.NOTIFICATION_CLICKED="notification-clicked",ua))();function bi(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tu(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(M),z=new Uint8Array(k.length);for(let Z=0;Z<k.length;++Z)z[Z]=k.charCodeAt(Z);return z}const nu="fcm_token_details_db",Vd=5,ca="fcm_token_object_Store";function la(){return la=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Z=>Z.name).includes(nu))return null;let C=null;return(yield Nd(nu,Vd,{upgrade:(k=(0,P.Z)(function*(z,Z,he,Ke){var ze;if(Z<2||!z.objectStoreNames.contains(ca))return;const st=Ke.objectStore(ca),Nt=yield st.index("fcmSenderId").get(I);if(yield st.clear(),Nt)if(2===Z){const Rt=Nt;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;C={token:Rt.fcmToken,createTime:null!==(ze=Rt.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:bi(Rt.vapidKey)}}}else if(3===Z){const Rt=Nt;C={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:bi(Rt.auth),p256dh:bi(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:bi(Rt.vapidKey)}}}else if(4===Z){const Rt=Nt;C={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:bi(Rt.auth),p256dh:bi(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:bi(Rt.vapidKey)}}}}),function(Z,he,Ke,ze){return k.apply(this,arguments)})})).close(),yield Ja(nu),yield Ja("fcm_vapid_details_db"),yield Ja("undefined"),function ss(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var k}),la.apply(this,arguments)}const da="firebase-messaging-database",Kn=1,Xr="firebase-messaging-store";let Ud=null;function ha(){return Ud||(Ud=Nd(da,Kn,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Xr)}})),Ud}function ru(I){return As.apply(this,arguments)}function As(){return As=(0,P.Z)(function*(I){const C=$u(I),k=yield(yield ha()).transaction(Xr).objectStore(Xr).get(C);if(k)return k;{const z=yield function Rv(I){return la.apply(this,arguments)}(I.appConfig.senderId);if(z)return yield Bd(I,z),z}}),As.apply(this,arguments)}function Bd(I,C){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,P.Z)(function*(I,C){const M=$u(I),z=(yield ha()).transaction(Xr,"readwrite");return yield z.objectStore(Xr).put(C,M),yield z.done,C})).apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(I){const C=$u(I),k=(yield ha()).transaction(Xr,"readwrite");yield k.objectStore(Xr).delete(C),yield k.done})).apply(this,arguments)}function $u({appConfig:I}){return I.appId}const Ir=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vf(I,C){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,P.Z)(function*(I,C){const M=yield Hu(I),k=Bf(C),z={method:"POST",headers:M,body:JSON.stringify(k)};let Z;try{Z=yield(yield fetch(pa(I.appConfig),z)).json()}catch(he){throw Ir.create("token-subscribe-failed",{errorInfo:he?.toString()})}if(Z.error)throw Ir.create("token-subscribe-failed",{errorInfo:Z.error.message});if(!Z.token)throw Ir.create("token-subscribe-no-token");return Z.token})).apply(this,arguments)}function Xc(){return(Xc=(0,P.Z)(function*(I,C){const M=yield Hu(I),k=Bf(C.subscriptionOptions),z={method:"PATCH",headers:M,body:JSON.stringify(k)};let Z;try{Z=yield(yield fetch(`${pa(I.appConfig)}/${C.token}`,z)).json()}catch(he){throw Ir.create("token-update-failed",{errorInfo:he?.toString()})}if(Z.error)throw Ir.create("token-update-failed",{errorInfo:Z.error.message});if(!Z.token)throw Ir.create("token-update-no-token");return Z.token})).apply(this,arguments)}function Jc(I,C){return el.apply(this,arguments)}function el(){return(el=(0,P.Z)(function*(I,C){const k={method:"DELETE",headers:yield Hu(I)};try{const Z=yield(yield fetch(`${pa(I.appConfig)}/${C}`,k)).json();if(Z.error)throw Ir.create("token-unsubscribe-failed",{errorInfo:Z.error.message})}catch(z){throw Ir.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function pa({projectId:I}){return`${kd}/projects/${I}/registrations`}function Hu(I){return iu.apply(this,arguments)}function iu(){return(iu=(0,P.Z)(function*({appConfig:I,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Bf({p256dh:I,auth:C,endpoint:M,vapidKey:k}){const z={web:{endpoint:M,auth:C,p256dh:I}};return k!==eu&&(z.web.applicationPubKey=k),z}const tl=6048e5;function zu(){return zu=(0,P.Z)(function*(I){const C=yield function ou(I,C){return ga.apply(this,arguments)}(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:bi(C.getKey("auth")),p256dh:bi(C.getKey("p256dh"))},k=yield ru(I.firebaseDependencies);if(k){if(function Dr(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}(k.subscriptionOptions,M))return Date.now()>=k.createTime+tl?function os(I,C){return su.apply(this,arguments)}(I,{token:k.token,createTime:Date.now(),subscriptionOptions:M}):k.token;try{yield Jc(I.firebaseDependencies,k.token)}catch(z){console.warn(z)}return zd(I.firebaseDependencies,M)}return zd(I.firebaseDependencies,M)}),zu.apply(this,arguments)}function Hd(){return Hd=(0,P.Z)(function*(I){const C=yield ru(I.firebaseDependencies);C&&(yield Jc(I.firebaseDependencies,C.token),yield function jd(I){return fa.apply(this,arguments)}(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Hd.apply(this,arguments)}function su(){return su=(0,P.Z)(function*(I,C){try{const M=yield function $d(I,C){return Xc.apply(this,arguments)}(I.firebaseDependencies,C),k=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield Bd(I.firebaseDependencies,k),M}catch(M){throw yield function nl(I){return Hd.apply(this,arguments)}(I),M}}),su.apply(this,arguments)}function zd(I,C){return nn.apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(I,C){const k={token:yield Vf(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Bd(I,k),k.token})).apply(this,arguments)}function ga(){return(ga=(0,P.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tu(C)})})).apply(this,arguments)}function ma(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Gd(I,C){if(!C.notification)return;I.notification={};const M=C.notification.title;M&&(I.notification.title=M);const k=C.notification.body;k&&(I.notification.body=k);const z=C.notification.image;z&&(I.notification.image=z);const Z=C.notification.icon;Z&&(I.notification.icon=Z)}(C,I),function Ms(I,C){C.data&&(I.data=C.data)}(C,I),function Ti(I,C){var M,k,z,Z,he;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const Ke=null!==(z=null===(k=C.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==z?z:null===(Z=C.notification)||void 0===Z?void 0:Z.click_action;Ke&&(I.fcmOptions.link=Ke);const ze=null===(he=C.fcmOptions)||void 0===he?void 0:he.analytics_label;ze&&(I.fcmOptions.analyticsLabel=ze)}(C,I),C}function Wd(I,C){const M=[];for(let k=0;k<I.length;k++)M.push(I.charAt(k)),k<C.length&&M.push(C.charAt(k));return M.join("")}function as(I){return Ir.create("missing-app-config-values",{valueName:I})}Wd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qd{constructor(C,M,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function rl(I){if(!I||!I.options)throw as("App Configuration Object");if(!I.name)throw as("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const k of C)if(!M[k])throw as(k);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:z,installations:M,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Gu(){return(Gu=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Pd,{scope:Zc}),I.swRegistration.update().catch(()=>{})}catch(C){throw Ir.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Xs(){return(Xs=(0,P.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield function il(I){return Gu.apply(this,arguments)}(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Ir.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function bt(){return(bt=(0,P.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=eu)})).apply(this,arguments)}function Kd(){return Kd=(0,P.Z)(function*(I,C){if(!navigator)throw Ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ir.create("permission-blocked");return yield function Js(I,C){return bt.apply(this,arguments)}(I,C?.vapidKey),yield function sl(I,C){return Xs.apply(this,arguments)}(I,C?.serviceWorkerRegistration),function jf(I){return zu.apply(this,arguments)}(I)}),Kd.apply(this,arguments)}function Zd(){return(Zd=(0,P.Z)(function*(I,C,M){const k=function Hf(I){switch(I){case ua.NOTIFICATION_CLICKED:return"notification_open";case ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:M[Fd],message_name:M[$n],message_time:M[Lf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ki(){return ki=(0,P.Z)(function*(I,C){const M=C.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===ua.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ma(M)):I.onMessageHandler.next(ma(M)));const k=M.data;(function jg(I){return"object"==typeof I&&!!I&&Fd in I})(k)&&"1"===k["google.c.a.e"]&&(yield function $f(I,C,M){return Zd.apply(this,arguments)}(I,M.messageType,k))}),ki.apply(this,arguments)}const ya="@firebase/messaging",ul=I=>{const C=new qd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function al(I,C){return ki.apply(this,arguments)}(C,M)),C},cl=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:k=>function ol(I,C){return Kd.apply(this,arguments)}(C,k)}};function Ne(){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zf(){(0,X.Xd)(new fe.wA("messaging",ul,"PUBLIC")),(0,X.Xd)(new fe.wA("messaging-internal",cl,"PRIVATE")),(0,X.KN)(ya,"0.12.4"),(0,X.KN)(ya,"0.12.4","esm2017")}();const Nn="analytics",Hg="firebase_id",qu="origin",Fr=6e4,Si="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ku="https://www.googletagmanager.com/gtag/js",An=new ye.Yd("@firebase/analytics"),br=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function uu(I){if(!I.startsWith(Ku)){const C=br.create("invalid-gtag-resource",{gtagURL:I});return An.warn(C.message),""}return I}function Qd(I){return Promise.all(I.map(C=>C.catch(M=>M)))}function Mo(){return(Mo=(0,P.Z)(function*(I,C,M,k,z,Z){const he=k[z];try{if(he)yield C[he];else{const ze=(yield Qd(M)).find(st=>st.measurementId===z);ze&&(yield C[ze.appId])}}catch(Ke){An.error(Ke)}I("config",z,Z)})).apply(this,arguments)}function Zu(){return(Zu=(0,P.Z)(function*(I,C,M,k,z){try{let Z=[];if(z&&z.send_to){let he=z.send_to;Array.isArray(he)||(he=[he]);const Ke=yield Qd(M);for(const ze of he){const st=Ke.find(Rt=>Rt.measurementId===ze),Nt=st&&C[st.appId];if(!Nt){Z=[];break}Z.push(Nt)}}0===Z.length&&(Z=Object.values(C)),yield Promise.all(Z),I("event",k,z||{})}catch(Z){An.error(Z)}})).apply(this,arguments)}const Gf=30,Xd=new class xo{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Gg(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function to(){return(to=(0,P.Z)(function*(I){var C;const{appId:M,apiKey:k}=I,z={method:"GET",headers:Gg(k)},Z=Si.replace("{app-id}",M),he=yield fetch(Z,z);if(200!==he.status&&304!==he.status){let Ke="";try{const ze=yield he.json();null!==(C=ze.error)&&void 0!==C&&C.message&&(Ke=ze.error.message)}catch{}throw br.create("config-fetch-failed",{httpStatus:he.status,responseMessage:Ke})}return he.json()})).apply(this,arguments)}function pu(){return(pu=(0,P.Z)(function*(I,C=Xd,M){const{appId:k,apiKey:z,measurementId:Z}=I.options;if(!k)throw br.create("no-app-id");if(!z){if(Z)return{measurementId:Z,appId:k};throw br.create("no-api-key")}const he=C.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new fl;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==M?M:Fr),Wf({appId:k,apiKey:z,measurementId:Z},he,Ke,C)})).apply(this,arguments)}function Wf(I,C,M){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,P.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:M},k,z=Xd){var Z;const{appId:he,measurementId:Ke}=I;try{yield function Wg(I,C){return new Promise((M,k)=>{const z=Math.max(C-Date.now(),0),Z=setTimeout(M,z);I.addEventListener(()=>{clearTimeout(Z),k(br.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(k,C)}catch(ze){if(Ke)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:he,measurementId:Ke};throw ze}try{const ze=yield function Jr(I){return to.apply(this,arguments)}(I);return z.deleteThrottleMetadata(he),ze}catch(ze){const st=ze;if(!function Yu(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(st)){if(z.deleteThrottleMetadata(he),Ke)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:he,measurementId:Ke};throw ze}const Nt=503===Number(null===(Z=st?.customData)||void 0===Z?void 0:Z.httpStatus)?(0,ne.$s)(M,z.intervalMillis,Gf):(0,ne.$s)(M,z.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+Nt,backoffCount:M+1};return z.setThrottleMetadata(he,Rt),An.debug(`Calling attemptFetch again in ${Nt} millis`),Wf(I,Rt,k,z)}}),Jd.apply(this,arguments)}class fl{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let gu,th;function eh(){return(eh=(0,P.Z)(function*(I,C,M,k,z){if(z&&z.global)I("event",M,k);else{const Z=yield C;I("event",M,Object.assign(Object.assign({},k),{send_to:Z}))}})).apply(this,arguments)}function Ju(){return(Ju=(0,P.Z)(function*(){if(!(0,ne.hl)())return An.warn(br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return An.warn(br.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function xs(){return xs=(0,P.Z)(function*(I,C,M,k,z,Z,he){var Ke;const ze=function On(I){return pu.apply(this,arguments)}(I);ze.then(Dn=>{M[Dn.measurementId]=Dn.appId,I.options.measurementId&&Dn.measurementId!==I.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>An.error(Dn)),C.push(ze);const st=function ml(){return Ju.apply(this,arguments)}().then(Dn=>{if(Dn)return k.getId()}),[Nt,Rt]=yield Promise.all([ze,st]);(function hl(I){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(Ku)&&M.src.includes(I))return M;return null})(Z)||function lu(I,C){const M=function cu(I,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(I,C)),M}("firebase-js-sdk-policy",{createScriptURL:uu}),k=document.createElement("script"),z=`${Ku}?l=${I}&id=${C}`;k.src=M?M?.createScriptURL(z):z,k.async=!0,document.head.appendChild(k)}(Z,Nt.measurementId),th&&(z("consent","default",th),function _a(I){th=I}(void 0)),z("js",new Date);const ei=null!==(Ke=he?.config)&&void 0!==Ke?Ke:{};return ei[qu]="firebase",ei.update=!0,null!=Rt&&(ei[Hg]=Rt),z("config",Nt.measurementId,ei),gu&&(z("set",gu),function Xu(I){gu=I}(void 0)),Nt.measurementId}),xs.apply(this,arguments)}class Tt{constructor(C){this.app=C}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},rh=[];const Ea={};let pi,Ui,ls="dataLayer",wa=!1;function yl(I,C,M){!function Bi(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((k,z)=>`(${z+1}) ${k}`).join(" "),M=br.create("invalid-analytics-context",{errorInfo:C});An.warn(M.message)}}();const k=I.options.appId;if(!k)throw br.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw br.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[k])throw br.create("already-exists",{id:k});if(!wa){!function dl(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(ls);const{wrappedGtag:Z,gtagCore:he}=function fu(I,C,M,k,z){let Z=function(...he){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(Z=window[z]),window[z]=function hu(I,C,M,k){function Z(){return Z=(0,P.Z)(function*(he,...Ke){try{if("event"===he){const[ze,st]=Ke;yield function us(I,C,M,k,z){return Zu.apply(this,arguments)}(I,C,M,ze,st)}else if("config"===he){const[ze,st]=Ke;yield function du(I,C,M,k,z,Z){return Mo.apply(this,arguments)}(I,C,M,k,ze,st)}else if("consent"===he){const[ze]=Ke;I("consent","update",ze)}else if("get"===he){const[ze,st,Nt]=Ke;I("get",ze,st,Nt)}else if("set"===he){const[ze]=Ke;I("set",ze)}else I(he,...Ke)}catch(ze){An.error(ze)}}),Z.apply(this,arguments)}return function z(he){return Z.apply(this,arguments)}}(Z,I,C,M),{gtagCore:Z,wrappedGtag:window[z]}}(Vr,rh,Ea,ls,"gtag");Ui=Z,pi=he,wa=!0}return Vr[k]=function nh(I,C,M,k,z,Z,he){return xs.apply(this,arguments)}(I,rh,Ea,C,pi,ls,M),new Tt(I)}function ec(){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Ns="@firebase/analytics";!function Po(){(0,X.Xd)(new fe.wA(Nn,(C,{options:M})=>yl(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,X.Xd)(new fe.wA("analytics-internal",function I(C){try{const M=C.getProvider(Nn).getImmediate();return{logEvent:(k,z,Z)=>function io(I,C,M,k){I=(0,ne.m9)(I),function Ro(I,C,M,k,z){return eh.apply(this,arguments)}(Ui,Vr[I.app.options.appId],C,M,k).catch(z=>An.error(z))}(M,k,z,Z)}}catch(M){throw br.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,X.KN)(Ns,"0.10.0"),(0,X.KN)(Ns,"0.10.0","esm2017")}();var $i=O(1954),Tr=O(2631);const sh=new class oo extends Tr.v{}(class Ai extends $i.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(C,M,k):(C.flush(this),0)}});var Mi=O(6321),Hi=O(9397),Pn=O(5137),Ur=O(3093);const rc=new g.GfV("7.6.1"),Os="__angularfire_symbol__analyticsIsSupportedValue",xi="__angularfire_symbol__analyticsIsSupported",oh="__angularfire_symbol__remoteConfigIsSupportedValue",ic="__angularfire_symbol__remoteConfigIsSupported",ko="__angularfire_symbol__messagingIsSupportedValue",Ft="__angularfire_symbol__messagingIsSupported";function mu(I,C,M){if(C){if(1===C.length)return C[0];const Z=C.filter(he=>he.app===M);if(1===Z.length)return Z[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[xi]||(globalThis[xi]=ec().then(I=>globalThis[Os]=I).catch(()=>globalThis[Os]=!1)),globalThis[Ft]||(globalThis[Ft]=Ne().then(I=>globalThis[ko]=I).catch(()=>globalThis[ko]=!1)),globalThis[ic]||(globalThis[ic]=To().then(I=>globalThis[oh]=I).catch(()=>globalThis[oh]=!1));const Ps=(I,C)=>{const M=C?[C]:(0,K.C6)(),k=[];return M.forEach(z=>{z.container.getProvider(I).instances.forEach(he=>{k.includes(he)||k.push(he)})}),k};function ao(){}class Hn{constructor(C,M=sh){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,k){const z=this.zone;return this.delegate.schedule(function(he){z.runGuarded(()=>{C.apply(this,[he])})},M,k)}}class uo{constructor(C){this.zone=C,this.task=null}call(C,M){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),M.pipe((0,Hi.b)({next:k,complete:k,error:k})).subscribe(C).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ba=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Hn(Zone.current)),this.insideAngular=M.run(()=>new Hn(Zone.current,Mi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(g.LFG(g.R0b))},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function co(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Fo(I){return co(),function uh(I){return function(M){return(M=M.lift(new uo(I.ngZone))).pipe((0,Pn.R)(I.outsideAngular),(0,Ur.Q)(I.insideAngular))}}(co())(I)}},9058:(dt,be,O)=>{O.d(be,{$s:()=>Ge,BH:()=>Y,G6:()=>nr,L:()=>ue,LL:()=>Me,Pz:()=>_e,Sg:()=>me,UG:()=>G,US:()=>fe,ZB:()=>ee,ZR:()=>Ie,aH:()=>se,b$:()=>Qt,eu:()=>de,hl:()=>ie,jU:()=>Ce,m9:()=>wt,ne:()=>fn,pd:()=>it,r3:()=>on,ru:()=>gt,tV:()=>L,uI:()=>re,vZ:()=>Vn,w1:()=>gn,xO:()=>wo,xb:()=>qr,z$:()=>Oe,zI:()=>pe,zd:()=>Qe});const X=function(U){const V=[];let q=0;for(let Se=0;Se<U.length;Se++){let ae=U.charCodeAt(Se);ae<128?V[q++]=ae:ae<2048?(V[q++]=ae>>6|192,V[q++]=63&ae|128):55296==(64512&ae)&&Se+1<U.length&&56320==(64512&U.charCodeAt(Se+1))?(ae=65536+((1023&ae)<<10)+(1023&U.charCodeAt(++Se)),V[q++]=ae>>18|240,V[q++]=ae>>12&63|128,V[q++]=ae>>6&63|128,V[q++]=63&ae|128):(V[q++]=ae>>12|224,V[q++]=ae>>6&63|128,V[q++]=63&ae|128)}return V},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let ae=0;ae<U.length;ae+=3){const ct=U[ae],Ct=ae+1<U.length,Ut=Ct?U[ae+1]:0,In=ae+2<U.length,yn=In?U[ae+2]:0;let Pr=(15&Ut)<<2|yn>>6,ts=63&yn;In||(ts=64,Ct||(Pr=64)),Se.push(q[ct>>2],q[(3&ct)<<4|Ut>>4],q[Pr],q[ts])}return Se.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(X(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let q=0,Se=0;for(;q<U.length;){const ae=U[q++];if(ae<128)V[Se++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const ct=U[q++];V[Se++]=String.fromCharCode((31&ae)<<6|63&ct)}else if(ae>239&&ae<365){const In=((7&ae)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;V[Se++]=String.fromCharCode(55296+(In>>10)),V[Se++]=String.fromCharCode(56320+(1023&In))}else{const ct=U[q++],Ct=U[q++];V[Se++]=String.fromCharCode((15&ae)<<12|(63&ct)<<6|63&Ct)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let ae=0;ae<U.length;){const ct=q[U.charAt(ae++)],Ut=ae<U.length?q[U.charAt(ae)]:0;++ae;const yn=ae<U.length?q[U.charAt(ae)]:64;++ae;const Zt=ae<U.length?q[U.charAt(ae)]:64;if(++ae,null==ct||null==Ut||null==yn||null==Zt)throw new ye;Se.push(ct<<2|Ut>>4),64!==yn&&(Se.push(Ut<<4&240|yn>>2),64!==Zt&&Se.push(yn<<6&192|Zt))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ue=function(U){return function(U){const V=X(U);return fe.encodeByteArray(V,!0)}(U).replace(/\./g,"")},L=function(U){try{return fe.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function ee(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!Be(q)||(U[q]=ee(U[q],V[q]));return U}function Be(U){return"__proto__"!==U}const ke=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&L(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},se=()=>{var U;return null===(U=ke())||void 0===U?void 0:U.config},_e=U=>{var V;return null===(V=ke())||void 0===V?void 0:V[`_${U}`]};class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,Se)=>{q?this.reject(q):this.resolve(Se),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,Se))}}}function me(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=V||"demo-project",ae=U.iat||0,ct=U.sub||U.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:ae,exp:ae+3600,auth_time:ae,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ct)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function G(){var U;const V=null===(U=ke())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ce(){return"object"==typeof self&&self.self===self}function gt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gn(){const U=Oe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function nr(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((U,V)=>{try{let q=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Se);ae.onsuccess=()=>{ae.result.close(),q||self.indexedDB.deleteDatabase(Se),U(!0)},ae.onupgradeneeded=()=>{q=!1},ae.onerror=()=>{var ct;V((null===(ct=ae.error)||void 0===ct?void 0:ct.message)||"")}}catch(q){V(q)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ie extends Error{constructor(V,q,Se){super(q),this.code=V,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}}class Me{constructor(V,q,Se){this.service=V,this.serviceName=q,this.errors=Se}create(V,...q){const Se=q[0]||{},ae=`${this.service}/${V}`,ct=this.errors[V],Ct=ct?function Ze(U,V){return U.replace(nt,(q,Se)=>{const ae=V[Se];return null!=ae?String(ae):`<${Se}?>`})}(ct,Se):"Error";return new Ie(ae,`${this.serviceName}: ${Ct} (${ae}).`,Se)}}const nt=/\{\$([^}]+)}/g;function on(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function qr(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function Vn(U,V){if(U===V)return!0;const q=Object.keys(U),Se=Object.keys(V);for(const ae of q){if(!Se.includes(ae))return!1;const ct=U[ae],Ct=V[ae];if(Kr(ct)&&Kr(Ct)){if(!Vn(ct,Ct))return!1}else if(ct!==Ct)return!1}for(const ae of Se)if(!q.includes(ae))return!1;return!0}function Kr(U){return null!==U&&"object"==typeof U}function wo(U){const V=[];for(const[q,Se]of Object.entries(U))Array.isArray(Se)?Se.forEach(ae=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(ae))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(Se));return V.length?"&"+V.join("&"):""}function Qe(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[ae,ct]=Se.split("=");V[decodeURIComponent(ae)]=decodeURIComponent(ct)}}),V}function it(U){const V=U.indexOf("?");if(!V)return"";const q=U.indexOf("#",V);return U.substring(V,q>0?q:void 0)}function fn(U,V){const q=new wn(U,V);return q.subscribe.bind(q)}class wn{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(Se=>{this.error(Se)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,Se){let ae;if(void 0===V&&void 0===q&&void 0===Se)throw new Error("Missing Observer.");ae=function Xt(U,V){if("object"!=typeof U||null===U)return!1;for(const q of V)if(q in U&&"function"==typeof U[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:Se},void 0===ae.next&&(ae.next=xn),void 0===ae.error&&(ae.error=xn),void 0===ae.complete&&(ae.complete=xn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch{}}),this.observers.push(ae),ct}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(Se){typeof console<"u"&&console.error&&console.error(Se)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const wi=1e3,ge=2,$=144e5,le=.5;function Ge(U,V=wi,q=ge){const Se=V*Math.pow(q,U),ae=Math.round(le*Se*(Math.random()-.5)*2);return Math.min($,Se+ae)}function wt(U){return U&&U._delegate?U._delegate:U}},4359:(dt,be,O)=>{var g=O(5879);let K=null;function P(){return K}class ne{}const fe=new g.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(ue)},providedIn:"platform"}),n})();const Re=new g.OlP("Location Initialized");let ue=(()=>{class n extends ye{constructor(){super(),this._doc=(0,g.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function L(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function B(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ee(n){return n&&"?"!==n[0]?"?"+n:n}let Be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(We)},providedIn:"root"}),n})();const Ae=new g.OlP("appBaseHref");let We=(()=>{class n extends Be{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return L(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ee(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+ee(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+ee(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ye),g.LFG(Ae,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Le=(()=>{class n extends Be{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=L(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+ee(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+ee(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ye),g.LFG(Ae,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function se(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(B(ft(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ee(r))}normalize(t){return n.stripTrailingSlash(function ht(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ee(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ee(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=ee,n.joinWithSlash=L,n.stripTrailingSlash=B,n.\u0275fac=function(t){return new(t||n)(g.LFG(Be))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function ke(){return new qe((0,g.LFG)(Be))}()},providedIn:"root"}),n})();function ft(n){return n.replace(/\/index.html$/,"")}function Vu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let ta=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.s_b),g.Y36(g.Rgc))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lg{constructor(){this.$implicit=null,this.ngIf=null}}function xf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,g.AaK)(e)}'.`)}let Di=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function bo(n){return"server"===n}let rs=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new Qr((0,g.LFG)(fe),window)}),n})();class Qr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function To(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ci(this.window.history)||Ci(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ci(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sr{}class ga extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Dr extends ga{static makeCurrent(){!function X(n){K||(K=n)}(new Dr)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Gd(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}();return null==t?null:function Ti(n){Ms=Ms||document.createElement("a"),Ms.setAttribute("href",n);const e=Ms.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vu(document.cookie,e)}}let Ms,ma=null,Wd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const rl=new g.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(rl),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class qd{constructor(e){this._doc=e}}const il="ng-app-id";let Gu=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bo(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${il}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(il),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(il,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const sl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xs=/%COMP%/g,$f=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function al(n,e){return e.map(t=>t.replace(Xs,n))}let ki=(()=>{class n{constructor(t,r,o,u,l,m,E,b=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=m,this.ngZone=E,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=bo(m),this.defaultRenderer=new ya(t,l,E,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===g.ifc.ShadowDom&&(r={...r,encapsulation:g.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof Gt?o.applyToHost(t):o instanceof Ne&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,m=this.ngZone,E=this.eventManager,b=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(r.encapsulation){case g.ifc.Emulated:u=new Gt(E,b,r,this.appId,A,l,m,N);break;case g.ifc.ShadowDom:return new zf(E,b,t,r,l,m,this.nonce,N);default:u=new Ne(E,b,r,A,l,m,N)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(as),g.LFG(Gu),g.LFG(g.AFp),g.LFG($f),g.LFG(fe),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class ya{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sl[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(cl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(cl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new g.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=sl[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=sl[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,o&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function cl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zf extends ya{constructor(e,t,r,o,u,l,m,E){super(e,u,l,E),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=al(o.id,o.styles);for(const A of b){const N=document.createElement("style");m&&N.setAttribute("nonce",m),N.textContent=A,this.shadowRoot.appendChild(N)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends ya{constructor(e,t,r,o,u,l,m,E){super(e,u,l,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.rendererUsageCount=0,this.styles=E?al(E,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Gt extends Ne{constructor(e,t,r,o,u,l,m,E){const b=o+"-"+r.id;super(e,t,r,u,l,m,E,b),this.contentAttr=function Zd(n){return"_ngcontent-%COMP%".replace(Xs,n)}(b),this.hostAttr=function Hf(n){return"_nghost-%COMP%".replace(Xs,n)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let $g=(()=>{class n extends qd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ao=["alt","control","meta","shift"],Cr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wu=(()=>{class n extends qd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Ao.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const E={};return E.domEventName=o,E.fullKey=l,E}static matchEventFullKeyCode(t,r){let o=Cr[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ao.forEach(l=>{l!==o&&(0,eo[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ku=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Hg(){Dr.makeCurrent()},multi:!0},{provide:fe,useFactory:function Fr(){return(0,g.RDi)(document),document},deps:[]}]),An=new g.OlP(""),Li=[{provide:g.rWj,useClass:class jg{addToWindow(e){g.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new g.vHH(5103,!1);return u},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const o=g.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(E){l=l||E,u--,0==u&&r(l)};o.forEach(E=>{E.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],br=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function qu(){return new g.qLn},deps:[]},{provide:rl,useClass:$g,multi:!0,deps:[fe,g.R0b,g.Lbi]},{provide:rl,useClass:Wu,multi:!0,deps:[fe]},ki,Gu,as,{provide:g.FYo,useExisting:ki},{provide:sr,useClass:Wd,deps:[]},[]];let uu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(An,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...br,...Li],imports:[Di,g.hGG]}),n})(),du=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function dl(){return new du((0,g.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Vi=O(5592),cs=O(4674),Jt=O(2459),mt=O(2096),Lr=O(5619);const{isArray:th}=Array,{getPrototypeOf:_a,prototype:Xu,keys:ml}=Object;function Ju(n){if(1===n.length){const e=n[0];if(th(e))return{args:e,keys:null};if(function nh(n){return n&&"object"==typeof n&&_a(n)===Xu}(e)){const t=ml(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var xs=O(2737),Tt=O(7398);const{isArray:Vr}=Array;function Ea(n){return(0,Tt.U)(e=>function rh(n,e){return Vr(e)?n(...e):n(e)}(n,e))}var ls=O(4564);function no(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var pi=O(8251),Ui=O(7103);function wa(...n){const e=(0,ls.yG)(n),t=(0,ls.jO)(n),{args:r,keys:o}=Ju(n);if(0===r.length)return(0,Jt.D)([],e);const u=new Vi.y(function ih(n,e,t=xs.y){return r=>{Bi(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let E=0;E<o;E++)Bi(e,()=>{const b=(0,Jt.D)(n[E],e);let A=!1;b.subscribe((0,pi.x)(r,N=>{u[E]=N,A||(A=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>no(o,l):xs.y));return t?u.pipe(Ea(t)):u}function Bi(n,e,t){n?(0,Ui.f)(t,n,e):e()}const Ia=(0,O(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rs=O(7537);function No(...n){return function ec(){return(0,Rs.J)(1)}()((0,Jt.D)(n,(0,ls.yG)(n)))}var ro=O(4829);function Kf(n){return new Vi.y(e=>{(0,ro.Xf)(n()).subscribe(e)})}var tc=O(8407);function Oo(n,e){const t=(0,cs.m)(n)?n:()=>n,r=o=>o.error(t());return new Vi.y(e?o=>e.schedule(r,0,o):r)}var ds=O(6232),nc=O(7394),ji=O(9360);function io(){return(0,ji.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class so extends Vi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ji.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nc.w0.EMPTY)}return e}refCount(){return io()(this)}}var Ns=O(8645),Zn=O(4664);function Po(n){return n<=0?()=>ds.E:(0,ji.e)((e,t)=>{let r=0;e.subscribe((0,pi.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function $i(...n){const e=(0,ls.yG)(n);return(0,ji.e)((t,r)=>{(e?No(n,t,e):No(n,t)).subscribe(r)})}function Ai(n,e){return(0,ji.e)((t,r)=>{let o=0;t.subscribe((0,pi.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Tr=O(1631);function oo(n){return(0,ji.e)((e,t)=>{let r=!1;e.subscribe((0,pi.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function sh(n=Zf){return(0,ji.e)((e,t)=>{let r=!1;e.subscribe((0,pi.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Zf(){return new Ia}function Mi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((o,u)=>n(o,u,r)):xs.y,Po(1),t?oo(e):sh(()=>new Ia))}function Hi(n,e){return(0,cs.m)(e)?(0,Tr.z)(n,e,1):(0,Tr.z)(n,1)}var Pn=O(9397);function Ur(n){return(0,ji.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,pi.x)(t,void 0,void 0,l=>{u=(0,ro.Xf)(n(l,Ur(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Os(n,e){return(0,ji.e)(function rc(n,e,t,r,o){return(u,l)=>{let m=t,E=e,b=0;u.subscribe((0,pi.x)(l,A=>{const N=b++;E=m?n(E,A,N):(m=!0,A),r&&l.next(E)},o&&(()=>{m&&l.next(E),l.complete()})))}}(n,e,arguments.length>=2,!0))}function xi(n){return n<=0?()=>ds.E:(0,ji.e)((e,t)=>{let r=[];e.subscribe((0,pi.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ko(n){return(0,ji.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ft="primary",Da=Symbol("RouteTitle");class qg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ca(n){return new qg(n)}function Nv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ps(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!ao(n[o],e[o]))return!1;return!0}function ao(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Hn(n){return n.length>0?n[n.length-1]:null}function uo(n){return function qf(n){return!!n&&(n instanceof Vi.y||(0,cs.m)(n.lift)&&(0,cs.m)(n.subscribe))}(n)?n:(0,g.QGY)(n)?(0,Jt.D)(Promise.resolve(n)):(0,mt.of)(n)}const ba={exact:function ah(n,e,t){if(!k(n.segments,e.segments)||!_l(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ah(n.children[r],e.children[r],t))return!1;return!0},subset:Fo},co={exact:function zi(n,e){return Ps(n,e)},subset:function vl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ao(n[t],e[t]))},ignored:()=>!0};function Sr(n,e,t){return ba[t.paths](n.root,e.root,t.matrixParams)&&co[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Fo(n,e,t){return uh(n,e,e.segments,t)}function uh(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!k(o,t)||e.hasChildren()||!_l(o,t,r))}if(n.segments.length===t.length){if(!k(n.segments,t)||!_l(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Fo(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(k(n.segments,o)&&_l(n.segments,o,r)&&n.children[Ft])&&uh(n.children[Ft],e,u,r)}}function _l(n,e,t){return e.every((r,o)=>co[t](n[o].parameters,r.parameters))}class yu{constructor(e=new I([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ca(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class I{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ze(this)}}class C{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ca(this.parameters)),this._parameterMap}toString(){return lo(this)}}function k(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new he},providedIn:"root"}),n})();class he{parse(e){const t=new Zg(e);return new yu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${st(e.root,!0)}`,r=function Fs(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Rt(t)}=${Rt(o)}`).join("&"):`${Rt(t)}=${Rt(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ei(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ke=new he;function ze(n){return n.segments.map(e=>lo(e)).join("/")}function st(n,e){if(!n.hasChildren())return ze(n);if(e){const t=n.children[Ft]?st(n.children[Ft],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==Ft&&r.push(`${o}:${st(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function z(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Ft&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Ft&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Ft?[st(n.children[Ft],!1)]:[`${o}:${st(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${ze(n)}/${t[0]}`:`${ze(n)}/(${t.join("//")})`}}function Nt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rt(n){return Nt(n).replace(/%3B/gi,";")}function Dn(n){return Nt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ks(n){return decodeURIComponent(n)}function Lo(n){return ks(n.replace(/\+/g,"%20"))}function lo(n){return`${Dn(n.path)}${function ti(n){return Object.keys(n).map(e=>`;${Dn(e)}=${Dn(n[e])}`).join("")}(n.parameters)}`}const El=/^[^\/()?;#]+/;function vu(n){const e=n.match(El);return e?e[0]:""}const ch=/^[^\/()?;=#]+/,Yf=/^[^=?&#]+/,Vo=/^[^&#]+/;class Zg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new I([],{}):new I([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new I(e,t)),r}parseSegment(){const e=vu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(e),new C(ks(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Ov(n){const e=n.match(ch);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=vu(this.remaining);o&&(r=o,this.capture(r))}e[ks(t)]=ks(r)}parseQueryParam(e){const t=function Kg(n){const e=n.match(Yf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function sc(n){const e=n.match(Vo);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=Lo(t),u=Lo(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vu(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new g.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Ft]:new I([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new g.vHH(4011,!1)}}function Pv(n){return n.segments.length>0?new I([],{[Ft]:n}):n}function Qf(n){const e={};for(const r of Object.keys(n.children)){const u=Qf(n.children[r]);if(r===Ft&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function kv(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new I(n.segments.concat(e.segments),e.children)}return n}(new I(n.segments,e))}function oc(n){return n instanceof yu}function Xf(n){let e;const o=Pv(function t(u){const l={};for(const E of u.children){const b=t(E);l[E.outlet]=b}const m=new I(u.url,l);return u===n&&(e=m),m}(n.root));return e??o}function Yg(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return Jf(o,o,o,t,r);const u=function Qg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tp(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([E,b])=>{m[E]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new tp(t,e,r)}(e);if(u.toRoot())return Jf(o,o,new I([],{}),t,r);const l=function Lv(n,e,t){if(n.isAbsolute)return new wl(e,!0,0);if(!t)return new wl(e,!1,NaN);if(null===t.parent)return new wl(t,!0,0);const r=ac(n.commands[0])?0:1;return function Vv(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new g.vHH(4005,!1);o=r.segments.length}return new wl(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),m=l.processChildren?lh(l.segmentGroup,l.index,u.commands):Uv(l.segmentGroup,l.index,u.commands);return Jf(o,l.segmentGroup,m,t,r)}function ac(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hs(n){return"object"==typeof n&&null!=n&&n.outlets}function Jf(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([E,b])=>{u[E]=Array.isArray(b)?b.map(A=>`${A}`):`${b}`}),l=n===e?t:ep(n,e,t);const m=Pv(Qf(l));return new yu(m,u,o)}function ep(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:ep(u,e,t)}),new I(n.segments,r)}class tp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ac(r[0]))throw new g.vHH(4003,!1);const o=r.find(hs);if(o&&o!==Hn(r))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uv(n,e,t){if(n||(n=new I([],{})),0===n.segments.length&&n.hasChildren())return lh(n,e,t);const r=function Dl(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if(hs(m))break;const E=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&b&&"object"==typeof b&&void 0===b.outlets){if(!jv(E,b,l))return u;r+=2}else{if(!jv(E,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new I(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new I(n.segments.slice(r.pathIndex),n.children),lh(u,0,o)}return r.match&&0===o.length?new I(n.segments,{}):r.match&&!n.hasChildren()?Xg(n,e,t):r.match?lh(n,0,o):Xg(n,e,t)}function lh(n,e,t){if(0===t.length)return new I(n.segments,{});{const r=function Il(n){return hs(n[0])?n[0].outlets:{[Ft]:n}}(t),o={};if(!r[Ft]&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const u=lh(n.children[Ft],e,t);return new I(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=Uv(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new I(n.segments,o)}}function Xg(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(hs(u)){const E=n0(u.outlets);return new I(r,E)}if(0===o&&ac(t[0])){r.push(new C(n.segments[e].path,Bv(t[0]))),o++;continue}const l=hs(u)?u.outlets[Ft]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&ac(m)?(r.push(new C(l,Bv(m))),o+=2):(r.push(new C(l,{})),o++)}return new I(r,{})}function n0(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Xg(new I([],{}),0,r))}),e}function Bv(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jv(n,e,t){return n==t.path&&Ps(e,t.parameters)}const dh="imperative";class Ls{constructor(e,t){this.id=e,this.url=t}}class Ta extends Ls{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uo extends Ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cl extends Ls{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sa extends Ls{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class uc extends Ls{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cc extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jg extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bl extends Ls{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hh extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fh extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class em{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $v{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hv{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nm{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dc,this.attachRef=null}}let dc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new nm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ni(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return ni(e,this._root).map(t=>t.value)}}function rp(n,e){if(n===e.value)return e;for(const t of e.children){const r=rp(n,t);if(r)return r}return null}function ni(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ni(n,t);if(r.length)return r.unshift(e),r}return[]}class fs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class hc extends rm{constructor(e,t){super(e),this.snapshot=t,ph(this,e)}toString(){return this.snapshot.toString()}}function Ar(n,e){const t=function Tl(n,e){const l=new $o([],{},{},"",{},Ft,e,null,{});return new sp("",new fs(l,[]))}(0,e),r=new Lr.X([new C("",{})]),o=new Lr.X({}),u=new Lr.X({}),l=new Lr.X({}),m=new Lr.X(""),E=new jo(r,o,l,m,u,Ft,e,t.root);return E.snapshot=t.root,new hc(new fs(E,[]),t)}class jo{constructor(e,t,r,o,u,l,m,E){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=E,this.title=this.dataSubject?.pipe((0,Tt.U)(b=>b[Da]))??(0,mt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>Ca(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>Ca(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ip(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Gi(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $o{get title(){return this.data?.[Da]}constructor(e,t,r,o,u,l,m,E,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=E,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ca(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ca(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sp extends rm{constructor(e,t){super(t),this.url=e,ph(this,t)}toString(){return gh(this._root)}}function ph(n,e){e.value._routerState=n,e.children.forEach(t=>ph(n,t))}function gh(n){const e=n.children.length>0?` { ${n.children.map(gh).join(", ")} } `:"";return`${n.value}${e}`}function fc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ps(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ps(e.params,t.params)||n.paramsSubject.next(t.params),function mu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ps(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function op(n,e){const t=Ps(n.params,e.params)&&function M(n,e){return k(n,e)&&n.every((t,r)=>Ps(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||op(n.parent,e.parent))}let ap=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(dc),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(Wi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new up(t,m,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:E,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),n})();class up{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===jo?this.route:e===dc?this.childContexts:this.parent.get(e,t)}}const Wi=new g.OlP("");let cp=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=wa([r.queryParams,r.params,r.data]).pipe((0,Zn.w)(([u,l,m],E)=>(m={...u,...l,...m},0===E?(0,mt.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,g.qFp)(r.component);if(l)for(const{templateName:m}of l.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Al(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function zv(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Al(n,r,o);return Al(n,r)})}(n,e,t);return new fs(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>Al(n,m)),l}}const r=function lp(n){return new jo(new Lr.X(n.url),new Lr.X(n.params),new Lr.X(n.queryParams),new Lr.X(n.fragment),new Lr.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Al(n,u));return new fs(r,o)}}const Br="ngNavigationCancelingError";function Ml(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=oc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Ho(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Ho(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Br]=!0,r.cancellationCode=e,t&&(r.url=t),r}function xl(n){return Vs(n)&&oc(n.url)}function Vs(n){return n&&n[Br]}let Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[ap],encapsulation:2}),n})();function h(n){const e=n.children&&n.children.map(h),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Aa),t}function p(n){return n.outlet||Ft}function T(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class J{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Bo(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Bo(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Bo(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Bo(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new np(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Hv(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(fc(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),fc(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=T(o.snapshot);l.attachRef=null,l.route=o,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Ve{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class He{constructor(e,t){this.component=e,this.route=t}}function rt(n,e,t){const r=n._root;return gi(r,e?e._root:null,t,[r.value])}function ln(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,g.Z0I)(n)?e.get(n):n:r}function gi(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Bo(e);return n.children.forEach(l=>{(function Nl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const E=function dp(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!k(n.url,e.url);case"pathParamsOrQueryParamsChange":return!k(n.url,e.url)||!Ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!op(n,e)||!Ps(n.queryParams,e.queryParams);default:return!op(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Ve(r)):(u.data=l.data,u._resolvedData=l._resolvedData),gi(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new He(m.outlet.component,l))}else l&&Ma(e,m,o),o.canActivateChecks.push(new Ve(r)),gi(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>Ma(m,t.getContext(l),o)),o}function Ma(n,e,t){const r=Bo(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Ma(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new He(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function xa(n){return"function"==typeof n}function mc(n){return n instanceof Ia||"EmptyError"===n?.name}const om=Symbol("INITIAL_VALUE");function Fl(){return(0,Zn.w)(n=>wa(n.map(e=>e.pipe(Po(1),$i(om)))).pipe((0,Tt.U)(e=>{for(const t of e)if(!0!==t){if(t===om)return om;if(!1===t||t instanceof yu)return t}return!0}),Ai(e=>e!==om),Po(1)))}function l0(n){return(0,tc.z)((0,Pn.b)(e=>{if(oc(e))throw Ml(0,e)}),(0,Tt.U)(e=>!0===e))}class um{constructor(e){this.segmentGroup=e||null}}class cm{constructor(e){this.urlTree=e}}function yh(n){return Oo(new um(n))}function vh(n){return Oo(new cm(n))}class d0{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new g.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,mt.of)(r);if(o.numberOfChildren>1||!o.children[Ft])return Oo(new g.vHH(4e3,!1));o=o.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new yu(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[o]=t[m]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([m,E])=>{l[m]=this.createSegmentGroup(e,E,r,o)}),new I(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new g.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const dm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h0(n,e,t,r,o){const u=hm(n,e,t);return u.matched?(r=function Rl(n,e){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Sx(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,mt.of)(!0);const u=o.map(l=>{const m=ln(l,n);return uo(function Pl(n){return n&&xa(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,mt.of)(u).pipe(Fl(),l0())}(r,e,t).pipe((0,Tt.U)(l=>!0===l?u:{...dm}))):(0,mt.of)(u)}function hm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Nv)(t,n,e);if(!o)return{...dm};const u={};Object.entries(o.posParams??{}).forEach(([m,E])=>{u[m]=E.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function f0(n,e,t,r){return t.length>0&&function Sb(n,e,t){return t.some(r=>zo(n,e,r)&&p(r)!==Ft)}(n,t,r)?{segmentGroup:new I(e,Tb(r,new I(t,n.children))),slicedSegments:[]}:0===t.length&&function Ab(n,e,t){return t.some(r=>zo(n,e,r))}(n,t,r)?{segmentGroup:new I(n.segments,bb(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new I(n.segments,n.children),slicedSegments:t}}function bb(n,e,t,r,o){const u={};for(const l of r)if(zo(n,t,l)&&!o[p(l)]){const m=new I([],{});u[p(l)]=m}return{...o,...u}}function Tb(n,e){const t={};t[Ft]=e;for(const r of n)if(""===r.path&&p(r)!==Ft){const o=new I([],{});t[p(r)]=o}return t}function zo(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Mx{constructor(e,t,r,o,u,l,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new d0(this.urlSerializer,this.urlTree)}noMatchError(e){return new g.vHH(4002,!1)}recognize(){const e=f0(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe(Ur(t=>{if(t instanceof cm)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof um?this.noMatchError(t):t}),(0,Tt.U)(t=>{const r=new $o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),o=new fs(r,t),u=new sp("",o),l=function Fv(n,e,t=null,r=null){return Yg(Xf(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ft).pipe(Ur(r=>{throw r instanceof um?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ip(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Jt.D)(o).pipe(Hi(u=>{const l=r.children[u],m=function _(n,e){const t=n.filter(r=>p(r)===e);return t.push(...n.filter(r=>p(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,l,u)}),Os((u,l)=>(u.push(...l),u)),oo(null),function oh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ai((o,u)=>n(o,u,r)):xs.y,xi(1),t?oo(e):sh(()=>new Ia))}(),(0,Tr.z)(u=>{if(null===u)return yh(r);const l=xb(u);return function xx(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,mt.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,Jt.D)(t).pipe(Hi(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,u,l).pipe(Ur(E=>{if(E instanceof um)return(0,mt.of)(null);throw E}))),Mi(m=>!!m),Ur(m=>{if(mc(m))return function Mb(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,mt.of)([]):yh(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,u,l,m){return function pp(n,e,t,r){return!!(p(n)===r||r!==Ft&&zo(e,t,n))&&("**"===n.path||hm(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):yh(o):yh(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vh(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Tr.z)(l=>{const m=new I(l,{});return this.processSegment(e,t,m,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:E,remainingSegments:b,positionalParamSegments:A}=hm(t,o,u);if(!m)return yh(t);const N=this.applyRedirects.applyRedirectCommands(E,o.redirectTo,A);return o.redirectTo.startsWith("/")?vh(N):this.applyRedirects.lineralizeSegments(o,N).pipe((0,Tr.z)(H=>this.processSegment(e,r,t,H.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let m;if("**"===r.path){const E=o.length>0?Hn(o).parameters:{},b=new $o(o,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p0(r),p(r),r.component??r._loadedComponent??null,r,g0(r));m=(0,mt.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=h0(t,r,o,e).pipe((0,Tt.U)(({matched:E,consumedSegments:b,remainingSegments:A,parameters:N})=>E?{snapshot:new $o(b,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p0(r),p(r),r.component??r._loadedComponent??null,r,g0(r)),consumedSegments:b,remainingSegments:A}:null));return m.pipe((0,Zn.w)(E=>null===E?yh(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,Zn.w)(({routes:b})=>{const A=r._loadedInjector??e,{snapshot:N,consumedSegments:H,remainingSegments:te}=E,{segmentGroup:Ee,slicedSegments:Te}=f0(t,H,te,b);if(0===Te.length&&Ee.hasChildren())return this.processChildren(A,b,Ee).pipe((0,Tt.U)(lt=>null===lt?null:[new fs(N,lt)]));if(0===b.length&&0===Te.length)return(0,mt.of)([new fs(N,[])]);const Pe=p(r)===u;return this.processSegment(A,b,Ee,Te,Pe?Ft:u,!0).pipe((0,Tt.U)(lt=>[new fs(N,lt)]))}))))}getChildConfig(e,t,r){return t.children?(0,mt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,mt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Cb(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,mt.of)(!0);const u=o.map(l=>{const m=ln(l,n);return uo(function pc(n){return n&&xa(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,mt.of)(u).pipe(Fl(),l0())}(e,t,r).pipe((0,Tr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Pn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Zv(n){return Oo(Ho(!1,3))}())):(0,mt.of)({routes:[],injector:e})}}function Rx(n){const e=n.value.routeConfig;return e&&""===e.path}function xb(n){const e=[],t=new Set;for(const r of n){if(!Rx(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=xb(r.children);e.push(new fs(r.value,o))}return e.filter(r=>!t.has(r))}function p0(n){return n.data||{}}function g0(n){return n.resolve||{}}function Qv(n){return"string"==typeof n.title||null===n.title}function fm(n){return(0,Zn.w)(e=>{const t=n(e);return t?(0,Jt.D)(t).pipe((0,Tt.U)(()=>e)):(0,mt.of)(e)})}const mp=new g.OlP("ROUTES");let y0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,mt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=uo(t.loadComponent()).pipe((0,Tt.U)(pm),(0,Pn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ko(()=>{this.componentLoaders.delete(t)})),o=new so(r,()=>new Ns.x).pipe(io());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,mt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Tt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,b;return Array.isArray(m)?b=m:(E=m.create(t).injector,b=E.get(mp,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:b.map(h),injector:E}}),ko(()=>{this.childrenLoaders.delete(r)})),l=new so(u,()=>new Ns.x).pipe(io());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return uo(t()).pipe((0,Tt.U)(pm),(0,Tr.z)(r=>r instanceof g.YKP||Array.isArray(r)?(0,mt.of)(r):(0,Jt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pm(n){return function Nx(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _h=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ns.x,this.configLoader=(0,g.f3M)(y0),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(Z),this.rootContexts=(0,g.f3M)(dc),this.inputBindingEnabled=null!==(0,g.f3M)(Wi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,mt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new em(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ho(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Lr.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(r=>0!==r.id),(0,Tt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Zn.w)(r=>{let o=!1,u=!1;return(0,mt.of)(r).pipe((0,Pn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Zn.w)(l=>{const m=t.browserUrlTree.toString(),E=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!E&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new Sa(l.id,t.serializeUrl(r.rawUrl),A,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ds.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Pb(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,mt.of)(l).pipe((0,Zn.w)(A=>{const N=this.transitions?.getValue();return this.events.next(new Ta(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),N!==this.transitions?.getValue()?ds.E:Promise.resolve(A)}),function Nb(n,e,t,r,o,u){return(0,Tr.z)(l=>function Ax(n,e,t,r,o,u,l="emptyOnly"){return new Mx(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,Tt.U)(({state:m,tree:E})=>({...l,targetSnapshot:m,urlAfterRedirects:E}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Pn.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,r.urlAfterRedirects=A.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!A.extras.skipLocationChange){const H=t.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);t.setBrowserUrl(H,A)}t.browserUrlTree=A.urlAfterRedirects}const N=new cc(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(N)}));if(E&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:A,extractedUrl:N,source:H,restoredState:te,extras:Ee}=l,Te=new Ta(A,this.urlSerializer.serialize(N),H,te);this.events.next(Te);const Pe=Ar(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:Pe,urlAfterRedirects:N,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}},(0,mt.of)(r)}{const A="";return this.events.next(new Sa(l.id,t.serializeUrl(r.extractedUrl),A,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ds.E}}),(0,Pn.b)(l=>{const m=new Jg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,Tt.U)(l=>r={...l,guards:rt(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function wb(n,e){return(0,Tr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,mt.of)({...t,guardsResult:!0}):function Ib(n,e,t,r){return(0,Jt.D)(n).pipe((0,Tr.z)(o=>function mh(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,mt.of)(!0);const l=u.map(m=>{const E=T(e)??o,b=ln(m,E);return uo(function Ol(n){return n&&xa(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):E.runInContext(()=>b(n,e,t,r))).pipe(Mi())});return(0,mt.of)(l).pipe(Fl())}(o.component,o.route,t,e,r)),Mi(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Tr.z)(m=>m&&function hp(n){return"boolean"==typeof n}(m)?function Db(n,e,t,r){return(0,Jt.D)(e).pipe(Hi(o=>No(function c0(n,e){return null!==n&&e&&e(new $v(n)),(0,mt.of)(!0)}(o.route.parent,r),function u0(n,e){return null!==n&&e&&e(new tm(n)),(0,mt.of)(!0)}(o.route,r),function Kv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function at(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Kf(()=>{const m=l.guards.map(E=>{const b=T(l.node)??t,A=ln(E,b);return uo(function fp(n){return n&&xa(n.canActivateChild)}(A)?A.canActivateChild(r,n):b.runInContext(()=>A(r,n))).pipe(Mi())});return(0,mt.of)(m).pipe(Fl())}));return(0,mt.of)(u).pipe(Fl())}(n,o.path,t),function am(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,mt.of)(!0);const o=r.map(u=>Kf(()=>{const l=T(e)??t,m=ln(u,l);return uo(function gc(n){return n&&xa(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Mi())}));return(0,mt.of)(o).pipe(Fl())}(n,o.route,t))),Mi(o=>!0!==o,!0))}(r,u,n,e):(0,mt.of)(m)),(0,Tt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Pn.b)(l=>{if(r.guardsResult=l.guardsResult,oc(l.guardsResult))throw Ml(0,l.guardsResult);const m=new bl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),Ai(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),fm(l=>{if(l.guards.canActivateChecks.length)return(0,mt.of)(l).pipe((0,Pn.b)(m=>{const E=new hh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}),(0,Zn.w)(m=>{let E=!1;return(0,mt.of)(m).pipe(function Ob(n,e){return(0,Tr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,mt.of)(t);let u=0;return(0,Jt.D)(o).pipe(Hi(l=>function Yv(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Qv(o)&&(u[Da]=o.title),function _u(n,e,t,r){const o=function gp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,mt.of)({});const u={};return(0,Jt.D)(o).pipe((0,Tr.z)(l=>function m0(n,e,t,r){const o=T(e)??r,u=ln(n,o);return uo(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Mi(),(0,Pn.b)(m=>{u[l]=m}))),xi(1),function ic(n){return(0,Tt.U)(()=>n)}(u),Ur(l=>mc(l)?ds.E:Oo(l)))}(u,n,e,r).pipe((0,Tt.U)(l=>(n._resolvedData=l,n.data=ip(n,t).resolve,o&&Qv(o)&&(n.data[Da]=o.title),null)))}(l.route,r,n,e)),(0,Pn.b)(()=>u++),xi(1),(0,Tr.z)(l=>u===o.length?(0,mt.of)(t):ds.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Pn.b)({next:()=>E=!0,complete:()=>{E||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Pn.b)(m=>{const E=new fh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}))}),fm(l=>{const m=E=>{const b=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Pn.b)(A=>{E.component=A}),(0,Tt.U)(()=>{})));for(const A of E.children)b.push(...m(A));return b};return wa(m(l.targetSnapshot.root)).pipe(oo(),Po(1))}),fm(()=>this.afterPreactivation()),(0,Tt.U)(l=>{const m=function Sl(n,e,t){const r=Al(n,e._root,t?t._root:void 0);return new hc(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,Pn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,Tt.U)(o=>(new J(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Po(1),(0,Pn.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Uo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ko(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ur(l=>{if(u=!0,Vs(l)){xl(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Cl(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),xl(l)){const E=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Pb(r.source)};t.scheduleNavigation(E,dh,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new uc(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(E){r.reject(E)}}return ds.E}))}))}cancelNavigationTransition(t,r,o){const u=new Cl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pb(n){return n!==dh}let kb=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ft);return r}getResolvedTitleForRoute(t){return t.data[Da]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(v0)},providedIn:"root"}),n})(),v0=(()=>{class n extends kb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(du))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Vb)},providedIn:"root"}),n})();class Lb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Vb=(()=>{class n extends Lb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gm=new g.OlP("",{providedIn:"root",factory:()=>({})});let _0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(mm)},providedIn:"root"}),n})(),mm=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Us=(()=>((Us=Us||{})[Us.COMPLETE=0]="COMPLETE",Us[Us.FAILED=1]="FAILED",Us[Us.REDIRECTING=2]="REDIRECTING",Us))();function ym(n,e){n.events.pipe(Ai(t=>t instanceof Uo||t instanceof Cl||t instanceof uc||t instanceof Sa),(0,Tt.U)(t=>t instanceof Uo||t instanceof Sa?Us.COMPLETE:t instanceof Cl&&(0===t.code||1===t.code)?Us.REDIRECTING:Us.FAILED),Ai(t=>t!==Us.REDIRECTING),Po(1)).subscribe(()=>{e()})}function Ub(n){throw n}function Mr(n,e,t){return e.parse("/")}const Bb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(gm,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Ub,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Mr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(_0),this.routeReuseStrategy=(0,g.f3M)(Fb),this.titleStrategy=(0,g.f3M)(kb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,g.f3M)(mp,{optional:!0})?.flat()??[],this.navigationTransitions=(0,g.f3M)(_h),this.urlSerializer=(0,g.f3M)(Z),this.location=(0,g.f3M)(qe),this.componentInputBindingEnabled=!!(0,g.f3M)(Wi,{optional:!0}),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ar(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const E={...o};delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(h),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:E}=r,b=E?this.currentUrlTree.fragment:l;let N,A=null;switch(m){case"merge":A={...this.currentUrlTree.queryParams,...u};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=u||null}null!==A&&(A=this.removeEmptyProps(A));try{N=Xf(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),N=this.currentUrlTree.root}return Yg(N,t,A,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=oc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,dh,null,r)}navigate(t,r={skipLocationChange:!1}){return function E0(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new g.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Bb}:!1===r?{...jb}:r,oc(t))return Sr(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Sr(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,E,b;l?(m=l.resolve,E=l.reject,b=l.promise):b=new Promise((N,H)=>{m=N,E=H});const A=this.pendingTasks.add();return ym(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:E,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class w0{}let Ox=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(t=>t instanceof Uo),Hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,g.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,Jt.D)(o).pipe((0,Rs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,mt.of)(null);const u=o.pipe((0,Tr.z)(l=>null===l?(0,mt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,Jt.D)([u,l]).pipe((0,Rs.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Bs),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(w0),g.LFG(y0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ll=new g.OlP("");let dn=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ta?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Sa&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function Ra(n,e){return{\u0275kind:n,\u0275providers:e}}function e_(){const n=(0,g.f3M)(g.zs3);return e=>{const t=n.get(g.z2F);if(e!==t.components[0])return;const r=n.get(Bs),o=n.get(_m);1===n.get(C0)&&r.initialNavigation(),n.get(n_,null,g.XFs.Optional)?.setUpPreloading(),n.get(Ll,null,g.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const _m=new g.OlP("",{factory:()=>new Ns.x}),C0=new g.OlP("",{providedIn:"root",factory:()=>1}),n_=new g.OlP("");function T0(n){return Ra(0,[{provide:n_,useExisting:Ox},{provide:w0,useExisting:n}])}const wm=new g.OlP("ROUTER_FORROOT_GUARD"),Im=[qe,{provide:Z,useClass:he},Bs,dc,{provide:jo,useFactory:function Jv(n){return n.routerState.root},deps:[Bs]},y0,[]];function Vl(){return new g.PXZ("Router",Bs)}let Dm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Im,[],{provide:mp,multi:!0,useValue:t},{provide:wm,useFactory:A0,deps:[[Bs,new g.FiY,new g.tp0]]},{provide:gm,useValue:r||{}},r?.useHash?{provide:Be,useClass:Le}:{provide:Be,useClass:We},{provide:Ll,useFactory:()=>{const n=(0,g.f3M)(rs),e=(0,g.f3M)(g.R0b),t=(0,g.f3M)(gm),r=(0,g.f3M)(_h),o=(0,g.f3M)(Z);return t.scrollOffset&&n.setOffset(t.scrollOffset),new dn(o,r,n,e,t)}},r?.preloadingStrategy?T0(r.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Vl},r?.initialNavigation?wh(r):[],r?.bindToComponentInputs?Ra(8,[cp,{provide:Wi,useExisting:cp}]).\u0275providers:[],[{provide:M0,useFactory:e_},{provide:g.tb,multi:!0,useExisting:M0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:mp,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(wm,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();function A0(n){return"guarded"}function wh(n){return["disabled"===n.initialNavigation?Ra(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const e=(0,g.f3M)(Bs);return()=>{e.setUpLocationChangeListener()}}},{provide:C0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ra(2,[{provide:C0,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:e=>{const t=e.get(Re,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Bs),u=e.get(_m);ym(o,()=>{r(!0)}),e.get(_h).afterPreactivation=()=>(r(!0),u.closed?(0,mt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const M0=new g.OlP(""),Ux=[];let Bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Dm.forRoot(Ux),Dm]}),n})(),N0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),Ih=(()=>{class n extends N0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const Eu=new g.OlP("NgValueAccessor"),i_={provide:Eu,useExisting:(0,g.Gpc)(()=>Dh),multi:!0},yp=new g.OlP("CompositionEventMode");let Dh=(()=>{class n extends N0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s_(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(yp,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[g._Bn([i_]),g.qOj]}),n})();function Na(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Ch(n){return null!=n&&"number"==typeof n.length}const jr=new g.OlP("NgValidators"),fo=new g.OlP("NgAsyncValidators"),P0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bh{static min(e){return function vp(n){return e=>{if(Na(e.value)||Na(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Jb(n){return e=>{if(Na(e.value)||Na(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return bm(e)}static requiredTrue(e){return function Tm(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function o_(n){return Na(n.value)||P0.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function k0(n){return e=>Na(e.value)||!Ch(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function F0(n){return e=>Ch(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function a_(n){if(!n)return _p;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Na(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return B0(e)}static composeAsync(e){return Mm(e)}}function bm(n){return Na(n.value)?{required:!0}:null}function _p(n){return null}function L0(n){return null!=n}function V0(n){return(0,g.QGY)(n)?(0,Jt.D)(n):n}function eT(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function U0(n,e){return e.map(t=>t(n))}function Sm(n){return n.map(e=>function u_(n){return!n.validate}(e)?e:t=>e.validate(t))}function B0(n){if(!n)return null;const e=n.filter(L0);return 0==e.length?null:function(t){return eT(U0(t,e))}}function Am(n){return null!=n?B0(Sm(n)):null}function Mm(n){if(!n)return null;const e=n.filter(L0);return 0==e.length?null:function(t){return function Xb(...n){const e=(0,ls.jO)(n),{args:t,keys:r}=Ju(n),o=new Vi.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let E=l,b=l;for(let A=0;A<l;A++){let N=!1;(0,ro.Xf)(t[A]).subscribe((0,pi.x)(u,H=>{N||(N=!0,b--),m[A]=H},()=>E--,void 0,()=>{(!E||!N)&&(b||u.next(r?no(r,m):m),u.complete())}))}});return e?o.pipe(Ea(e)):o}(U0(t,e).map(V0)).pipe((0,Tt.U)(eT))}}function Th(n){return null!=n?Mm(Sm(n)):null}function j0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function c_(n){return n._rawValidators}function $0(n){return n._rawAsyncValidators}function xm(n){return n?Array.isArray(n)?n:[n]:[]}function l_(n,e){return Array.isArray(n)?n.includes(e):n===e}function H0(n,e){const t=xm(e);return xm(n).forEach(o=>{l_(t,o)||t.push(o)}),t}function Ep(n,e){return xm(e).filter(t=>!l_(n,t))}class z0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Am(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Th(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xr extends z0{get formDirective(){return null}get path(){return null}}class po extends z0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class G0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let W0=(()=>{class n extends G0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(po,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})(),q0=(()=>{class n extends G0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(xr,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g.qOj]}),n})();const Sh="VALID",wu="INVALID",ps="PENDING",Ah="DISABLED";function Q0(n){return(Dp(n)?n.validators:n)||null}function X0(n,e){return(Dp(e)?e.asyncValidators:n)||null}function Dp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function f_(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new g.vHH(1e3,"");if(!r[t])throw new g.vHH(1001,"")}function oT(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new g.vHH(1002,"")})}class Cp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sh}get invalid(){return this.status===wu}get pending(){return this.status==ps}get disabled(){return this.status===Ah}get enabled(){return this.status!==Ah}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(H0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(H0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ep(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ep(e,this._rawAsyncValidators))}hasValidator(e){return l_(this._rawValidators,e)}hasAsyncValidator(e){return l_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ps,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ah,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sh||this.status===ps)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ah:Sh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator=!0;const t=V0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Ah:this.errors?wu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(wu)?wu:Sh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function sT(n){return Array.isArray(n)?Am(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Wx(n){return Array.isArray(n)?Th(n):n||null}(this._rawAsyncValidators)}}class yc extends Cp{constructor(e,t,r){super(Q0(t),X0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){oT(this,0,e),Object.keys(e).forEach(r=>{f_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class p_ extends yc{}const vc=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Mh}),Mh="always";function bp(n,e,t=Mh){Om(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function J0(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eI(n,e)})}(n,e),function qx(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function lT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cT(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Om(n,e){const t=c_(n);null!==e.validator?n.setValidators(j0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=$0(n);null!==e.asyncValidator?n.setAsyncValidators(j0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Nm(e._rawValidators,o),Nm(e._rawAsyncValidators,o)}function Pm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=c_(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=$0(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Nm(e._rawValidators,r),Nm(e._rawAsyncValidators,r),t}function eI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function iI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ap=class extends Cp{constructor(e=null,t,r){super(Q0(t),X0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=iI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){iI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let mT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),cI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const D_=new g.OlP("NgModelWithFormControlWarning"),ET={provide:xr,useExisting:(0,g.Gpc)(()=>Vm)};let Vm=(()=>{class n extends xr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bp(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Tp(t.control||null,t,!1),function __(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Rh(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Tp(r||null,t),(n=>n instanceof Ap)(o)&&(bp(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function m_(n,e){Om(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function tI(n,e){return Pm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Om(this.form,this),this._oldForm&&Pm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(jr,10),g.Y36(fo,10),g.Y36(vc,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&g.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([ET]),g.qOj,g.TTD]}),n})();const pI={provide:po,useExisting:(0,g.Gpc)(()=>Bm)};let Bm=(()=>{class n extends po{set isDisabled(t){}constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Fm(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Dh?t=u:function v_(n){return Object.getPrototypeOf(n.constructor)===Ih}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function _c(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function g_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(g.Y36(xr,13),g.Y36(jr,10),g.Y36(fo,10),g.Y36(Eu,10),g.Y36(D_,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([pI]),g.qOj,g.TTD]}),n})(),jl=(()=>{class n{constructor(){this._validator=_p}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_p,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,features:[g.TTD]}),n})();const Gm={provide:jr,useExisting:(0,g.Gpc)(()=>$l),multi:!0};let $l=(()=>{class n extends jl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.VuI,this.createValidator=t=>bm}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&g.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([Gm]),g.qOj]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[cI]}),n})();class CI extends Cp{constructor(e,t,r){super(Q0(t),X0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){oT(this,0,e),e.forEach((r,o)=>{f_(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function xT(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let RT=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return xT(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new yc(o,u)}record(t,r=null){const o=this._reduceControls(t);return new p_(o,r)}control(t,r,o){let u={};return this.useNonNullable?(xT(r)?u=r:(u.validators=r,u.asyncValidators=o),new Ap(t,{...u,nonNullable:!0})):new Ap(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new CI(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Ap||t instanceof Cp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vc,useValue:t.callSetDisabledState??Mh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[DI]}),n})(),OT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:D_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:vc,useValue:t.callSetDisabledState??Mh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[DI]}),n})();const Rp={_origin:"https://api.emailjs.com"};class TI{constructor(e){this.status=e.status,this.text=e.responseText}}const SI_send=(n,e,t,r)=>{const o=r||Rp._userID;return((n,e,t)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(o,n,e),((n,e,t={})=>new Promise((r,o)=>{const u=new XMLHttpRequest;u.addEventListener("load",({target:l})=>{const m=new TI(l);200===m.status||"OK"===m.text?r(m):o(m)}),u.addEventListener("error",({target:l})=>{o(new TI(l))}),u.open("POST",Rp._origin+n,!0),Object.keys(t).forEach(l=>{u.setRequestHeader(l,t[l])}),u.send(e)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})};var FT=O(6321),$r=O(2793);function M_(){return(0,ji.e)((n,e)=>{let t,r=!1;n.subscribe((0,pi.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}var tt,AI=O(3997),go=O(6304),oR=(O(8977),O(3399)),we=O(5861),Op=O(7592),x_=O(4537),Go=O(7879),hn=O(9058),LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$s={},mo=mo||{},Ot=LT||self;function Hr(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Wo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gs="closure_uid_"+(1e9*Math.random()>>>0),R_=0;function Ph(n,e,t){return n.call.apply(n.bind,arguments)}function kh(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function pr(n,e,t){return(pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ph:kh).apply(null,arguments)}function Iu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Xn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function Hs(){this.s=this.s,this.o=this.o}Hs.prototype.s=!1,Hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Km(n){Object.prototype.hasOwnProperty.call(n,gs)&&n[gs]||(n[gs]=++R_)}(this)},Hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hl=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function wc(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function N_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Hr(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mi.prototype.h=function(){this.defaultPrevented=!0};var MI=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",()=>{},e),Ot.removeEventListener("test",()=>{},e)}catch{}return n}();function Lh(n){return/^[\s\xa0]*$/.test(n)}function Pp(){var n=Ot.navigator;return n&&(n=n.userAgent)?n:""}function qo(n){return-1!=Pp().indexOf(n)}function Zm(n){return Zm[" "](n),n}Zm[" "]=function(){};var kI,n,RI=qo("Opera"),Ic=qo("Trident")||qo("MSIE"),NI=qo("Edge"),OI=NI||Ic,VT=qo("Gecko")&&!(-1!=Pp().toLowerCase().indexOf("webkit")&&!qo("Edge"))&&!(qo("Trident")||qo("MSIE"))&&!qo("Edge"),UT=-1!=Pp().toLowerCase().indexOf("webkit")&&!qo("Edge");function PI(){var n=Ot.document;return n?n.documentMode:void 0}e:{var O_="",FI=(n=Pp(),VT?/rv:([^\);]+)(\)|;)/.exec(n):NI?/Edge\/([\d\.]+)/.exec(n):Ic?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):UT?/WebKit\/(\S+)/.exec(n):RI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(FI&&(O_=FI?FI[1]:""),Ic){var P_=PI();if(null!=P_&&P_>parseFloat(O_)){kI=String(P_);break e}}kI=O_}var F_=Ot.document&&Ic&&(PI()||parseInt(kI,10))||void 0;function Du(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(VT){e:{try{Zm(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:L_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Du.$.h.call(this)}}Xn(Du,mi);var L_={2:"touch",3:"pen",4:"mouse"};Du.prototype.h=function(){Du.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dc="closure_listenable_"+(1e6*Math.random()|0),VI=0;function kp(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++VI,this.fa=this.ia=!1}function Fp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function V_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function UI(n){const e={};for(const t in n)e[t]=n[t];return e}const BI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<BI.length;u++)t=BI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ym(n){this.src=n,this.g={},this.h=0}function Vp(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Hl(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Fp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vh(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}Ym.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Vh(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new kp(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var Uh="closure_lm_"+(1e6*Math.random()|0),$I={};function HI(n,e,t,r,o){if(r&&r.once)return GI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)HI(n,e[u],t,r,o);return null}return t=$_(t),n&&n[Dc]?n.O(e,t,Wo(r)?!!r.capture:!!r,o):zI(n,e,t,!1,r,o)}function zI(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=Wo(o)?!!o.capture:!!o,m=Qm(n);if(m||(n[Uh]=m=new Ym(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function U_(){const e=qI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)MI||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(WI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function GI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)GI(n,e[u],t,r,o);return null}return t=$_(t),n&&n[Dc]?n.P(e,t,Wo(r)?!!r.capture:!!r,o):zI(n,e,t,!0,r,o)}function B_(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)B_(n,e[u],t,r,o);else r=Wo(r)?!!r.capture:!!r,t=$_(t),n&&n[Dc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vh(u=n.g[e],t,r,o))&&(Fp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Qm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vh(e,t,r,o)),(t=-1<n?e[n]:null)&&j_(t))}function j_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dc])Vp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(WI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Qm(e))?(Vp(t,n),0==t.h&&(t.src=null,e[Uh]=null)):Fp(n)}}}function WI(n){return n in $I?$I[n]:$I[n]="on"+n}function qI(n,e){if(n.fa)n=!0;else{e=new Du(e,this);var t=n.listener,r=n.la||n.src;n.ia&&j_(n),n=t.call(r,e)}return n}function Qm(n){return(n=n[Uh])instanceof Ym?n:null}var Xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $_(n){return"function"==typeof n?n:(n[Xm]||(n[Xm]=function(e){return n.handleEvent(e)}),n[Xm])}function ri(){Hs.call(this),this.i=new Ym(this),this.S=this,this.J=null}function yi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var o=e;jI(e=new mi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=Jm(l,r,!0,e)&&o}if(o=Jm(l=e.g=n,r,!0,e)&&o,o=Jm(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Jm(l=e.g=t[u],r,!1,e)&&o}function Jm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,E=l.la||l.src;l.ia&&Vp(n.i,l),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Xn(ri,Hs),ri.prototype[Dc]=!0,ri.prototype.removeEventListener=function(n,e,t,r){B_(this,n,e,t,r)},ri.prototype.N=function(){if(ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Fp(t[r]);delete n.g[e],n.h--}}this.J=null},ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ri.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Up=Ot.JSON.stringify;function BT(){var n=Hp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Bp=new class H_{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new z_,n=>n.reset());class z_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function KI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function jT(n){Ot.setTimeout(()=>{throw n},0)}let jp,$p=!1,Hp=new class ey{constructor(){this.h=this.g=null}add(e,t){const r=Bp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ty=()=>{const n=Ot.Promise.resolve(void 0);jp=()=>{n.then(ZI)}};var ZI=()=>{for(var n;n=BT();){try{n.h.call(n.g)}catch(t){jT(t)}var e=Bp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$p=!1};function zp(n,e){ri.call(this),this.h=n||1,this.g=e||Ot,this.j=pr(this.qb,this),this.l=Date.now()}function G_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function W_(n,e,t){if("function"==typeof n)t&&(n=pr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function YI(n){n.g=W_(()=>{n.g=null,n.i&&(n.i=!1,YI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xn(zp,ri),(tt=zp.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yi(this,"tick"),this.ga&&(G_(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){zp.$.N.call(this),G_(this),delete this.g};class q_ extends Hs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:YI(this)}N(){super.N(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bh(n){Hs.call(this),this.h=n,this.g={}}Xn(Bh,Hs);var ny=[];function K_(n,e,t,r){Array.isArray(t)||(t&&(ny[0]=t.toString()),t=ny);for(var o=0;o<t.length;o++){var u=HI(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function QI(n){V_(n.g,function(e,t){this.g.hasOwnProperty(t)&&j_(e)},n),n.g={}}function Gp(){this.g=!0}function zl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function HT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return Up(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bh.prototype.N=function(){Bh.$.N.call(this),QI(this)},Bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gp.prototype.Ea=function(){this.g=!1},Gp.prototype.info=function(){};var Gl={},Z_=null;function jh(){return Z_=Z_||new ri}function Y_(n){mi.call(this,Gl.Ta,n)}function $h(n){const e=jh();yi(e,new Y_(e))}function Q_(n,e){mi.call(this,Gl.STAT_EVENT,n),this.stat=e}function Ri(n){const e=jh();yi(e,new Q_(e,n))}function X_(n,e){mi.call(this,Gl.Ua,n),this.size=e}function Hh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}Gl.Ta="serverreachability",Xn(Y_,mi),Gl.STAT_EVENT="statevent",Xn(Q_,mi),Gl.Ua="timingevent",Xn(X_,mi);var Wp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},J_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zh(){}function eD(){}zh.prototype.h=null;var Zp,qp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kp(){mi.call(this,"d")}function bu(){mi.call(this,"c")}function ry(){}function Wl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bh(this),this.P=aR,this.V=new zp(n=OI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zT}function zT(){this.i=null,this.g="",this.h=!1}Xn(Kp,mi),Xn(bu,mi),Xn(ry,zh),ry.prototype.g=function(){return new XMLHttpRequest},ry.prototype.i=function(){return{}},Zp=new ry;var aR=45e3,eE={},iy={};function sy(n,e,t){n.L=1,n.v=Gs(Pa(e)),n.s=t,n.S=!0,tD(n,null)}function tD(n,e){n.G=Date.now(),Yp(n),n.A=Pa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),aD(t.i,"t",r),n.C=0,t=n.l.J,n.h=new zT,n.g=sS(n.l,t?e:null,!n.s),0<n.O&&(n.M=new q_(pr(n.Pa,n,n.g),n.O)),K_(n.U,n.g,"readystatechange",n.nb),e=n.I?UI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),$h(),function XI(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),E=0;E<m.length;E++){var b=m[E].split("=");if(1<b.length){var A=b[0];b=b[1];var N=A.split("_");l=2<=N.length&&"type"==N[1]?l+(A+"=")+b+"&":l+(A+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Rr(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function tE(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=GT(n,t),o==iy){4==e&&(n.o=4,Ri(14),r=!1),zl(n.j,n.m,null,"[Incomplete Response]");break}if(o==eE){n.o=4,Ri(15),zl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zl(n.j,n.m,o,null),bc(n,o)}Rr(n)&&o!=iy&&o!=eE&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),yE(e),e.M=!0,Ri(11))):(zl(n.j,n.m,t,"[Invalid Chunked Response]"),Cc(n),Gh(n))}function GT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?iy:(t=Number(e.substring(t,r)),isNaN(t)?eE:(r+=1)+t>e.length?iy:(e=e.slice(r,r+t),n.C=r+t,e))}function Yp(n){n.Y=Date.now()+n.P,nE(n,n.P)}function nE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hh(pr(n.lb,n),e)}function oy(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Gh(n){0==n.l.H||n.J||iS(n.l,n)}function Cc(n){oy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,G_(n.V),QI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function bc(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ay(t.i,n)))if(!n.K&&ay(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Su(t),ng(t)}Tu(t),Ri(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=Hh(pr(t.ib,t),6e3));if(1>=aE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Xh(t,11)}else if((n.K||t.g==n)&&Su(t),!Lh(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const A=b[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const N=b[4];null!=N&&(t.Ga=N,t.l.info("SVER="+t.Ga));const H=b[5];null!=H&&"number"==typeof H&&0<H&&(t.L=r=1.5*H,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const te=n.g;if(te){const Ee=te.g?te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ee){var u=r.i;u.g||-1==Ee.indexOf("spdy")&&-1==Ee.indexOf("quic")&&-1==Ee.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(uE(u,u.h),u.h=null))}if(r.F){const Te=te.g?te.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(r.Da=Te,zn(r.I,r.F,Te))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=_E(r,r.J?r.pa:null,r.Y),l.K){lD(r.i,l);var m=l,E=r.L;E&&m.setTimeout(E),m.B&&(oy(m),Yp(m)),r.g=l}else mE(r);0<t.j.length&&rg(t)}else"stop"!=b[0]&&"close"!=b[0]||Xh(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Xh(t,7):dy(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}$h()}catch{}}function rE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hr(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hr(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function WT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hr(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(tt=Wl.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==ka(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const A=ka(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||OI||this.g&&(this.h.h||this.g.ja()||_D(this.g)))){this.J||4!=A||7==e||$h(),oy(this);var t=this.g.da();this.ca=t;t:if(Rr(this)){var r=_D(this.g);n="";var o=r.length,u=4==ka(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cc(this),Gh(this);var l="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function JI(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ri(12),Cc(this),Gh(this);break e}zl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bc(this,t)}this.S?(tE(this,A,l),OI&&this.i&&3==A&&(K_(this.U,this.V,"tick",this.mb),this.V.start())):(zl(this.j,this.m,l,null),bc(this,l)),4==A&&Cc(this),this.i&&!this.J&&(4==A?iS(this.l,this):(this.i=!1,Yp(this)))}else(function rS(n){const e={};n=(n.g&&2<=ka(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Lh(n[r]))continue;var t=KI(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function Lp(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),Cc(this),Gh(this)}}}catch{}},tt.mb=function(){if(this.g){var n=ka(this.g),e=this.g.ja();this.C<e.length&&(oy(this),tE(this,n,e),this.i&&4!=n&&Yp(this))}},tt.cancel=function(){this.J=!0,Cc(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $T(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&($h(),Ri(17)),Cc(this),this.o=2,Gh(this)):nE(this,this.Y-n)};var nD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wh){this.h=n.h,qh(this,n.j),this.s=n.s,this.g=n.g,zs(this,n.m),this.l=n.l;var e=n.i,t=new ql;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),iD(this,t),this.o=n.o}else n&&(e=String(n).match(nD))?(this.h=!1,qh(this,e[1]||"",!0),this.s=qi(e[2]||""),this.g=qi(e[3]||"",!0),zs(this,e[4]),this.l=qi(e[5]||"",!0),iD(this,e[6]||"",!0),this.o=qi(e[7]||"")):(this.h=!1,this.i=new ql(null,this.h))}function Pa(n){return new Wh(n)}function qh(n,e,t){n.j=t?qi(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zs(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iD(n,e,t){e instanceof ql?(n.i=e,function uD(n,e){e&&!n.j&&(yo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(oD(this,r),aD(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ki(e,YT)),n.i=new ql(e,n.h))}function zn(n,e,t){n.i.set(e,t)}function Gs(n){return zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qi(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ki(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,sD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function sD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ki(e,iE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ki(e,iE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ki(t,"/"==t.charAt(0)?ZT:KT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ki(t,QT)),n.join("")};var iE=/[#\/\?@]/g,KT=/[#\?:]/g,ZT=/[#\?]/g,YT=/[#\?@]/g,QT=/#/g;function ql(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yo(n){n.g||(n.g=new Map,n.h=0,n.i&&function rD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function oD(n,e){yo(n),e=Kh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sE(n,e){return yo(n),e=Kh(n,e),n.g.has(e)}function aD(n,e,t){oD(n,e),0<t.length&&(n.i=null,n.g.set(Kh(n,e),wc(t)),n.h+=t.length)}function Kh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qp(n){this.l=n||XT,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ka&&Ot.g.Ka()&&Ot.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=ql.prototype).add=function(n,e){yo(this),this.i=null,n=Kh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){yo(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},tt.ta=function(){yo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},tt.Z=function(n){yo(this);let e=[];if("string"==typeof n)sE(this,n)&&(e=e.concat(this.g.get(Kh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return yo(this),this.i=null,sE(this,n=Kh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var XT=10;function oE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aE(n){return n.h?1:n.g?n.g.size:0}function ay(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uE(n,e){n.g?n.g.add(e):n.h=e}function lD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return wc(n.i)}Qp.prototype.cancel=function(){if(this.i=cE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var uy=class{stringify(n){return Ot.JSON.stringify(n,void 0)}parse(n){return Ot.JSON.parse(n,void 0)}};function dD(){this.g=new uy}function hD(n,e,t){const r=t||"";try{rE(n,function(o,u){let l=o;Wo(o)&&(l=Up(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Xp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Zh(n){this.l=n.fc||null,this.j=n.ob||!1}function Jp(n,e){ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=cy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xn(Zh,zh),Zh.prototype.g=function(){return new Jp(this.l,this.j)},Zh.prototype.i=function(n){return function(){return n}}({}),Xn(Jp,ri);var cy=0;function lE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function eg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,tg(n)}function tg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=Jp.prototype).open=function(n,e){if(this.readyState!=cy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,tg(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ot).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eg(this)),this.readyState=cy},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,tg(this)),this.g&&(this.readyState=3,tg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?eg(this):tg(this),3==this.readyState&&lE(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,eg(this))},tt.Ya=function(n){this.g&&(this.response=n,eg(this))},tt.ka=function(){this.g&&eg(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Jp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JT=Ot.JSON.parse;function or(n){ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pD,this.L=this.M=!1}Xn(or,ri);var pD="",eS=/^https?$/i,tS=["POST","PUT"];function gD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mD(n),ly(n)}function mD(n){n.F||(n.F=!0,yi(n,"complete"),yi(n,"error"))}function yD(n){if(n.h&&typeof mo<"u"&&(!n.C[1]||4!=ka(n)||2!=n.da()))if(n.v&&4==ka(n))W_(n.La,0,n);else if(yi(n,"readystatechange"),4==ka(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(nD)[1]||null;!o&&Ot.self&&Ot.self.location&&(o=Ot.self.location.protocol.slice(0,-1)),r=!eS.test(o?o.toLowerCase():"")}t=r}if(t)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var u=2<ka(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",mD(n)}}finally{ly(n)}}}function ly(n,e){if(n.g){vD(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||yi(n,"ready");try{t.onreadystatechange=r}catch{}}}function vD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function ka(n){return n.g?n.g.readyState:0}function _D(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case pD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ED(n){let e="";return V_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function dE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ED(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):zn(n,e,t))}function Yh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hE(n){this.Ga=0,this.j=[],this.l=new Gp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yh("baseRetryDelayMs",5e3,n),this.hb=Yh("retryDelaySeedMs",1e4,n),this.eb=Yh("forwardChannelMaxRetries",2,n),this.xa=Yh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Qp(n&&n.concurrentRequestLimit),this.Ja=new dD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function dy(n){if(fE(n),3==n.H){var e=n.W++,t=Pa(n.I);if(zn(t,"SID",n.K),zn(t,"RID",e),zn(t,"TYPE","terminate"),Qh(n,t),(e=new Wl(n,n.l,e)).L=2,e.v=Gs(Pa(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon)try{t=Ot.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=sS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yp(e)}vE(n)}function ng(n){n.g&&(yE(n),n.g.cancel(),n.g=null)}function fE(n){ng(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Su(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function rg(n){if(!oE(n.i)&&!n.m){n.m=!0;var e=n.Na;jp||ty(),$p||(jp(),$p=!0),Hp.add(e,n),n.C=0}}function pE(n,e){var t;t=e?e.m:n.W++;const r=Pa(n.I);zn(r,"SID",n.K),zn(r,"RID",t),zn(r,"AID",n.V),Qh(n,r),n.o&&n.s&&dE(r,n.o,n.s),t=new Wl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=gE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),uE(n.i,t),sy(t,r,e)}function Qh(n,e){n.na&&V_(n.na,function(t,r){zn(e,r,t)}),n.h&&rE({},function(t,r){zn(e,r,t)})}function gE(n,e,t){t=Math.min(n.j.length,t);var r=n.h?pr(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let b=o[E].g;const A=o[E].map;if(b-=u,0>b)u=Math.max(0,o[E].g-100),m=!1;else try{hD(A,l,"req"+b+"_")}catch{r&&r(A)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function mE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;jp||ty(),$p||(jp(),$p=!0),Hp.add(e,n),n.A=0}}function Tu(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Hh(pr(n.Ma,n),hy(n,n.A)),n.A++,0))}function yE(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function ID(n){n.g=new Wl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pa(n.wa);zn(e,"RID","rpc"),zn(e,"SID",n.K),zn(e,"AID",n.V),zn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&zn(e,"TO",n.qa),zn(e,"TYPE","xmlhttp"),Qh(n,e),n.o&&n.s&&dE(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Gs(Pa(e)),t.s=null,t.S=!0,tD(t,n)}function Su(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function iS(n,e){var t=null;if(n.g==e){Su(n),yE(n),n.g=null;var r=2}else{if(!ay(n.i,e))return;t=e.F,lD(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;yi(r=jh(),new X_(r,t)),rg(n)}else mE(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function wD(n,e){return!(aE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Hh(pr(n.Na,n,e),hy(n,n.C)),n.C++,0)))}(n,e)||2==r&&Tu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Xh(n,5);break;case 4:Xh(n,10);break;case 3:Xh(n,6);break;default:Xh(n,2)}}function hy(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Xh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=pr(n.pb,n);t||(t=new Wh("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||qh(t,"https"),Gs(t)),function fD(n,e){const t=new Gp;if(Ot.Image){const r=new Image;r.onload=Iu(Xp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Iu(Xp,t,r,"TestLoadImage: error",!1,e),r.onabort=Iu(Xp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Iu(Xp,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ri(2);n.H=0,n.h&&n.h.za(e),vE(n),fE(n)}function vE(n){if(n.H=0,n.ma=[],n.h){const e=cE(n.i);(0!=e.length||0!=n.j.length)&&(N_(n.ma,e),N_(n.ma,n.j),n.i.i.length=0,wc(n.j),n.j.length=0),n.h.ya()}}function _E(n,e,t){var r=t instanceof Wh?Pa(t):new Wh(t);if(""!=r.g)e&&(r.g=e+"."+r.g),zs(r,r.m);else{var o=Ot.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Wh(null);r&&qh(u,r),e&&(u.g=e),o&&zs(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&zn(r,t,e),zn(r,"VER",n.ra),Qh(n,r),r}function sS(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new or(t&&n.Ha&&!n.va?new Zh({ob:!0}):n.va)).Oa(n.J),e}function St(){}function fy(){if(Ic&&!(10<=Number(F_)))throw Error("Environmental error: no available transport.")}function Ws(n,e){ri.call(this),this.g=new hE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Lh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Jh(this)}function DD(n){Kp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Kl(){bu.call(this),this.status=1}function Jh(n){this.g=n}function ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yn(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(tt=or.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zp.g(),this.C=function Cu(n){return n.h||(n.h=n.i())}(this.u?this.u:Zp),this.g.onreadystatechange=pr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void gD(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Ot.FormData&&n instanceof Ot.FormData,!(0<=Hl(tS,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vD(this),0<this.B&&((this.L=function nS(n){return Ic&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pr(this.ua,this)):this.A=W_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){gD(this,u)}},tt.ua=function(){typeof mo<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),ly(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ly(this,!0)),or.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?yD(this):this.kb())},tt.kb=function(){yD(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<ka(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JT(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=hE.prototype).ra=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Wl(this,this.l,n);let u=this.s;if(this.U&&(u?(u=UI(u),jI(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gE(this,o,e),zn(t=Pa(this.I),"RID",n),zn(t,"CVER",22),this.F&&zn(t,"X-HTTP-Session-Id",this.F),Qh(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(ED(u)))+"&"+e:this.o&&dE(t,this.o,u)),uE(this.i,o),this.bb&&zn(t,"TYPE","init"),this.P?(zn(t,"$req",e),zn(t,"SID","null"),o.aa=!0,sy(o,t,null)):sy(o,t,e),this.H=2}}else 3==this.H&&(n?pE(this,n):0==this.j.length||oE(this.i)||pE(this))},tt.Ma=function(){if(this.u=null,ID(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Hh(pr(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ri(10),ng(this),ID(this))},tt.ib=function(){null!=this.v&&(this.v=null,ng(this),Tu(this),Ri(19))},tt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ri(2)):(this.l.info("Failed to ping google.com"),Ri(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=St.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},fy.prototype.g=function(n,e){return new Ws(n,e)},Xn(Ws,ri),Ws.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ri(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=_E(n,null,n.Y),rg(n)},Ws.prototype.close=function(){dy(this.g)},Ws.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Up(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&rg(e)},Ws.prototype.N=function(){this.g.h=null,delete this.j,dy(this.g),delete this.g,Ws.$.N.call(this)},Xn(DD,Kp),Xn(Kl,bu),Xn(Jh,St),Jh.prototype.Ba=function(){yi(this.g,"a")},Jh.prototype.Aa=function(n){yi(this.g,new DD(n))},Jh.prototype.za=function(n){yi(this.g,new Kl)},Jh.prototype.ya=function(){yi(this.g,"b")},Xn(ms,function py(){this.blockSize=-1}),ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ms.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)Yn(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){Yn(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){Yn(this,r),o=0;break}}this.h=o,this.i+=e},ms.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var CD={};function gy(n){return-128<=n&&128>n?function xI(n,e){var t=CD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function Fa(n){if(isNaN(n)||!isFinite(n))return Zl;if(0>n)return gr(Fa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=my;return new Cn(e,0)}var my=4294967296,Zl=gy(0),yy=gy(1),bD=gy(16777216);function Au(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vo(n){return-1==n.h}function gr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(yy)}function vy(n,e){return n.add(gr(e))}function _y(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ig(n,e){this.g=n,this.h=e}function Yl(n,e){if(Au(e))throw Error("division by zero");if(Au(n))return new ig(Zl,Zl);if(vo(n))return e=Yl(gr(n),e),new ig(gr(e.g),gr(e.h));if(vo(e))return e=Yl(n,gr(e)),new ig(gr(e.g),e.h);if(30<n.g.length){if(vo(n)||vo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=yy,r=e;0>=r.X(n);)t=wE(t),r=wE(r);var o=Ql(t,1),u=Ql(r,1);for(r=Ql(r,2),t=Ql(t,2);!Au(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=Ql(r,1),t=Ql(t,1)}return e=vy(n,o.R(e)),new ig(o,e)}for(o=Zl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Fa(t)).R(e);vo(l)||0<l.X(n);)l=(u=Fa(t-=r)).R(e);Au(u)&&(u=yy),o=o.add(u),n=vy(n,l)}return new ig(o,n)}function wE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function Ql(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Cn(o,n.h)}(tt=Cn.prototype).ea=function(){if(vo(this))return-gr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:my+r)*e,e*=my}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Au(this))return"0";if(vo(this))return"-"+gr(this).toString(n);for(var e=Fa(Math.pow(n,6)),t=this,r="";;){var o=Yl(t,e).g,u=((0<(t=vy(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Au(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return vo(n=vy(this,n))?-1:Au(n)?0:1},tt.abs=function(){return vo(this)?gr(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(Au(this)||Au(n))return Zl;if(vo(this))return vo(n)?gr(this).R(gr(n)):gr(gr(this).R(n));if(vo(n))return gr(this.R(gr(n)));if(0>this.X(bD)&&0>n.X(bD))return Fa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(o)>>>16,E=65535&n.D(o);t[2*r+2*o]+=l*E,_y(t,2*r+2*o),t[2*r+2*o+1]+=u*E,_y(t,2*r+2*o+1),t[2*r+2*o+1]+=l*m,_y(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,_y(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},tt.gb=function(n){return Yl(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},fy.prototype.createWebChannel=fy.prototype.g,Ws.prototype.send=Ws.prototype.u,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,Wp.NO_ERROR=0,Wp.TIMEOUT=8,Wp.HTTP_ERROR=6,J_.COMPLETE="complete",eD.EventType=qp,qp.OPEN="a",qp.CLOSE="b",qp.ERROR="c",qp.MESSAGE="d",ri.prototype.listen=ri.prototype.O,or.prototype.listenOnce=or.prototype.P,or.prototype.getLastError=or.prototype.Sa,or.prototype.getLastErrorCode=or.prototype.Ia,or.prototype.getStatus=or.prototype.da,or.prototype.getResponseJson=or.prototype.Wa,or.prototype.getResponseText=or.prototype.ja,or.prototype.send=or.prototype.ha,or.prototype.setWithCredentials=or.prototype.Oa,ms.prototype.digest=ms.prototype.l,ms.prototype.reset=ms.prototype.reset,ms.prototype.update=ms.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=Fa,Cn.fromString=function EE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return gr(EE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fa(Math.pow(e,8)),r=Zl,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=Fa(Math.pow(e,u)),r=r.R(u).add(Fa(l))):r=(r=r.R(t)).add(Fa(l))}return r};var TD=$s.createWebChannelTransport=function(){return new fy},oS=$s.getStatEventTarget=function(){return jh()},Xl=$s.ErrorCode=Wp,sg=$s.EventType=J_,aS=$s.Event=Gl,SD=$s.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uS=$s.FetchXmlHttpFactory=Zh,og=$s.WebChannel=eD,AD=$s.XhrIo=or,MD=$s.Md5=ms,ef=$s.Integer=Cn;const IE="@firebase/firestore";class ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");let tf="9.23.0";const Jl=new Go.Yd("@firebase/firestore");function xD(){return Jl.logLevel}function je(n,...e){if(Jl.logLevel<=Go.in.DEBUG){const t=e.map(DE);Jl.debug(`Firestore (${tf}): ${n}`,...t)}}function ar(n,...e){if(Jl.logLevel<=Go.in.ERROR){const t=e.map(DE);Jl.error(`Firestore (${tf}): ${n}`,...t)}}function Zi(n,...e){if(Jl.logLevel<=Go.in.WARN){const t=e.map(DE);Jl.warn(`Firestore (${tf}): ${n}`,...t)}}function DE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${tf}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function yt(n,e){n||ut()}function et(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends hn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ii.UNAUTHENTICATED))}shutdown(){}}class RD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dS{constructor(e){this.t=e,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let l=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=l;e.enqueueRetryable((0,we.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},E=b=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>E(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt("string"==typeof r.accessToken),new cS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new ii(e)}}class hS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ug{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new hS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ND{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),this.T=t.token,new ND(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kD{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=PD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function nf(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Ey(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Qn(0,0))}static max(){return new It(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends rf{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new an(t)}static emptyPath(){return new an([])}}const fS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends rf{construct(e,t,r){return new ur(e,t,r)}static isValidIdentifier(e){return fS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Fe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Fe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Fe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new Fe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(t)}static emptyPath(){return new ur([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(an.fromString(e))}static fromName(e){return new Ye(an.fromString(e).popFirst(5))}static empty(){return new Ye(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new an(e.slice()))}}class wy{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Iy(n){return n.fields.find(e=>2===e.kind)}function ed(n){return n.fields.filter(e=>2!==e.kind)}wy.UNKNOWN_ID=-1;class Dy{constructor(e,t){this.fieldPath=e,this.kind=t}}class cg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new cg(0,qs.min())}}function FD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=It.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new qs(o,Ye.empty(),e)}function LD(n){return new qs(n.readTime,n.key,-1)}class qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qs(It.min(),Ye.empty(),-1)}static max(){return new qs(It.max(),Ye.empty(),-1)}}function Cy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const CE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Tc(n){return by.apply(this,arguments)}function by(){return by=(0,we.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==CE)throw n;je("LocalStore","Unexpectedly lost primary lease")}),by.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},E=>r(E))}),l=!0,u===o&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(o=>o?oe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let E=0;E<u;E++){const b=E;t(e[b]).next(A=>{l[b]=A,++m,m===u&&r(l)},A=>o(A))}})}static doWhile(e,t){return new oe((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Ty{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new zr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new td(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=lg(r.target.error);this.v.reject(new td(e,o))}}static open(e,t,r,o){try{return new Ty(t,e.transaction(o,r))}catch(u){throw new td(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new TE(t)}}class Ko{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ko.S((0,hn.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),nd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.hl)())return!1;if(Ko.C())return!0;const e=(0,hn.z$)(),t=Ko.S(e),r=0<t&&t<10,o=Ko.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,we.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;o("VersionError"===m.name?new Fe(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new td(e,m))},u.onupgradeneeded=l=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,we.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const E=Ty.open(u.db,e,l?"readonly":"readwrite",r),b=o(E).next(A=>(E.P(),A)).catch(A=>(E.abort(A),oe.reject(A))).toPromise();return b.catch(()=>{}),yield E.R,b}catch(E){const b=E,A="FirebaseError"!==b.name&&m<3;if(je("SimpleDb","Transaction failed with error:",b.message,"Retrying:",A),u.close(),!A)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bE{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return nd(this.L.delete())}}class td extends Fe{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mu(n){return"IndexedDbTransactionError"===n.name}class TE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nd(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),nd(this.store.add(e))}get(e){return nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),nd(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),nd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(l,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new oe((u,l)=>{o.onerror=m=>{l(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,l,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new oe((r,o)=>{t.onerror=u=>{const l=lg(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,t){const r=[];return new oe((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void o();const E=new bE(m),b=t(m.primaryKey,m.value,E);if(b instanceof oe){const A=b.catch(N=>(E.done(),oe.reject(N)));r.push(A)}E.isDone?o():null===E.K?m.continue():m.continue(E.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nd(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=lg(r.target.error);t(o)}})}let UD=!1;function lg(n){const e=Ko.S((0,hn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UD||(UD=!0,setTimeout(()=>{throw r},0)),r}}return n}class mS{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Mu(r)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Tc(r)}yield t.et(6e4)}))}}class BD{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return oe.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return je("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,o).next(m=>{o-=m,r.add(l)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(o,u)).next(m=>(je("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=LD(u);Cy(l,r)>0&&(r=l)}),new qs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let si=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function sf(n){return null==n}function dg(n){return 0===n&&1/n==-1/0}function yS(n){return"number"==typeof n&&Number.isInteger(n)&&!dg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function oi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jD(e)),e=SE(n.get(t),e);return jD(e)}function SE(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function jD(n){return n+"\x01\x01"}function Zo(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),an.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&ut(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:ut()}u=l+2}return new an(r)}const AE=["userId","batchId"];function Sy(n,e){return[n,oi(e)]}function ME(n,e,t){return[n,oi(e),t]}const xE={},$D=["prefixPath","collectionGroup","readTime","documentId"],HD=["prefixPath","collectionGroup","documentId"],zD=["collectionGroup","readTime","prefixPath","documentId"],GD=["canonicalId","targetId"],vS=["targetId","path"],_S=["path","targetId"],ES=["collectionId","parent"],wS=["indexId","uid"],WD=["uid","sequenceNumber"],lR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qD=["indexId","uid","orderedDocumentKey"],IS=["userId","collectionPath","documentId"],DS=["userId","collectionPath","largestBatchId"],dR=["userId","collectionGroup","largestBatchId"],KD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CS=[...KD,"documentOverlays"],ZD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YD=ZD,bS=[...YD,"indexConfiguration","indexState","indexEntries"];class RE extends VD{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ai(n,e){const t=et(n);return Ko.M(t.ht,e)}function QD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class kn{constructor(e,t){this.comparator=e,this.root=t||mr.EMPTY}insert(e,t){return new kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ay(this.root,e,this.comparator,!0)}}class Ay{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??mr.RED,this.left=o??mr.EMPTY,this.right=u??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new mr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return mr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1,mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,o){return this}insert(n,e,t){return new mr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rd(n){return n.hasNext()?n.getNext():void 0}class Yi{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new Yi([])}unionWith(e){let t=new Fn(ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new OE("Invalid base64 string: "+o):o}}(e);return new Gr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ac(n){if(yt(!!n),"string"==typeof n){let e=0;const t=hR.exec(n);if(yt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xu(n){return"string"==typeof n?Gr.fromBase64String(n):Gr.fromUint8Array(n)}function My(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xy(n){const e=n.mapValue.fields.__previous_value__;return My(e)?xy(e):e}function Ru(n){const e=Ac(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class SS{constructor(e,t,r,o,u,l,m,E,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=E,this.useFetchStreams=b}}class La{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}const vi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ry={nullValue:"NULL_VALUE"};function Va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?My(n)?4:kE(n)?9007199254740991:10:ut()}function ys(n,e){if(n===e)return!0;const t=Va(n);if(t!==Va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ru(n).isEqual(Ru(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Ac(r.timestampValue),l=Ac(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,xu(n.bytesValue).isEqual(xu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return cr(r.geoPointValue.latitude)===cr(o.geoPointValue.latitude)&&cr(r.geoPointValue.longitude)===cr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return cr(r.integerValue)===cr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=cr(r.doubleValue),l=cr(o.doubleValue);return u===l?dg(u)===dg(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return nf(n.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(QD(u)!==QD(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!ys(u[m],l[m])))return!1;return!0}(n,e);default:return ut()}var o}function hg(n,e){return void 0!==(n.values||[]).find(t=>ys(t,e))}function Mc(n,e){if(n===e)return 0;const t=Va(n),r=Va(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=cr(o.integerValue||o.doubleValue),m=cr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return JD(n.timestampValue,e.timestampValue);case 4:return JD(Ru(n),Ru(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(o,u){const l=xu(o),m=xu(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let E=0;E<l.length&&E<m.length;E++){const b=Lt(l[E],m[E]);if(0!==b)return b}return Lt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Lt(cr(o.latitude),cr(u.latitude));return 0!==l?l:Lt(cr(o.longitude),cr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let E=0;E<l.length&&E<m.length;++E){const b=Mc(l[E],m[E]);if(b)return b}return Lt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===vi.mapValue&&u===vi.mapValue)return 0;if(o===vi.mapValue)return 1;if(u===vi.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),E=u.fields||{},b=Object.keys(E);m.sort(),b.sort();for(let A=0;A<m.length&&A<b.length;++A){const N=Lt(m[A],b[A]);if(0!==N)return N;const H=Mc(l[m[A]],E[b[A]]);if(0!==H)return H}return Lt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw ut()}}function JD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=Ac(n),r=Ac(e),o=Lt(t.seconds,r.seconds);return 0!==o?o:Lt(t.nanos,r.nanos)}function Nu(n){return Ny(n)}function Ny(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ac(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xu(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=Ny(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${Ny(r.fields[m])}`;return u+"}"}(n.mapValue):ut();var e}function id(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fg(n){return!!n&&"integerValue"in n}function pg(n){return!!n&&"arrayValue"in n}function eC(n){return!!n&&"nullValue"in n}function PE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Py(n){return!!n&&"mapValue"in n}function gg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ky(n){return"nullValue"in n?Ry:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?id(La.empty(),Ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function AS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?id(La.empty(),Ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?vi:ut()}function tC(n,e){const t=Mc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function FE(n,e){const t=Mc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Py(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gg(t)}setAll(e){let t=ur.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=gg(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Py(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Py(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ui(gg(this.value))}}function Fy(n){const e=[];return Sc(n.fields,(t,r)=>{const o=new ur([t]);if(Py(r)){const u=Fy(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new Yi(e)}class Ln{constructor(e,t,r,o,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Ln(e,0,It.min(),It.min(),It.min(),ui.empty(),0)}static newFoundDocument(e,t,r,o){return new Ln(e,1,t,It.min(),r,o,0)}static newNoDocument(e,t){return new Ln(e,2,t,It.min(),It.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,It.min(),It.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xc{constructor(e,t){this.position=e,this.inclusive=t}}function LE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?Ye.comparator(Ye.fromName(l.referenceValue),t.key):Mc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function VE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ys(n.position[t],e.position[t]))return!1;return!0}class af{constructor(e,t="asc"){this.field=e,this.dir=t}}function MS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ly{}class Yt extends Ly{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new iC(e,t,r):"array-contains"===t?new RS(e,r):"in"===t?new HE(e,r):"not-in"===t?new oC(e,r):"array-contains-any"===t?new NS(e,r):new Yt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new xS(e,r):new sC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Mc(t,this.value)):null!==t&&Va(this.value)===Va(t)&&this.matchesComparison(Mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends Ly{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new vn(e,t)}matches(e){return Rc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rc(n){return"and"===n.op}function mg(n){return"or"===n.op}function UE(n){return nC(n)&&Rc(n)}function nC(n){for(const e of n.filters)if(e instanceof vn)return!1;return!0}function BE(n){if(n instanceof Yt)return n.field.canonicalString()+n.op.toString()+Nu(n.value);if(UE(n))return n.filters.map(e=>BE(e)).join(",");{const e=n.filters.map(t=>BE(t)).join(",");return`${n.op}(${e})`}}function rC(n,e){return n instanceof Yt?(t=n,(r=e)instanceof Yt&&t.op===r.op&&t.field.isEqual(r.field)&&ys(t.value,r.value)):n instanceof vn?function(t,r){return r instanceof vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&rC(u,r.filters[l]),!0)}(n,e):void ut();var t,r}function jE(n,e){const t=n.filters.concat(e);return vn.create(t,n.op)}function Vy(n){return n instanceof Yt?`${(e=n).field.canonicalString()} ${e.op} ${Nu(e.value)}`:n instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(Vy).join(" ,")+"}"}(n):"Filter";var e}class iC extends Yt{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class xS extends Yt{constructor(e,t){super(e,"in",t),this.keys=$E(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sC extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=$E(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $E(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class RS extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pg(t)&&hg(t.arrayValue,this.value)}}class HE extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hg(this.value.arrayValue,t)}}class oC extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hg(this.value.arrayValue,t)}}class NS extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hg(this.value.arrayValue,r))}}class aC{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function zE(n,e=null,t=[],r=[],o=null,u=null,l=null){return new aC(n,e,t,r,o,u,l)}function yr(n){const e=et(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>BE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nu(r)).join(",")),e.dt=t}return e.dt}function Ua(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VE(n.startAt,e.startAt)&&VE(n.endAt,e.endAt)}function Uy(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function By(n,e){return n.filters.filter(t=>t instanceof Yt&&t.field.isEqual(e))}function OS(n,e,t){let r=Ry,o=!0;for(const u of By(n,e)){let l=Ry,m=!0;switch(u.op){case"<":case"<=":l=ky(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=Ry}tC({value:r,inclusive:o},{value:l,inclusive:m})<0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];tC({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function PS(n,e,t){let r=vi,o=!0;for(const u of By(n,e)){let l=vi,m=!0;switch(u.op){case">=":case">":l=AS(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=vi}FE({value:r,inclusive:o},{value:l,inclusive:m})>0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];FE({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class Ba{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=E,this.wt=null,this._t=null}}function jy(n,e,t,r,o,u,l,m){return new Ba(n,e,t,r,o,u,l,m)}function ja(n){return new Ba(n)}function uC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $y(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Hy(n){return null!==n.collectionGroup}function sd(n){const e=et(n);if(null===e.wt){e.wt=[];const t=$y(e),r=yg(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new af(t)),e.wt.push(new af(ur.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new af(ur.keyField(),u))}}}return e.wt}function Qi(n){const e=et(n);if(!e._t)if("F"===e.limitType)e._t=zE(e.path,e.collectionGroup,sd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of sd(e))t.push(new af(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new xc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new xc(e.startAt.position,e.startAt.inclusive):null;e._t=zE(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function GE(n,e){e.getFirstInequalityField(),$y(n);const t=n.filters.concat([e]);return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function uf(n,e,t){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cf(n,e){return Ua(Qi(n),Qi(e))&&n.limitType===e.limitType}function cC(n){return`${yr(Qi(n))}|lt:${n.limitType}`}function lf(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Vy(r)).join(", ")}]`),sf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nu(r)).join(",")),`Target(${t})`}(Qi(n))}; limitType=${n.limitType})`}function od(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ye.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of sd(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=LE(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,sd(t),r)||t.endAt&&!function(o,u,l){const m=LE(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,sd(t),r)));var t,r}function kS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WE(n){return(e,t)=>{let r=!1;for(const o of sd(n)){const u=FS(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function FS(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),E=l.data.field(o);return null!==m&&null!==E?Mc(m,E):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}class $a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return XD(this.inner)}size(){return this.innerSize}}const df=new kn(Ye.comparator);function vs(){return df}const qE=new kn(Ye.comparator);function ad(...n){let e=qE;for(const t of n)e=e.insert(t.key,t);return e}function LS(n){let e=qE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ha(){return vg()}function VS(){return vg()}function vg(){return new $a(n=>n.toString(),(n,e)=>n.isEqual(e))}const US=new kn(Ye.comparator),BS=new Fn(Ye.comparator);function zt(...n){let e=BS;for(const t of n)e=e.add(t);return e}const lC=new Fn(Lt);function KE(){return lC}function ZE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dg(e)?"-0":e}}function YE(n){return{integerValue:""+n}}function dC(n,e){return yS(e)?YE(e):ZE(n,e)}class zy{constructor(){this._=void 0}}function hC(n,e,t){return n instanceof ud?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&My(o)&&(o=xy(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Nc?XE(n,e):n instanceof cd?fC(n,e):function(r,o){const u=QE(r,o),l=JE(u)+JE(r.gt);return fg(u)&&fg(r.gt)?YE(l):ZE(r.serializer,l)}(n,e)}function jS(n,e,t){return n instanceof Nc?XE(n,e):n instanceof cd?fC(n,e):t}function QE(n,e){return n instanceof _g?fg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ud extends zy{}class Nc extends zy{constructor(e){super(),this.elements=e}}function XE(n,e){const t=$S(e);for(const r of n.elements)t.some(o=>ys(o,r))||t.push(r);return{arrayValue:{values:t}}}class cd extends zy{constructor(e){super(),this.elements=e}}function fC(n,e){let t=$S(e);for(const r of n.elements)t=t.filter(o=>!ys(o,r));return{arrayValue:{values:t}}}class _g extends zy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function JE(n){return cr(n.integerValue||n.doubleValue)}function $S(n){return pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gy{constructor(e,t){this.field=e,this.transform=t}}class pR{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ew(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tw{}function HS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Eg(n.key,Jn.none()):new ff(n.key,n.data,Jn.none());{const t=n.data,r=ui.empty();let o=new Fn(ur.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new _o(n.key,r,new Yi(o.toArray()),Jn.none())}}function gR(n,e,t){n instanceof ff?function(r,o,u){const l=r.value.clone(),m=zS(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof _o?function(r,o,u){if(!ew(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=zS(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(pC(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hf(n,e,t,r){return n instanceof ff?function(o,u,l,m){if(!ew(o.precondition,u))return l;const E=o.value.clone(),b=GS(o.fieldTransforms,m,u);return E.setAll(b),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof _o?function(o,u,l,m){if(!ew(o.precondition,u))return l;const E=GS(o.fieldTransforms,m,u),b=u.data;return b.setAll(pC(o)),b.setAll(E),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):(l=t,ew(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function nw(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=QE(r.transform,o||null);null!=u&&(null===t&&(t=ui.empty()),t.set(r.field,u))}return t||null}function rw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&nf(t,r,(o,u)=>function fR(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Nc&&r instanceof Nc||t instanceof cd&&r instanceof cd?nf(t.elements,r.elements,ys):t instanceof _g&&r instanceof _g?ys(t.gt,r.gt):t instanceof ud&&r instanceof ud);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ff extends tw{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _o extends tw{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function zS(n,e,t){const r=new Map;yt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,jS(l,m,t[o]))}return r}function GS(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,hC(u,l,e))}return r}class Eg extends tw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wy extends tw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iw{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gR(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=VS();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const E=HS(l,m);null!==E&&r.set(o.key,E),l.isValidDocument()||l.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&nf(this.mutations,e.mutations,(t,r)=>rw(t,r))&&nf(this.baseMutations,e.baseMutations,(t,r)=>rw(t,r))}}class sw{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){yt(e.mutations.length===r.length);let o=US;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new sw(e,t,r,o)}}class ow{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class WS{constructor(e,t){this.count=e,this.unchangedNames=t}}var vr,rn;function qS(n){switch(n){default:return ut();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Eo(n){if(void 0===n)return ar("GRPC error has no .code"),ce.UNKNOWN;switch(n){case vr.OK:return ce.OK;case vr.CANCELLED:return ce.CANCELLED;case vr.UNKNOWN:return ce.UNKNOWN;case vr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case vr.INTERNAL:return ce.INTERNAL;case vr.UNAVAILABLE:return ce.UNAVAILABLE;case vr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case vr.NOT_FOUND:return ce.NOT_FOUND;case vr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case vr.ABORTED:return ce.ABORTED;case vr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case vr.DATA_LOSS:return ce.DATA_LOSS;default:return ut()}}(rn=vr||(vr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class qy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ky}static getOrCreateInstance(){return null===Ky&&(Ky=new qy),Ky}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ky=null;function KS(){return new TextEncoder}const Xi=new ef([4294967295,4294967295],0);function gC(n){const e=KS().encode(n),t=new MD;return t.update(e),new Uint8Array(t.digest())}function Zy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ef([t,r],0),new ef([o,u],0)]}class aw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wg(`Invalid padding: ${t}`);if(r<0)throw new wg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new wg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ef.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(ef.fromNumber(r)));return 1===o.compare(Xi)&&(o=new ef([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=gC(e),[r,o]=Zy(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new aw(u,o,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=gC(e),[r,o]=Zy(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class wg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ld{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ld(It.min(),o,new kn(Lt),vs(),zt())}}class pf{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pf(r,t,zt(),zt(),zt())}}class Ig{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class mC{constructor(e,t){this.targetId=e,this.Vt=t}}class uw{constructor(e,t,r=Gr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class cw{constructor(){this.St=0,this.Dt=vC(),this.Ct=Gr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=zt(),t=zt(),r=zt();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ut()}}),new pf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=vC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vs(),this.zt=lw(),this.Wt=new kn(Lt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Uy(l))if(0===o){const m=new Ye(l.path);this.Yt(r,m,Ln.newNoDocument(m,It.min()))}else yt(1===o);else{const m=this.ie(r);if(m!==o){const E=this.re(e,m);0!==E&&(this.ee(r),this.Wt=this.Wt.insert(r,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=qy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,A,N){var H,te,Ee,Te,Pe,lt;const At={localCacheCount:A,existenceFilterCount:N.count},ot=N.unchangedNames;return ot&&(At.bloomFilter={applied:0===b,hashCount:null!==(H=ot?.hashCount)&&void 0!==H?H:0,bitmapLength:null!==(Te=null===(Ee=null===(te=ot?.bits)||void 0===te?void 0:te.bitmap)||void 0===Ee?void 0:Ee.length)&&void 0!==Te?Te:0,padding:null!==(lt=null===(Pe=ot?.bits)||void 0===Pe?void 0:Pe.padding)&&void 0!==lt?lt:0}),At}(E,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let E,b;try{E=xu(u).toUint8Array()}catch(A){if(A instanceof OE)return Zi("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{b=new aw(E,l,m)}catch(A){return Zi(A instanceof wg?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===b.It?1:o!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&Uy(m.target)){const E=new Ye(m.target.path);null!==this.jt.get(E)||this.ae(l,E)||this.Yt(l,E,Ln.newNoDocument(E,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=zt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(E=>{const b=this.se(E);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new ld(e,t,this.Wt,this.jt,r);return this.jt=vs(),this.zt=lw(),this.Wt=new kn(Lt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Fn(Lt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cw),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lw(){return new kn(Ye.comparator)}function vC(){return new kn(Ye.comparator)}const _C={asc:"ASCENDING",desc:"DESCENDING"},ZS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dw={and:"AND",or:"OR"};class Oc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yy(n,e){return n.useProto3Json||sf(e)?e:{value:e}}function Pc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qy(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YS(n,e){return Pc(n,e.toTimestamp())}function Nr(n){return yt(!!n),It.fromTimestamp(function(e){const t=Ac(e);return new Qn(t.seconds,t.nanos)}(n))}function Xy(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EC(n){const e=an.fromString(n);return yt(tA(e)),e}function Dg(n,e){return Xy(n.databaseId,e.path)}function za(n,e){const t=EC(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(pw(t))}function hw(n,e){return Xy(n.databaseId,e)}function fw(n){const e=EC(n);return 4===e.length?an.emptyPath():pw(e)}function Jy(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pw(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wC(n,e,t){return{name:Dg(n,e),fields:t.value.mapValue.fields}}function gw(n,e,t){const r=za(n,e.name),o=Nr(e.updateTime),u=e.createTime?Nr(e.createTime):It.min(),l=new ui({mapValue:{fields:e.fields}}),m=Ln.newFoundDocument(r,o,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function gf(n,e){let t;if(e instanceof ff)t={update:wC(n,e.key,e.value)};else if(e instanceof Eg)t={delete:Dg(n,e.key)};else if(e instanceof _o)t={update:wC(n,e.key,e.data),updateMask:eA(e.fieldMask)};else{if(!(e instanceof Wy))return ut();t={verify:Dg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Nc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof _g)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:YS(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ut()),t;var o}function ev(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Jn.updateTime(Nr(o.updateTime)):void 0!==o.exists?Jn.exists(o.exists):Jn.none():Jn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let m=null;"setToServerValue"in l?(yt("REQUEST_TIME"===l.setToServerValue),m=new ud):"appendMissingElements"in l?m=new Nc(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new cd(l.removeAllFromArray.values||[]):"increment"in l?m=new _g(u,l.increment):ut();const E=ur.fromServerFormat(l.fieldPath);return new Gy(E,m)}(n,o)):[];var o;if(e.update){const o=za(n,e.update.name),u=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Yi((e.updateMask.fieldPaths||[]).map(b=>ur.fromServerFormat(b)));return new _o(o,u,l,t,r)}return new ff(o,u,t,r)}if(e.delete){const o=za(n,e.delete);return new Eg(o,t)}if(e.verify){const o=za(n,e.verify);return new Wy(o,t)}return ut()}function yw(n,e){return{documents:[hw(n,e.path)]}}function tv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=hw(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hw(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0!==E.length)return DC(vn.create(E,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(b=>{return{field:hd((A=b).field),direction:IC(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=Yy(n,e.limit);var m,E;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function dd(n){let e=fw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){yt(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const N=vw(A);return N instanceof vn&&UE(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(A=>{return new af(fd((N=A).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(A){let N;return N="object"==typeof A?A.value:A,sf(N)?null:N}(t.limit));let E=null;var A;t.startAt&&(E=new xc((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new xc(A.values||[],!A.before)}(t.endAt)),jy(e,o,l,u,m,"F",E,b)}function vw(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fd(e.unaryFilter.field);return Yt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=fd(e.unaryFilter.field);return Yt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fd(e.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fd(e.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?Yt.create(fd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return vn.create(e.compositeFilter.filters.map(t=>vw(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function IC(n){return _C[n]}function XS(n){return ZS[n]}function JS(n){return dw[n]}function hd(n){return{fieldPath:n.canonicalString()}}function fd(n){return ur.fromServerFormat(n.fieldPath)}function DC(n){return n instanceof Yt?function(e){if("=="===e.op){if(PE(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NAN"}};if(eC(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PE(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NOT_NAN"}};if(eC(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(e.field),op:XS(e.op),value:e.value}}}(n):n instanceof vn?function(e){const t=e.getFilters().map(r=>DC(r));return 1===t.length?t[0]:{compositeFilter:{op:JS(e.op),filters:t}}}(n):ut()}function eA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class kc{constructor(e,t,r,o,u=It.min(),l=It.min(),m=Gr.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=E}withSequenceNumber(e){return new kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nA{constructor(e){this.fe=e}}function bC(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Dg(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Pc(o,u.version.toTimestamp()),createTime:Pc(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:pd(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:pd(e.version)}}var o,u;return r}function rv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function pd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mf(n){const e=new Qn(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function yf(n,e){const t=(e.baseMutations||[]).map(u=>ev(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>ev(n.fe,u)),o=Qn.fromMillis(e.localWriteTimeMs);return new iw(e.batchId,o,t,r)}function iv(n){const e=mf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mf(n.lastLimboFreeSnapshotVersion):It.min();let r;var o;return void 0!==n.query.documents?(yt(1===(o=n.query).documents.length),r=Qi(ja(fw(o.documents[0])))):r=Qi(dd(n.query)),new kc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Gr.fromBase64String(n.resumeToken))}function rA(n,e){const t=pd(e.snapshotVersion),r=pd(e.lastLimboFreeSnapshotVersion);let o;o=Uy(e.target)?yw(n.fe,e.target):tv(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yr(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function TC(n){const e=dd({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uf(e,e.limit,"L"):e}function _w(n,e){return new ow(e.largestBatchId,ev(n.fe,e.overlayMutation))}function Cg(n,e){const t=e.path.lastSegment();return[n,oi(e.path.popLast()),t]}function SC(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:pd(r.readTime),documentKey:oi(r.documentKey.path),largestBatchId:r.largestBatchId}}class iA{getBundleMetadata(e,t){return Ew(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:mf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Ew(e).put({bundleId:(r=t).id,createTime:pd(Nr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Fc(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:TC(o.bundledQuery),readTime:mf(o.readTime)};var o})}saveNamedQuery(e,t){return Fc(e).put({name:(r=t).name,readTime:pd(Nr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ew(n){return ai(n,"bundles")}function Fc(n){return ai(n,"namedQueries")}class bg{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new bg(e,t.uid||"")}getOverlay(e,t){return gd(e).get(Cg(this.userId,t)).next(r=>r?_w(this.serializer,r):null)}getOverlays(e,t){const r=Ha();return oe.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const m=new ow(t,l);o.push(this.we(e,m))}),oe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(oi(l.getCollectionPath())));const u=[];return o.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(gd(e).J("collectionPathOverlayIndex",m))}),oe.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Ha(),u=oi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return gd(e).j("collectionPathOverlayIndex",l).next(m=>{for(const E of m){const b=_w(this.serializer,E);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Ha();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gd(e).X({index:"collectionGroupOverlayIndex",range:m},(E,b,A)=>{const N=_w(this.serializer,b);u.size()<o||N.largestBatchId===l?(u.set(N.getKey(),N),l=N.largestBatchId):A.done()}).next(()=>u)}we(e,t){return gd(e).put(function(r,o,u){const[l,m,E]=Cg(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:gf(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function gd(n){return ai(n,"documentOverlays")}class Ou{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(cr(e.integerValue));else if("doubleValue"in e){const r=cr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),dg(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?kE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ut()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Ye.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function sA(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function sv(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=sA(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Ou.Ve=new Ou;class ww{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=sv(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=sv(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class ov{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class vR{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class av{constructor(){this.je=new ww,this.ze=new ov(this.je),this.We=new vR(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class vf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new vf(this.indexId,this.documentKey,this.arrayValue,r)}}function Pu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=AC(n.arrayValue,e.arrayValue),0!==t?t:(t=AC(n.directionalValue,e.directionalValue),0!==t?t:Ye.comparator(n.documentKey,e.documentKey)))}function AC(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class oA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){yt(e.collectionGroup===this.collectionId);const t=Iy(e);if(void 0!==t&&!this.en(t))return!1;const r=ed(e);let o=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function MC(n){var e,t;if(yt(n instanceof Yt||n instanceof vn),n instanceof Yt){if(n instanceof HE){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Yt.create(n.field,"==",u)))||[];return vn.create(o,"or")}return n}const r=n.filters.map(o=>MC(o));return vn.create(r,n.op)}function aA(n){if(0===n.getFilters().length)return[];const e=Dw(MC(n));return yt(Iw(e)),uv(e)||cv(e)?[e]:e.getFilters()}function uv(n){return n instanceof Yt}function cv(n){return n instanceof vn&&UE(n)}function Iw(n){return uv(n)||cv(n)||function(e){if(e instanceof vn&&mg(e)){for(const t of e.getFilters())if(!uv(t)&&!cv(t))return!1;return!0}return!1}(n)}function Dw(n){if(yt(n instanceof Yt||n instanceof vn),n instanceof Yt)return n;if(1===n.filters.length)return Dw(n.filters[0]);const e=n.filters.map(r=>Dw(r));let t=vn.create(e,n.op);return t=_f(t),Iw(t)?t:(yt(t instanceof vn),yt(Rc(t)),yt(t.filters.length>1),t.filters.reduce((r,o)=>Cw(r,o)))}function Cw(n,e){let t;return yt(n instanceof Yt||n instanceof vn),yt(e instanceof Yt||e instanceof vn),t=n instanceof Yt?e instanceof Yt?vn.create([n,e],"and"):bw(n,e):e instanceof Yt?bw(e,n):function(r,o){if(yt(r.filters.length>0&&o.filters.length>0),Rc(r)&&Rc(o))return jE(r,o.getFilters());const u=mg(r)?r:o,l=mg(r)?o:r,m=u.filters.map(E=>Cw(E,l));return vn.create(m,"or")}(n,e),_f(t)}function bw(n,e){if(Rc(e))return jE(e,n.getFilters());{const t=e.filters.map(r=>Cw(n,r));return vn.create(t,"or")}}function _f(n){if(yt(n instanceof Yt||n instanceof vn),n instanceof Yt)return n;const e=n.getFilters();if(1===e.length)return _f(e[0]);if(nC(n))return n;const t=e.map(o=>_f(o)),r=[];return t.forEach(o=>{o instanceof Yt?r.push(o):o instanceof vn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:vn.create(r,n.op)}class _R{constructor(){this.rn=new lv}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(qs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class lv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Fn(an.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Fn(an.comparator)).toArray()}}const Ef=new Uint8Array(0);class uA{constructor(e,t){this.user=e,this.databaseId=t,this.on=new lv,this.un=new $a(r=>yr(r),(r,o)=>Ua(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:oi(o)};return xC(e).put(u)}return oe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Ey(t),""],!1,!0);return xC(e).j(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Zo(l.parent))}return r})}addFieldIndex(e,t){const r=Tw(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=Tg(e);return u.next(m=>{l.put(SC(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Tw(e),o=Tg(e),u=dv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=dv(e);let o=!0;const u=new Map;return oe.forEach(this.cn(t),l=>this.an(e,l).next(m=>{o&&(o=!!m),u.set(l,m)})).next(()=>{if(o){let l=zt();const m=[];return oe.forEach(u,(E,b)=>{var A;je("IndexedDbIndexManager",`Using index ${A=E,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${yr(t)}`);const N=function(ot,Mt){const jt=Iy(Mt);if(void 0===jt)return null;for(const en of By(ot,jt.fieldPath))switch(en.op){case"array-contains-any":return en.value.arrayValue.values||[];case"array-contains":return[en.value]}return null}(b,E),H=function(ot,Mt){const jt=new Map;for(const en of ed(Mt))for(const Es of By(ot,en.fieldPath))switch(Es.op){case"==":case"in":jt.set(en.fieldPath.canonicalString(),Es.value);break;case"not-in":case"!=":return jt.set(en.fieldPath.canonicalString(),Es.value),Array.from(jt.values())}return null}(b,E),te=function(ot,Mt){const jt=[];let en=!0;for(const Es of ed(Mt)){const Fg=0===Es.kind?OS(ot,Es.fieldPath,ot.startAt):PS(ot,Es.fieldPath,ot.startAt);jt.push(Fg.value),en&&(en=Fg.inclusive)}return new xc(jt,en)}(b,E),Ee=function(ot,Mt){const jt=[];let en=!0;for(const Es of ed(Mt)){const Fg=0===Es.kind?PS(ot,Es.fieldPath,ot.endAt):OS(ot,Es.fieldPath,ot.endAt);jt.push(Fg.value),en&&(en=Fg.inclusive)}return new xc(jt,en)}(b,E),Te=this.hn(E,b,te),Pe=this.hn(E,b,Ee),lt=this.ln(E,b,H),At=this.fn(E.indexId,N,Te,te.inclusive,Pe,Ee.inclusive,lt);return oe.forEach(At,ot=>r.H(ot,t.limit).next(Mt=>{Mt.forEach(jt=>{const en=Ye.fromSegments(jt.documentKey);l.has(en)||(l=l.add(en),m.push(en))})}))}).next(()=>m)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:aA(vn.create(e.filters,"and")).map(r=>zE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,l,m){const E=(null!=t?t.length:1)*Math.max(r.length,u.length),b=E/(null!=t?t.length:1),A=[];for(let N=0;N<E;++N){const H=t?this.dn(t[N/b]):Ef,te=this.wn(e,H,r[N%b],o),Ee=this._n(e,H,u[N%b],l),Te=m.map(Pe=>this.wn(e,H,Pe,!0));A.push(...this.createRange(te,Ee,Te))}return A}wn(e,t,r,o){const u=new vf(e,Ye.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new vf(e,Ye.empty(),t,r);return o?u.Je():u}an(e,t){const r=new oA(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const o=this.cn(t);return oe.forEach(o,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let E=new Fn(ur.comparator),b=!1;for(const A of m.filters)for(const N of A.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?b=!0:E=E.add(N.field));for(const A of m.orderBy)A.field.isKeyField()||(E=E.add(A.field));return E.size+(b?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new av;for(const o of ed(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.He(o.kind);Ou.Ve._e(u,l)}return r.Qe()}dn(e){const t=new av;return Ou.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new av;return Ou.Ve._e(id(this.databaseId,t),r.He(function(o){const u=ed(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new av);let u=0;for(const l of ed(e)){const m=r[u++];for(const E of o)if(this.yn(t,l.fieldPath)&&pg(m))o=this.pn(o,l,m);else{const b=E.He(l.kind);Ou.Ve._e(m,b)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of o){const E=new av;E.seed(m.Qe()),Ou.Ve._e(l,E.He(t.kind)),u.push(E)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Yt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Tw(e),o=Tg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return oe.forEach(u,m=>o.get([m.indexId,this.uid]).next(E=>{l.push(function(b,A){const N=A?new cg(A.sequenceNumber,new qs(mf(A.readTime),new Ye(Zo(A.documentKey)),A.largestBatchId)):cg.empty(),H=b.fields.map(([te,Ee])=>new Dy(ur.fromServerFormat(te),Ee));return new wy(b.indexId,b.collectionGroup,H,N)}(m,E))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Tw(e),u=Tg(e);return this.Tn(e).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>oe.forEach(m,E=>u.put(SC(E.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?oe.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),oe.forEach(m,E=>this.En(e,o,E).next(b=>{const A=this.An(u,E);return b.isEqual(A)?oe.resolve():this.vn(e,u,E,b,A)}))))})}Rn(e,t,r,o){return dv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return dv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=dv(e);let u=new Fn(Pu);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,m)=>{u=u.add(new vf(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new Fn(Pu);const o=this.mn(t,e);if(null==o)return r;const u=Iy(t);if(null!=u){const l=e.data.field(u.fieldPath);if(pg(l))for(const m of l.arrayValue.values||[])r=r.add(new vf(t.indexId,e.key,this.dn(m),o))}else r=r.add(new vf(t.indexId,e.key,Ef,o));return r}vn(e,t,r,o,u){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,E,b,A,N){const H=m.getIterator(),te=E.getIterator();let Ee=rd(H),Te=rd(te);for(;Ee||Te;){let Pe=!1,lt=!1;if(Ee&&Te){const At=b(Ee,Te);At<0?lt=!0:At>0&&(Pe=!0)}else null!=Ee?lt=!0:Pe=!0;Pe?(A(Te),Te=rd(te)):lt?(N(Ee),Ee=rd(H)):(Ee=rd(H),Te=rd(te))}}(o,u,Pu,m=>{l.push(this.Rn(e,t,r,m))},m=>{l.push(this.Pn(e,t,r,m))}),oe.waitFor(l)}Tn(e){let t=1;return Tg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>Pu(l,m)).filter((l,m,E)=>!m||0!==Pu(l,E[m-1]));const o=[];o.push(e);for(const l of r){const m=Pu(l,e),E=Pu(l,t);if(0===m)o[0]=e.Je();else if(m>0&&E<0)o.push(l),o.push(l.Je());else if(E>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,Ef,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,Ef,[]]))}return u}bn(e,t){return Pu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RC)}getMinOffset(e,t){return oe.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||ut())).next(RC)}}function xC(n){return ai(n,"collectionParents")}function dv(n){return ai(n,"indexEntries")}function Tw(n){return ai(n,"indexConfiguration")}function Tg(n){return ai(n,"indexState")}function RC(n){yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Cy(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new qs(e.readTime,e.documentKey,t)}const NC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ni{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Sw(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const E=r.X({range:l},(A,N,H)=>(m++,H.delete()));u.push(E.next(()=>{yt(1===m)}));const b=[];for(const A of t.mutations){const N=ME(e,A.key.path,t.batchId);u.push(o.delete(N)),b.push(A.key)}return oe.waitFor(u).next(()=>b)}function Sg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(41943040,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);class Aw{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){yt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Aw(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ga(e).X({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=md(e),l=Ga(e);return l.add({}).next(m=>{yt("number"==typeof m);const E=new iw(m,t,r,o),b=function(H,te,Ee){const Te=Ee.baseMutations.map(lt=>gf(H.fe,lt)),Pe=Ee.mutations.map(lt=>gf(H.fe,lt));return{userId:te,batchId:Ee.batchId,localWriteTimeMs:Ee.localWriteTime.toMillis(),baseMutations:Te,mutations:Pe}}(this.serializer,this.userId,E),A=[];let N=new Fn((H,te)=>Lt(H.canonicalString(),te.canonicalString()));for(const H of o){const te=ME(this.userId,H.key.path,m);N=N.add(H.key.path.popLast()),A.push(l.put(b)),A.push(u.put(te,xE))}return N.forEach(H=>{A.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.Vn[m]=E.keys()}),oe.waitFor(A).next(()=>E)})}lookupMutationBatch(e,t){return Ga(e).get(t).next(r=>r?(yt(r.userId===this.userId),yf(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Ga(e).X({index:"userMutationsIndex",range:o},(l,m,E)=>{m.userId===this.userId&&(yt(m.batchId>=r),u=yf(this.serializer,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ga(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ga(e).j("userMutationsIndex",t).next(r=>r.map(o=>yf(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Sy(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return md(e).X({range:o},(l,m,E)=>{const[b,A,N]=l,H=Zo(A);if(b===this.userId&&t.path.isEqual(H))return Ga(e).get(N).next(te=>{if(!te)throw ut();yt(te.userId===this.userId),u.push(yf(this.serializer,te))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Lt);const o=[];return t.forEach(u=>{const l=Sy(this.userId,u.path),m=IDBKeyRange.lowerBound(l),E=md(e).X({range:m},(b,A,N)=>{const[H,te,Ee]=b,Te=Zo(te);H===this.userId&&u.path.isEqual(Te)?r=r.add(Ee):N.done()});o.push(E)}),oe.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Sy(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new Fn(Lt);return md(e).X({range:l},(E,b,A)=>{const[N,H,te]=E,Ee=Zo(H);N===this.userId&&r.isPrefixOf(Ee)?Ee.length===o&&(m=m.add(te)):A.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Ga(e).get(u).next(l=>{if(null===l)throw ut();yt(l.userId===this.userId),r.push(yf(this.serializer,l))}))}),oe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Sw(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return md(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const E=Zo(u[1]);o.push(E)}else m.done()}).next(()=>{yt(0===o.length)})})}containsKey(e,t){return OC(e,this.userId,t)}xn(e){return Mw(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OC(n,e,t){const r=Sy(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return md(n).X({range:u,Y:!0},(m,E,b)=>{const[A,N,H]=m;A===e&&N===o&&(l=!0),b.done()}).next(()=>l)}function Ga(n){return ai(n,"mutations")}function md(n){return ai(n,"documentMutations")}function Mw(n){return ai(n,"mutationQueues")}class yd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new yd(0)}static Mn(){return new yd(-1)}}class xw{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new yd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>It.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(yt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return wf(e).X((l,m)=>{const E=iv(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>oe.waitFor(u)).next(()=>o)}forEachTarget(e,t){return wf(e).X((r,o)=>{const u=iv(o);t(u)})}$n(e){return PC(e).get("targetGlobalKey").next(t=>(yt(null!==t),t))}On(e,t){return PC(e).put("targetGlobalKey",t)}Fn(e,t){return wf(e).put(rA(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=yr(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return wf(e).X({range:o,index:"queryTargetsIndex"},(l,m,E)=>{const b=iv(m);Ua(t,b.target)&&(u=b,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=ku(e);return t.forEach(l=>{const m=oi(l.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,l))}),oe.waitFor(o)}removeMatchingKeys(e,t,r){const o=ku(e);return oe.forEach(t,u=>{const l=oi(u.path);return oe.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=ku(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ku(e);let u=zt();return o.X({range:r,Y:!0},(l,m,E)=>{const b=Zo(l[1]),A=new Ye(b);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=oi(t.path),o=IDBKeyRange.bound([r],[Ey(r)],!1,!0);let u=0;return ku(e).X({index:"documentTargetsIndex",Y:!0,range:o},([l,m],E,b)=>{0!==l&&(u++,b.done())}).next(()=>u>0)}le(e,t){return wf(e).get(t).next(r=>r?iv(r):null)}}function wf(n){return ai(n,"targets")}function PC(n){return ai(n,"targetGlobal")}function ku(n){return ai(n,"targetDocuments")}function Rw([n,e],[t,r]){const o=Lt(n,t);return 0===o?Lt(e,r):o}class ER{constructor(e){this.Ln=e,this.buffer=new Fn(Rw),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Mu(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Tc(r)}yield t.Qn(3e5)}))}}class hv{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(si.ct);const r=new ER(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(NC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,l,m,E,b;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,l=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(b=Date.now(),xD()<=Go.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-A}ms\n\tDetermined least recently used ${o} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${N} documents in `+(b-E)+`ms\nTotal Duration: ${b-A}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class lA{constructor(e,t){this.db=e,this.garbageCollector=function cA(n,e){return new hv(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return Nw(e,r)}removeReference(e,t,r){return Nw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Nw(e,t)}Xn(e,t){return function(r,o){let u=!1;return Mw(r).Z(l=>OC(r,l,o).next(m=>(m&&(u=!0),oe.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=t){const E=this.Xn(e,l).next(b=>{if(!b)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,It.min()),ku(e).delete([0,oi(l.path)])))});o.push(E)}}).next(()=>oe.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Nw(e,t)}Yn(e,t){const r=ku(e);let o,u=si.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:E,sequenceNumber:b})=>{0===l?(u!==si.ct&&t(new Ye(Zo(o)),u),u=b,o=E):u=si.ct}).next(()=>{u!==si.ct&&t(new Ye(Zo(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nw(n,e){return ku(n).put((r=n.currentSequenceNumber,{targetId:0,path:oi(e.path),sequenceNumber:r}));var r}class dA{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return If(e).put(r)}removeEntry(e,t,r){return If(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],rv(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Ln.newInvalidDocument(t);return If(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(fv(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Ln.newInvalidDocument(t)};return If(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(fv(t))},(o,u)=>{r={document:this.ts(t,u),size:Sg(u)}}).next(()=>r)}getEntries(e,t){let r=vs();return this.ns(e,t,(o,u)=>{const l=this.ts(o,u);r=r.insert(o,l)}).next(()=>r)}ss(e,t){let r=vs(),o=new kn(Ye.comparator);return this.ns(e,t,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),o=o.insert(u,Sg(l))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return oe.resolve();let o=new Fn(gA);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(fv(o.first()),fv(o.last())),l=o.getIterator();let m=l.getNext();return If(e).X({index:"documentKeyIndex",range:u},(E,b,A)=>{const N=Ye.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&gA(m,N)<0;)r(m,null),m=l.getNext();m&&m.isEqual(N)&&(r(m,b),m=l.hasNext()?l.getNext():null),m?A.G(fv(m)):A.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),rv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return If(e).j(IDBKeyRange.bound(l,m,!0)).next(E=>{let b=vs();for(const A of E){const N=this.ts(Ye.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);N.isFoundDocument()&&(od(t,N)||o.has(N.key))&&(b=b.insert(N.key,N))}return b})}getAllFromCollectionGroup(e,t,r,o){let u=vs();const l=FC(t,r),m=FC(t,qs.max());return If(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(E,b,A)=>{const N=this.ts(Ye.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(N.key,N),u.size===o&&A.done()}).next(()=>u)}newChangeBuffer(e){return new wR(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pA(e).get("remoteDocumentGlobalKey").next(t=>(yt(!!t),t))}Zn(e,t){return pA(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function CC(n,e){let t;if(e.document)t=gw(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ye.fromSegments(e.noDocument.path),o=mf(e.noDocument.readTime);t=Ln.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=Ye.fromSegments(e.unknownDocument.path),o=mf(e.unknownDocument.version);t=Ln.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Qn(r[0],r[1]);return It.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Ln.newInvalidDocument(e)}}function fA(n){return new hA(n)}class wR extends dA{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new $a(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Fn((u,l)=>Lt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const E=bC(this.os.serializer,l);o=o.add(u.path.popLast());const b=Sg(E);r+=b-m.size,t.push(this.os.addEntry(e,u,E))}else if(r-=m.size,this.trackRemovals){const E=bC(this.os.serializer,l.convertToNoDocument(It.min()));t.push(this.os.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function pA(n){return ai(n,"remoteDocumentGlobal")}function If(n){return ai(n,"remoteDocumentsV14")}function fv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FC(n,e){const t=e.documentKey.path.toArray();return[n,rv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gA(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Lt(t[u],r[u]),o)return o;return o=Lt(t.length,r.length),o||(o=Lt(t[t.length-2],r[r.length-2]),o||Lt(t[t.length-1],r[r.length-1]))}class IR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mA{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&hf(r.mutation,o,Yi.empty(),Qn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const o=Ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=ad();return u.forEach((m,E)=>{l=l.insert(m,E.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ha();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=vs();const l=vg(),m=vg();return t.forEach((E,b)=>{const A=r.get(b.key);o.has(b.key)&&(void 0===A||A.mutation instanceof _o)?u=u.insert(b.key,b):void 0!==A?(l.set(b.key,A.mutation.getFieldMask()),hf(A.mutation,b,A.mutation.getFieldMask(),Qn.now())):l.set(b.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,u).next(E=>(E.forEach((b,A)=>l.set(b,A)),t.forEach((b,A)=>{var N;return m.set(b,new IR(A,null!==(N=l.get(b))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=vg();let o=new kn((l,m)=>l-m),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(E=>{const b=t.get(E);if(null===b)return;let A=r.get(E)||Yi.empty();A=m.applyToLocalView(b,A),r.set(E,A);const N=(o.get(m.batchId)||zt()).add(E);o=o.insert(m.batchId,N)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),b=E.key,A=E.value,N=VS();A.forEach(H=>{if(!u.has(H)){const te=HS(t.get(H),r.get(H));null!==te&&N.set(H,te),u=u.add(H)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,N))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Hy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):oe.resolve(Ha());let m=-1,E=u;return l.next(b=>oe.forEach(b,(A,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(A)?oe.resolve():this.remoteDocumentCache.getEntry(e,A).next(H=>{E=E.insert(A,H)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,E,b,zt())).next(A=>({batchId:m,changes:LS(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let o=ad();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=ad();return this.indexManager.getCollectionParents(e,o).next(l=>oe.forEach(l,m=>{const E=(b=t,A=m.child(o),new Ba(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(b=>{b.forEach((A,N)=>{u=u.insert(A,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,E)=>{const b=E.getKey();null===u.get(b)&&(u=u.insert(b,Ln.newInvalidDocument(b)))});let l=ad();return u.forEach((m,E)=>{const b=o.get(m);void 0!==b&&hf(b.mutation,E,Yi.empty(),Qn.now()),od(t,E)&&(l=l.insert(m,E))}),l})}}class DR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Nr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:TC(r.bundledQuery),readTime:Nr(r.readTime)}),oe.resolve();var r}}class CR{constructor(){this.overlays=new kn(Ye.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ha();return oe.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const o=Ha(),u=t.length+1,l=new Ye(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const E=m.getNext().value,b=E.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new kn((b,A)=>b-A);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=Ha(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const m=Ha(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((b,A)=>m.set(b,A)),!(m.size()>=o)););return oe.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ow(t,r));let u=this.ls.get(t);void 0===u&&(u=zt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class Ow{constructor(){this.fs=new Fn(_i.ds),this.ws=new Fn(_i._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new _i(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new _i(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ye(new an([])),r=new _i(t,e),o=new _i(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ye(new an([])),r=new _i(t,e),o=new _i(t,e+1);let u=zt();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new _i(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _i{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ye.comparator(e.key,t.key)||Lt(e.As,t.As)}static _s(e,t){return Lt(e.As,t.As)||Ye.comparator(e.key,t.key)}}class i{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Fn(_i.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new iw(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this.Rs=this.Rs.add(new _i(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _i(t,0),o=new _i(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const m=this.Ps(l.As);u.push(m)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Lt);return t.forEach(o=>{const u=new _i(o,0),l=new _i(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ye.isDocumentKey(u)||(u=u.child(""));const l=new _i(new Ye(u),0);let m=new Fn(Lt);return this.Rs.forEachWhile(E=>{const b=E.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(E.As)),!0)},l),oe.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){yt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,o=>{const u=new _i(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new _i(t,0),o=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class s{constructor(e){this.Ds=e,this.docs=new kn(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ln.newInvalidDocument(o))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=vs();const l=t.path,m=new Ye(l.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:b,value:{document:A}}=E.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||Cy(LD(A),r)<=0||(o.has(A.key)||od(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,t,r,o){ut()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a(this)}getSize(e){return oe.resolve(this.size)}}class a extends dA{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class c{constructor(e){this.persistence=e,this.xs=new $a(t=>yr(t),Ua),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ow,this.targetCount=0,this.Ms=yd.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new yd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),oe.waitFor(u).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class d{constructor(e,t){this.$s={},this.overlays={},this.Os=new si(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new c(this),this.indexManager=new _R,this.remoteDocumentCache=new s(r=>this.referenceDelegate.Ls(r)),this.serializer=new nA(t),this.qs=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new i(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const o=new f(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class f extends VD{constructor(e){super(),this.currentSequenceNumber=e}}class y{constructor(e){this.persistence=e,this.Qs=new Ow,this.js=null}static zs(e){return new y(e)}get Ws(){if(this.js)return this.js;throw ut()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const o=Ye.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class D{constructor(e){this.serializer=e}O(e,t,r,o){const u=new Ty("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AE,{unique:!0}),m.createObjectStore("documentMutations"),S(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=oe.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),S(e)),l=l.next(()=>function(m){const E=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",b)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(m,E){return E.store("mutations").j().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AE,{unique:!0});const A=E.store("mutations"),N=b.map(H=>A.put(H));return oe.waitFor(N)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(u))),r<6&&o>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(u))),r<8&&o>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.ei(u))),r<11&&o>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:IS});E.createIndex("collectionPathOverlayIndex",DS,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",dR,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:$D});E.createIndex("documentKeyIndex",HD),E.createIndex("collectionGroupIndex",zD)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(e,u))),r<15&&o>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:wS}).createIndex("sequenceNumberIndex",WD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:lR}).createIndex("documentKeyIndex",qD,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=Sg(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>oe.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>oe.forEach(m,E=>{yt(E.userId===u.userId);const b=yf(this.serializer,E);return Sw(e,u.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((l,m)=>{const E=new an(l),b=[0,oi(E)];u.push(t.get(b).next(A=>A?oe.resolve():t.put({targetId:0,path:oi(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>oe.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ES});const r=t.store("collectionParents"),o=new lv,u=l=>{if(o.add(l)){const m=l.lastSegment(),E=l.popLast();return r.put({collectionId:m,parent:oi(E)})}};return t.store("remoteDocuments").X({Y:!0},(l,m)=>{const E=new an(l);return u(E.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,m,E],b)=>{const A=Zo(m);return u(A.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=iv(o),l=rA(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,l)=>{const m=t.store("remoteDocumentsV14"),E=(b=l,b.document?new Ye(an.fromString(b.document.name).popFirst(5)):b.noDocument?Ye.fromSegments(b.noDocument.path):b.unknownDocument?Ye.fromSegments(b.unknownDocument.path):ut()).path.toArray();var b;const A={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(m.put(A))}).next(()=>oe.waitFor(o))}si(e,t){const r=t.store("mutations"),o=fA(this.serializer),u=new d(y.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(E=>{var b;let A=null!==(b=m.get(E.userId))&&void 0!==b?b:zt();yf(this.serializer,E).keys().forEach(N=>A=A.add(N)),m.set(E.userId,A)}),oe.forEach(m,(E,b)=>{const A=new ii(b),N=bg.de(this.serializer,A),H=u.getIndexManager(A),te=Aw.de(A,this.serializer,H,u.referenceDelegate);return new mA(o,te,N,H).recalculateAndSaveOverlaysForDocumentKeys(new RE(t,si.ct),E).next()})})}}function S(n){n.createObjectStore("targetDocuments",{keyPath:vS}).createIndex("documentTargetsIndex",_S,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",GD,{unique:!0}),n.createObjectStore("targetGlobal")}const R="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class F{constructor(e,t,r,o,u,l,m,E,b,A,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=b,this.oi=A,this.ui=N,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=H=>Promise.resolve(),!F.D())throw new Fe(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lA(this,o),this.di=t+"main",this.serializer=new nA(E),this.wi=new Ko(this.di,this.ui,new D(this.serializer)),this.Bs=new xw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fA(this.serializer),this.qs=new iA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===A&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ce.FAILED_PRECONDITION,R);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new si(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,we.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Q(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Mu(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return W(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return Q(e).delete(this.clientId)}bi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ai(r,"clientMetadata");return o.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(E=>-1===l.indexOf(E));return oe.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):W(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(ce.FAILED_PRECONDITION,R);return!1}}return!(!this.networkEnabled||!this.inForeground)||Q(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new RE(t,si.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Q(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Aw.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new uA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return bg.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?bS:14===l?YD:13===l?ZD:12===l?CS:11===l?KD:void ut();var l;let m;return this.wi.runTransaction(e,o,u,E=>(m=new RE(E,this.Os?this.Os.next():si.ct),"readwrite-primary"===t?this.Ti(m).next(b=>!!b||this.Ei(m)).next(b=>{if(!b)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Fe(ce.FAILED_PRECONDITION,CE);return r(m)}).next(b=>this.vi(m).next(()=>b)):this.Oi(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Oi(e){return W(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ce.FAILED_PRECONDITION,R)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return W(e).put("owner",t)}static D(){return Ko.D()}Ai(e){const t=W(e);return t.get("owner").next(r=>this.Ri(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,hn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function W(n){return ai(n,"owner")}function Q(n){return ai(n,"clientMetadata")}function De(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ue{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=zt(),o=zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ue(e,t.fromCache,r,o)}}class Je{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(uC(t))return oe.resolve(null);let r=Qi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=uf(t,null,"F"),r=Qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=zt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(E=>{const b=this.ji(t,m);return this.zi(t,b,l,E.readTime)?this.Ki(e,uf(t,null,"F")):this.Wi(e,b,t,E)}))})))}Gi(e,t,r,o){return uC(t)||o.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(xD()<=Go.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lf(t)),this.Wi(e,l,t,FD(o,-1)))})}ji(e,t){let r=new Fn(WE(e));return t.forEach((o,u)=>{od(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return xD()<=Go.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",lf(t)),this.Ui.getDocumentsMatchingQuery(e,t,qs.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class vt{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new kn(Lt),this.Yi=new $a(u=>yr(u),Ua),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function xe(n,e,t,r){return new vt(n,e,t,r)}function Vt(n,e){return qt.apply(this,arguments)}function qt(){return qt=(0,we.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let E=zt();for(const b of o){l.push(b.batchId);for(const A of b.mutations)E=E.add(A.key)}for(const b of u){m.push(b.batchId);for(const A of b.mutations)E=E.add(A.key)}return t.localDocuments.getDocuments(r,E).next(b=>({er:b,removedBatchIds:l,addedBatchIds:m}))})})}),qt.apply(this,arguments)}function Ei(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function LC(n,e,t){let r=zt(),o=zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=vs();return t.forEach((m,E)=>{const b=u.get(m);E.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(m)),E.isNoDocument()&&E.version.isEqual(It.min())?(e.removeEntry(m,E.readTime),l=l.insert(m,E)):!b.isValidDocument()||E.version.compareTo(b.version)>0||0===E.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(E),l=l.insert(m,E)):je("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",E.version)}),{nr:l,sr:o}})}function yA(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gv(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,oe.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new kc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function mv(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,we.Z)(function*(n,e,t){const r=et(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Mu(l))throw l;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),vA.apply(this,arguments)}function VC(n,e,t){const r=et(n);let o=It.min(),u=zt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,E,b){const A=et(m),N=A.Yi.get(b);return void 0!==N?oe.resolve(A.Ji.get(N)):A.Bs.getTargetData(E,b)}(r,l,Qi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(E=>{u=E})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:It.min(),t?u:zt())).next(m=>(SR(r,kS(e),m),{documents:m,ir:u})))}function bR(n,e){const t=et(n),r=et(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function TR(n,e){const t=et(n),r=t.Xi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,FD(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(SR(t,e,o),o))}function SR(n,e,t){let r=n.Xi.get(e)||It.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function _A(){return _A=(0,we.Z)(function*(n,e,t,r){const o=et(n);let u=zt(),l=vs();for(const b of t){const A=e.rr(b.metadata.name);b.document&&(u=u.add(A));const N=e.ur(b);N.setReadTime(e.cr(b.metadata.readTime)),l=l.insert(A,N)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),E=yield gv(o,(b=r,Qi(ja(an.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>LC(b,m,l).next(A=>(m.apply(b),A)).next(A=>o.Bs.removeMatchingKeysForTargetId(b,E.targetId).next(()=>o.Bs.addMatchingKeys(b,u,E.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,A.nr,A.sr)).next(()=>A.nr)))}),_A.apply(this,arguments)}function YO(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,we.Z)(function*(n,e,t=zt()){const r=yield gv(n,Qi(TC(e.bundledQuery))),o=et(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=Nr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(u,e);const m=r.withResumeToken(Gr.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(u,m).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),EA.apply(this,arguments)}function AR(n,e){return`firestore_clients_${n}_${e}`}function MR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wA(n,e){return`firestore_targets_${n}_${e}`}class UC{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new Fe(o.error.code,o.error.message))),l?new UC(e,t,o.state,u):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Fe(r.error.code,r.error.message))),u?new Pw(e,r.state,o):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=KE();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=yS(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new BC(e,u):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class IA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new IA(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class DA{constructor(){this.activeTargetIds=KE()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CA{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new kn(Lt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=AR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new DA),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(AR(e.persistenceKey,o));if(u){const l=BC.ar(o,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wA(this.persistenceKey,e));if(r){const o=Pw.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let l=si.ct;if(null!=u)try{const m=JSON.parse(u);yt("number"==typeof m),l=m}catch(m){ar("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);o!==si.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new UC(this.currentUser,e,t,r),u=MR(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=MR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=wA(this.persistenceKey,e),u=new Pw(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return BC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return UC.ar(new ii(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Pw.ar(o,t)}br(e){return IA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(E=>{o.has(E)||l.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=KE();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class xR{constructor(){this.Hr=new DA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new DA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QO{Yr(e){}shutdown(){}}class RR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jC=null;function bA(){return null===jC?jC=268435456+Math.round(2147483648*Math.random()):jC++,"0x"+jC.toString(16)}const XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const _s="WebChannelConnection";class eP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=bA(),m=this.To(e,t);je("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const E={};return this.Eo(E,o,u),this.Ao(e,m,E,r).then(b=>(je("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw Zi("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+tf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${XO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=bA();return new Promise((l,m)=>{const E=new AD;E.setWithCredentials(!0),E.listenOnce(sg.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Xl.NO_ERROR:const A=E.getResponseJson();je(_s,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),l(A);break;case Xl.TIMEOUT:je(_s,`RPC '${e}' ${u} timed out`),m(new Fe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const N=E.getStatus();if(je(_s,`RPC '${e}' ${u} failed with status:`,N,"response text:",E.getResponseText()),N>0){let H=E.getResponseJson();Array.isArray(H)&&(H=H[0]);const te=H?.error;if(te&&te.status&&te.message){const Ee=function(Te){const Pe=Te.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Pe)>=0?Pe:ce.UNKNOWN}(te.status);m(new Fe(Ee,te.message))}else m(new Fe(ce.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Fe(ce.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{je(_s,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);je(_s,`RPC '${e}' ${u} sending request:`,o),E.send(t,"POST",b,r,15)})}Ro(e,t,r){const o=bA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=TD(),m=oS(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(E.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(E.xmlHttpFactory=new uS({})),this.Eo(E.initMessageHeaders,t,r),E.encodeInitMessageHeaders=!0;const A=u.join("");je(_s,`Creating RPC '${e}' stream ${o}: ${A}`,E);const N=l.createWebChannel(A,E);let H=!1,te=!1;const Ee=new JO({ro:Pe=>{te?je(_s,`Not sending because RPC '${e}' stream ${o} is closed:`,Pe):(H||(je(_s,`Opening RPC '${e}' stream ${o} transport.`),N.open(),H=!0),je(_s,`RPC '${e}' stream ${o} sending:`,Pe),N.send(Pe))},oo:()=>N.close()}),Te=(Pe,lt,At)=>{Pe.listen(lt,ot=>{try{At(ot)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return Te(N,og.EventType.OPEN,()=>{te||je(_s,`RPC '${e}' stream ${o} transport opened.`)}),Te(N,og.EventType.CLOSE,()=>{te||(te=!0,je(_s,`RPC '${e}' stream ${o} transport closed`),Ee.wo())}),Te(N,og.EventType.ERROR,Pe=>{te||(te=!0,Zi(_s,`RPC '${e}' stream ${o} transport errored:`,Pe),Ee.wo(new Fe(ce.UNAVAILABLE,"The operation could not be completed")))}),Te(N,og.EventType.MESSAGE,Pe=>{var lt;if(!te){const At=Pe.data[0];yt(!!At);const Mt=At.error||(null===(lt=At[0])||void 0===lt?void 0:lt.error);if(Mt){je(_s,`RPC '${e}' stream ${o} received error:`,Mt);const jt=Mt.status;let en=function(Fg){const WO=vr[Fg];if(void 0!==WO)return Eo(WO)}(jt),Es=Mt.message;void 0===en&&(en=ce.INTERNAL,Es="Unknown error status: "+jt+" with message "+Mt.message),te=!0,Ee.wo(new Fe(en,Es)),N.close()}else je(_s,`RPC '${e}' stream ${o} received:`,At),Ee._o(At)}}),Te(m,aS.STAT_EVENT,Pe=>{Pe.stat===SD.PROXY?je(_s,`RPC '${e}' stream ${o} detected buffering proxy`):Pe.stat===SD.NOPROXY&&je(_s,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Ee.fo()},0),Ee}}function NR(){return typeof window<"u"?window:null}function $C(){return typeof document<"u"?document:null}function kw(n){return new Oc(n,!0)}class TA{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class OR{constructor(e,t,r,o,u,l,m,E){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new TA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,we.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,we.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Fe(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,we.Z)(function*(){e.state=0,e.start()}))}tu(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tP extends OR{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function mw(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:ut(),o=e.targetChange.targetIds||[],u=function(E,b){return E.useProto3Json?(yt(void 0===b||"string"==typeof b),Gr.fromBase64String(b||"")):(yt(void 0===b||b instanceof Uint8Array),Gr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(E){const b=void 0===E.code?ce.UNKNOWN:Eo(E.code);return new Fe(b,E.message||"")}(l);t=new uw(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=za(n,r.document.name),u=Nr(r.document.updateTime),l=r.document.createTime?Nr(r.document.createTime):It.min(),m=new ui({mapValue:{fields:r.document.fields}}),E=Ln.newFoundDocument(o,u,l,m);t=new Ig(r.targetIds||[],r.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const r=e.documentDelete,o=za(n,r.document),u=r.readTime?Nr(r.readTime):It.min(),l=Ln.newNoDocument(o,u);t=new Ig([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=za(n,r.document);t=new Ig([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ut();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new WS(o,u);t=new mC(r.targetId,l)}}var E;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return It.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?Nr(u.readTime):It.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Jy(this.serializer),t.addTarget=function(o,u){let l;const m=u.target;if(l=Uy(m)?{documents:yw(o,m)}:{query:tv(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=Qy(o,u.resumeToken);const E=Yy(o,u.expectedCount);null!==E&&(l.expectedCount=E)}else if(u.snapshotVersion.compareTo(It.min())>0){l.readTime=Pc(o,u.snapshotVersion.toTimestamp());const E=Yy(o,u.expectedCount);null!==E&&(l.expectedCount=E)}return l}(this.serializer,e);const r=function nv(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Jy(this.serializer),t.removeTarget=e,this.Wo(t)}}class nP extends OR{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function QS(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(r,o){let u=Nr(r.updateTime?r.updateTime:o);return u.isEqual(It.min())&&(u=Nr(o)),new pR(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.cu(r,t)}return yt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Jy(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gf(this.serializer,r))};this.Wo(t)}}class rP extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Fe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(ce.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Fe(ce.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class sP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(t),this.mu=!1):je("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class oP{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,we.Z)(function*(){var E;Df(l)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,we.Z)(function*(b){const A=et(b);A.vu.add(4),yield yv(A),A.bu.set("Unknown"),A.vu.delete(4),yield Fw(A)}),function(b){return E.apply(this,arguments)})(l))}))}),this.bu=new sP(r,o)}}function Fw(n){return AA.apply(this,arguments)}function AA(){return AA=(0,we.Z)(function*(n){if(Df(n))for(const e of n.Ru)yield e(!0)}),AA.apply(this,arguments)}function yv(n){return MA.apply(this,arguments)}function MA(){return MA=(0,we.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),MA.apply(this,arguments)}function HC(n,e){const t=et(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),NA(t)?RA(t):_v(t).Ko()&&xA(t,e))}function Lw(n,e){const t=et(n),r=_v(t);t.Au.delete(e),r.Ko()&&PR(t,e),0===t.Au.size&&(r.Ko()?r.jo():Df(t)&&t.bu.set("Unknown"))}function xA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_v(n).su(e)}function PR(n,e){n.Vu.qt(e),_v(n).iu(e)}function RA(n){n.Vu=new yC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),_v(n).start(),n.bu.gu()}function NA(n){return Df(n)&&!_v(n).Uo()&&n.Au.size>0}function Df(n){return 0===et(n).vu.size}function kR(n){n.Vu=void 0}function aP(n){return OA.apply(this,arguments)}function OA(){return OA=(0,we.Z)(function*(n){n.Au.forEach((e,t)=>{xA(n,e)})}),OA.apply(this,arguments)}function uP(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n,e){kR(n),NA(n)?(n.bu.Iu(e),RA(n)):n.bu.set("Unknown")}),PA.apply(this,arguments)}function cP(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,we.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof uw&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zC(n,r)}else if(e instanceof Ig?n.Vu.Ht(e):e instanceof mC?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const r=yield Ei(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.Au.get(E);b&&o.Au.set(E,b.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,E)=>{const b=o.Au.get(m);if(!b)return;o.Au.set(m,b.withResumeToken(Gr.EMPTY_BYTE_STRING,b.snapshotVersion)),PR(o,m);const A=new kc(b.target,m,E,b.sequenceNumber);xA(o,A)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield zC(n,r)}var r}),kA.apply(this,arguments)}function zC(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,we.Z)(function*(n,e,t){if(!Mu(e))throw e;n.vu.add(1),yield yv(n),n.bu.set("Offline"),t||(t=()=>Ei(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Fw(n)}))}),FA.apply(this,arguments)}function FR(n,e){return e().catch(t=>zC(n,t,e))}function vv(n){return LA.apply(this,arguments)}function LA(){return LA=(0,we.Z)(function*(n){const e=et(n),t=Cf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;lP(e);)try{const o=yield yA(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,dP(e,o)}catch(o){yield zC(e,o)}LR(e)&&VR(e)}),LA.apply(this,arguments)}function lP(n){return Df(n)&&n.Eu.length<10}function dP(n,e){n.Eu.push(e);const t=Cf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function LR(n){return Df(n)&&!Cf(n).Uo()&&n.Eu.length>0}function VR(n){Cf(n).start()}function hP(n){return VA.apply(this,arguments)}function VA(){return VA=(0,we.Z)(function*(n){Cf(n).hu()}),VA.apply(this,arguments)}function fP(n){return UA.apply(this,arguments)}function UA(){return UA=(0,we.Z)(function*(n){const e=Cf(n);for(const t of n.Eu)e.uu(t.mutations)}),UA.apply(this,arguments)}function pP(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,we.Z)(function*(n,e,t){const r=n.Eu.shift(),o=sw.from(r,e,t);yield FR(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield vv(n)}),BA.apply(this,arguments)}function gP(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n,e){var t;e&&Cf(n).ou&&(yield(t=(0,we.Z)(function*(r,o){if(qS(u=o.code)&&u!==ce.ABORTED){const l=r.Eu.shift();Cf(r).Qo(),yield FR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield vv(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),LR(n)&&VR(n)}),jA.apply(this,arguments)}function UR(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,we.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Df(t);t.vu.add(3),yield yv(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Fw(t)}),$A.apply(this,arguments)}function HA(n,e){return zA.apply(this,arguments)}function zA(){return zA=(0,we.Z)(function*(n,e){const t=et(n);e?(t.vu.delete(2),yield Fw(t)):e||(t.vu.add(2),yield yv(t),t.bu.set("Unknown"))}),zA.apply(this,arguments)}function _v(n){return n.Su||(n.Su=function(e,t,r){const o=et(e);return o.fu(),new tP(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:aP.bind(null,n),ao:uP.bind(null,n),nu:cP.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Su.Qo(),NA(n)?RA(n):n.bu.set("Unknown")):(yield n.Su.stop(),kR(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Cf(n){return n.Du||(n.Du=function(e,t,r){const o=et(e);return o.fu(),new nP(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:hP.bind(null,n),ao:gP.bind(null,n),au:fP.bind(null,n),cu:pP.bind(null,n)}),n.Ru.push(function(){var e=(0,we.Z)(function*(t){t?(n.Du.Qo(),yield vv(n)):(yield n.Du.stop(),n.Eu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class GA{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new GA(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Mu(n))return new Fe(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class wv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=ad(),this.sortedSet=new kn(this.comparator)}static emptySet(e){return new wv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class BR{constructor(){this.Cu=new kn(Ye.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ut():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Iv{constructor(e,t,r,o,u,l,m,E,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=E,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new Iv(e,t,wv.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class mP{constructor(){this.Nu=void 0,this.listeners=[]}}class yP{constructor(){this.queries=new $a(e=>cC(e),cf),this.onlineState="Unknown",this.ku=new Set}}function WA(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,we.Z)(function*(n,e){const t=et(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new mP),o)try{u.Nu=yield t.onListen(r)}catch(l){const m=Ev(l,`Initialization of query '${lf(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&YA(t)}),qA.apply(this,arguments)}function KA(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,we.Z)(function*(n,e){const t=et(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),ZA.apply(this,arguments)}function vP(n,e){const t=et(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.$u(o)&&(r=!0);l.Nu=o}}r&&YA(t)}function _P(n,e,t){const r=et(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function YA(n){n.ku.forEach(e=>{e.next()})}class QA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Iv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Iv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class EP{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class jR{constructor(e){this.serializer=e}rr(e){return za(this.serializer,e)}ur(e){return e.metadata.exists?gw(this.serializer,e.document,!1):Ln.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Nr(e)}}class wP{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$R(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=an.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new jR(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const l of o.metadata.queries){const m=(t.get(l)||zt()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function ZO(n,e,t,r){return _A.apply(this,arguments)}(e.localStore,new jR(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield YO(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $R(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class HR{constructor(e){this.key=e}}class zR{constructor(e){this.key=e}}class GR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=zt(),this.mutatedKeys=zt(),this.tc=WE(e),this.ec=new wv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new BR,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const H=o.get(A),te=od(this.query,N)?N:null,Ee=!!H&&this.mutatedKeys.has(H.key),Te=!!te&&(te.hasLocalMutations||this.mutatedKeys.has(te.key)&&te.hasCommittedMutations);let Pe=!1;H&&te?H.data.isEqual(te.data)?Ee!==Te&&(r.track({type:3,doc:te}),Pe=!0):this.rc(H,te)||(r.track({type:2,doc:te}),Pe=!0,(E&&this.tc(te,E)>0||b&&this.tc(te,b)<0)&&(m=!0)):!H&&te?(r.track({type:0,doc:te}),Pe=!0):H&&!te&&(r.track({type:1,doc:H}),Pe=!0,(E||b)&&(m=!0)),Pe&&(te?(l=l.add(te),u=Te?u.add(A):u.delete(A)):(l=l.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const A="F"===this.query.limitType?l.last():l.first();l=l.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,A)=>function(N,H){const te=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return te(N)-te(H)}(b.type,A.type)||this.tc(b.doc,A.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,E=m!==this.Xu;return this.Xu=m,0!==u.length||E?{snapshot:new Iv(this.query,e.ec,o,u,e.mutatedKeys,0===m,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new BR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new zR(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new HR(r))}),t}hc(e){this.Yu=e.ir,this.Zu=zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Iv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class IP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DP{constructor(e){this.key=e,this.fc=!1}}class CP{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new $a(m=>cC(m),cf),this._c=new Map,this.mc=new Set,this.gc=new kn(Ye.comparator),this.yc=new Map,this.Ic=new Ow,this.Tc={},this.Ec=new Map,this.Ac=yd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bP(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,we.Z)(function*(n,e){const t=wM(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield gv(t.localStore,Qi(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield JA(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&HC(t.remoteStore,l)}return o}),XA.apply(this,arguments)}function JA(n,e,t,r,o){return eM.apply(this,arguments)}function eM(){return eM=(0,we.Z)(function*(n,e,t,r,o){n.Rc=(N,H,te)=>{return(Ee=(0,we.Z)(function*(Te,Pe,lt,At){let ot=Pe.view.sc(lt);ot.zi&&(ot=yield VC(Te.localStore,Pe.query,!1).then(({documents:en})=>Pe.view.sc(en,ot)));const Mt=At&&At.targetChanges.get(Pe.targetId),jt=Pe.view.applyChanges(ot,Te.isPrimaryClient,Mt);return lM(Te,Pe.targetId,jt.cc),jt.snapshot}),function(Te,Pe,lt,At){return Ee.apply(this,arguments)})(n,N,H,te);var Ee};const u=yield VC(n.localStore,e,!0),l=new GR(e,u.ir),m=l.sc(u.documents),E=pf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),b=l.applyChanges(m,n.isPrimaryClient,E);lM(n,t,b.cc);const A=new IP(e,t,l);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),eM.apply(this,arguments)}function TP(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,we.Z)(function*(n,e){const t=et(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!cf(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Lw(t.remoteStore,r.targetId),Dv(t,r.targetId)}).catch(Tc))):(Dv(t,r.targetId),yield mv(t.localStore,r.targetId,!0))}),tM.apply(this,arguments)}function nM(){return nM=(0,we.Z)(function*(n,e,t){const r=IM(n);try{const o=yield function(u,l){const m=et(u),E=Qn.now(),b=l.reduce((H,te)=>H.add(te.key),zt());let A,N;return m.persistence.runTransaction("Locally write mutations","readwrite",H=>{let te=vs(),Ee=zt();return m.Zi.getEntries(H,b).next(Te=>{te=Te,te.forEach((Pe,lt)=>{lt.isValidDocument()||(Ee=Ee.add(Pe))})}).next(()=>m.localDocuments.getOverlayedDocuments(H,te)).next(Te=>{A=Te;const Pe=[];for(const lt of l){const At=nw(lt,A.get(lt.key).overlayedDocument);null!=At&&Pe.push(new _o(lt.key,At,Fy(At.value.mapValue),Jn.exists(!0)))}return m.mutationQueue.addMutationBatch(H,E,Pe,l)}).next(Te=>{N=Te;const Pe=Te.applyToLocalDocumentSet(A,Ee);return m.documentOverlayCache.saveOverlays(H,Te.batchId,Pe)})}).then(()=>({batchId:N.batchId,changes:LS(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let E=u.Tc[u.currentUser.toKey()];E||(E=new kn(Lt)),E=E.insert(l,m),u.Tc[u.currentUser.toKey()]=E}(r,o.batchId,t),yield vd(r,o.changes),yield vv(r.remoteStore)}catch(o){const u=Ev(o,"Failed to persist write");t.reject(u)}}),nM.apply(this,arguments)}function WR(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,we.Z)(function*(n,e){const t=et(n);try{const r=yield function pv(n,e){const t=et(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((A,N)=>{const H=o.get(N);if(!H)return;m.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,N).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,N)));let te=H.withSequenceNumber(u.currentSequenceNumber);var Ee,Te,Pe;null!==e.targetMismatches.get(N)?te=te.withResumeToken(Gr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):A.resumeToken.approximateByteSize()>0&&(te=te.withResumeToken(A.resumeToken,r)),o=o.insert(N,te),Te=te,Pe=A,(0===(Ee=H).resumeToken.approximateByteSize()||Te.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,te))});let E=vs(),b=zt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(LC(u,l,e.documentUpdates).next(A=>{E=A.nr,b=A.sr})),!r.isEqual(It.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(N=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return oe.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,E,b)).next(()=>E)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?yt(l.fc):o.removedDocuments.size>0&&(yt(l.fc),l.fc=!1))}),yield vd(t,r,e)}catch(r){yield Tc(r)}}),rM.apply(this,arguments)}function qR(n,e,t){const r=et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=et(u);m.onlineState=l;let E=!1;m.queries.forEach((b,A)=>{for(const N of A.listeners)N.Mu(l)&&(E=!0)}),E&&YA(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AP(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,we.Z)(function*(n,e,t){const r=et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new kn(Ye.comparator);l=l.insert(u,Ln.newNoDocument(u,It.min()));const m=zt().add(u),E=new ld(It.min(),new Map,new kn(Lt),l,m);yield WR(r,E),r.gc=r.gc.remove(u),r.yc.delete(e),dM(r)}else yield mv(r.localStore,e,!1).then(()=>Dv(r,e,t)).catch(Tc)}),iM.apply(this,arguments)}function MP(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,we.Z)(function*(n,e){const t=et(n),r=e.batch.batchId;try{const o=yield function sn(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,E,b){const A=E.batch,N=A.keys();let H=oe.resolve();return N.forEach(te=>{H=H.next(()=>b.getEntry(m,te)).next(Ee=>{const Te=E.docVersions.get(te);yt(null!==Te),Ee.version.compareTo(Te)<0&&(A.applyToRemoteDocument(Ee,E),Ee.isValidDocument()&&(Ee.setReadTime(E.commitVersion),b.addEntry(Ee)))})}),H.next(()=>l.mutationQueue.removeMutationBatch(m,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=zt();for(let E=0;E<l.mutationResults.length;++E)l.mutationResults[E].transformResults.length>0&&(m=m.add(l.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);cM(t,r,null),uM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vd(t,o)}catch(o){yield Tc(o)}}),sM.apply(this,arguments)}function xP(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,we.Z)(function*(n,e,t){const r=et(n);try{const o=yield function(u,l){const m=et(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let b;return m.mutationQueue.lookupMutationBatch(E,l).next(A=>(yt(null!==A),b=A.keys(),m.mutationQueue.removeMutationBatch(E,A))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,b,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,b)).next(()=>m.localDocuments.getDocuments(E,b))})}(r.localStore,e);cM(r,e,t),uM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vd(r,o)}catch(o){yield Tc(o)}}),oM.apply(this,arguments)}function aM(){return aM=(0,we.Z)(function*(n,e){const t=et(n);Df(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=et(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Ev(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),aM.apply(this,arguments)}function uM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function cM(n,e,t){const r=et(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||KR(n,r)})}function KR(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Lw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),dM(n))}function lM(n,e,t){for(const r of t)r instanceof HR?(n.Ic.addReference(r.key,e),NP(n,r)):r instanceof zR?(je("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||KR(n,r.key)):ut()}function NP(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.mc.add(r),dM(n))}function dM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ye(an.fromString(e)),r=n.Ac.next();n.yc.set(r,new DP(t)),n.gc=n.gc.insert(t,r),HC(n.remoteStore,new kc(Qi(ja(t.path)),r,"TargetPurposeLimboResolution",si.ct))}}function vd(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,we.Z)(function*(n,e,t){const r=et(n),o=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,E)=>{l.push(r.Rc(E,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const A=Ue.Li(E.targetId,b);u.push(A)}}))}),yield Promise.all(l),r.dc.nu(o),yield(m=(0,we.Z)(function*(E,b){const A=et(E);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>oe.forEach(b,H=>oe.forEach(H.Fi,te=>A.persistence.referenceDelegate.addReference(N,H.targetId,te)).next(()=>oe.forEach(H.Bi,te=>A.persistence.referenceDelegate.removeReference(N,H.targetId,te)))))}catch(N){if(!Mu(N))throw N;je("LocalStore","Failed to update sequence numbers: "+N)}for(const N of b){const H=N.targetId;if(!N.fromCache){const te=A.Ji.get(H),Te=te.withLastLimboFreeSnapshotVersion(te.snapshotVersion);A.Ji=A.Ji.insert(H,Te)}}}),function(E,b){return m.apply(this,arguments)})(r.localStore,u))}),hM.apply(this,arguments)}function OP(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,we.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield Vt(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Fe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vd(t,r.er)}var o}),fM.apply(this,arguments)}function PP(n,e){const t=et(n),r=t.yc.get(e);if(r&&r.fc)return zt().add(r.key);{let o=zt();const u=t._c.get(e);if(!u)return o;for(const l of u){const m=t.wc.get(l);o=o.unionWith(m.view.nc)}return o}}function kP(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,we.Z)(function*(n,e){const t=et(n),r=yield VC(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&lM(t,e.targetId,o.cc),o}),pM.apply(this,arguments)}function FP(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,we.Z)(function*(n,e){const t=et(n);return TR(t.localStore,e).then(r=>vd(t,r))}),gM.apply(this,arguments)}function LP(n,e,t,r){return mM.apply(this,arguments)}function mM(){return mM=(0,we.Z)(function*(n,e,t,r){const o=et(n),u=yield function(l,m){const E=et(l),b=et(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",A=>b.Sn(A,m).next(N=>N?E.localDocuments.getDocuments(A,N):oe.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield vv(o.remoteStore):"acknowledged"===t||"rejected"===t?(cM(o,e,r||null),uM(o,e),m=e,et(et(o.localStore).mutationQueue).Cn(m)):ut(),yield vd(o,u)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),mM.apply(this,arguments)}function yM(){return yM=(0,we.Z)(function*(n,e){const t=et(n);if(wM(t),IM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield ZR(t,r.toArray());t.vc=!0,yield HA(t.remoteStore,!0);for(const u of o)HC(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(Dv(t,l),mv(t.localStore,l,!0))),Lw(t.remoteStore,l)}),yield o,yield ZR(t,r),function(u){const l=et(u);l.yc.forEach((m,E)=>{Lw(l.remoteStore,E)}),l.Ic.Ts(),l.yc=new Map,l.gc=new kn(Ye.comparator)}(t),t.vc=!1,yield HA(t.remoteStore,!1)}}),yM.apply(this,arguments)}function ZR(n,e,t){return vM.apply(this,arguments)}function vM(){return vM=(0,we.Z)(function*(n,e,t){const r=et(n),o=[],u=[];for(const l of e){let m;const E=r._c.get(l);if(E&&0!==E.length){m=yield gv(r.localStore,Qi(E[0]));for(const b of E){const A=r.wc.get(b),N=yield kP(r,A);N.snapshot&&u.push(N.snapshot)}}else{const b=yield bR(r.localStore,l);m=yield gv(r.localStore,b),yield JA(r,YR(b),l,!1,m.resumeToken)}o.push(m)}return r.dc.nu(u),o}),vM.apply(this,arguments)}function YR(n){return jy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function UP(n){const e=et(n);return et(et(e.localStore).persistence).$i()}function BP(n,e,t,r){return _M.apply(this,arguments)}function _M(){return _M=(0,we.Z)(function*(n,e,t,r){const o=et(n);if(o.vc)return void je("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield TR(o.localStore,kS(u[0])),m=ld.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Gr.EMPTY_BYTE_STRING);yield vd(o,l,m);break}case"rejected":yield mv(o.localStore,e,!0),Dv(o,e,r);break;default:ut()}}),_M.apply(this,arguments)}function jP(n,e,t){return EM.apply(this,arguments)}function EM(){return EM=(0,we.Z)(function*(n,e,t){const r=wM(n);if(r.vc){for(const o of e){if(r._c.has(o)){je("SyncEngine","Adding an already active target "+o);continue}const u=yield bR(r.localStore,o),l=yield gv(r.localStore,u);yield JA(r,YR(u),l.targetId,!1,l.resumeToken),HC(r.remoteStore,l)}for(const o of t)r._c.has(o)&&(yield mv(r.localStore,o,!1).then(()=>{Lw(r.remoteStore,o),Dv(r,o)}).catch(Tc))}}),EM.apply(this,arguments)}function wM(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AP.bind(null,e),e.dc.nu=vP.bind(null,e.eventManager),e.dc.Pc=_P.bind(null,e.eventManager),e}function IM(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xP.bind(null,e),e}class Vw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.serializer=kw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return xe(this.persistence,new Je,e.initialUser,this.serializer)}createPersistence(e){return new d(y.zs,this.serializer)}createSharedClientState(e){return new xR}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class DM extends Vw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield IM(r.Vc.syncEngine),yield vv(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return xe(this.persistence,new Je,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new kC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new BD(t,this.persistence);return new mS(e.asyncQueue,r)}createPersistence(e){const t=De(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new F(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,NR(),$C(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xR}}class QR extends DM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof CA&&(r.sharedClientState.syncEngine={jr:LP.bind(null,o),zr:BP.bind(null,o),Wr:jP.bind(null,o),$i:UP.bind(null,o),Qr:FP.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,we.Z)(function*(l){yield function VP(n,e){return yM.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=NR();if(!CA.D(t))throw new Fe(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=De(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new CA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cv{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>qR(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,r.syncEngine),yield HA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new yP}createDatastore(e){const t=kw(e.databaseInfo.databaseId),r=new eP(e.databaseInfo);return new rP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>qR(this.syncEngine,m,0),l=RR.D()?new RR:new QO,new oP(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,E,b){const A=new CP(r,o,u,l,m,E);return b&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=et(t);je("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield yv(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function XR(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class GC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zP{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new zr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,we.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new EP(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,we.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class GP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,we.Z)(function*(u,l){const m=et(u),E=Jy(m.serializer)+"/documents",b={documents:l.map(te=>Dg(m.serializer,te))},A=yield m.vo("BatchGetDocuments",E,b,l.length),N=new Map;A.forEach(te=>{const Ee=function yR(n,e){return"found"in e?function(t,r){yt(!!r.found);const o=za(t,r.found.name),u=Nr(r.found.updateTime),l=r.found.createTime?Nr(r.found.createTime):It.min(),m=new ui({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(o,u,l,m)}(n,e):"missing"in e?function(t,r){yt(!!r.missing),yt(!!r.readTime);const o=za(t,r.missing),u=Nr(r.readTime);return Ln.newNoDocument(o,u)}(n,e):ut()}(m.serializer,te);N.set(Ee.key.toString(),Ee)});const H=[];return l.forEach(te=>{const Ee=N.get(te.toString());yt(!!Ee),H.push(Ee)}),H}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Ye.fromPath(o);e.mutations.push(new Wy(u,e.precondition(u)))}),yield(r=(0,we.Z)(function*(o,u){const l=et(o),m=Jy(l.serializer)+"/documents",E={writes:u.map(b=>gf(l.serializer,b))};yield l.Io("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?Jn.exists(!1):Jn.updateTime(t):Jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Fe(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jn.updateTime(t)}return Jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WP{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new TA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,we.Z)(function*(){const t=new GP(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qS(t)}return!1}}class qP{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ii.UNAUTHENTICATED,this.clientId=kD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,we.Z)(function*(m){je("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(je("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Ev(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function WC(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,we.Z)(function*(u){r.isEqual(u)||(yield Vt(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),CM.apply(this,arguments)}function bM(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SM(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>UR(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>UR(e.remoteStore,u)),n._onlineComponents=e}),TM.apply(this,arguments)}function JR(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function SM(n){return AM.apply(this,arguments)}function AM(){return AM=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield WC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!JR(t))throw t;Zi("Error using user provided cache. Falling back to memory cache: "+t),yield WC(n,new Vw)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield WC(n,new Vw);return n._offlineComponents}),AM.apply(this,arguments)}function qC(n){return MM.apply(this,arguments)}function MM(){return MM=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield bM(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield bM(n,new Cv))),n._onlineComponents}),MM.apply(this,arguments)}function eN(n){return SM(n).then(e=>e.persistence)}function KC(n){return SM(n).then(e=>e.localStore)}function tN(n){return qC(n).then(e=>e.remoteStore)}function xM(n){return qC(n).then(e=>e.syncEngine)}function bv(n){return RM.apply(this,arguments)}function RM(){return RM=(0,we.Z)(function*(n){const e=yield qC(n),t=e.eventManager;return t.onListen=bP.bind(null,e.syncEngine),t.onUnlisten=TP.bind(null,e.syncEngine),t}),RM.apply(this,arguments)}function rN(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(o,u,l,m,E){const b=new GC({next:N=>{u.enqueueAndForget(()=>KA(o,A));const H=N.docs.has(l);!H&&N.fromCache?E.reject(new Fe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&m&&"server"===m.source?E.reject(new Fe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(N)},error:N=>E.reject(N)}),A=new QA(ja(l.path),b,{includeMetadataChanges:!0,Ku:!0});return WA(o,A)}(yield bv(n),n.asyncQueue,e,t,r)})),r.promise}function iN(n,e,t={}){const r=new zr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(o,u,l,m,E){const b=new GC({next:N=>{u.enqueueAndForget(()=>KA(o,A)),N.fromCache&&"server"===m.source?E.reject(new Fe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(N)},error:N=>E.reject(N)}),A=new QA(l,b,{includeMetadataChanges:!0,Ku:!0});return WA(o,A)}(yield bv(n),n.asyncQueue,e,t,r)})),r.promise}function sN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const oN=new Map;function NM(n,e,t){if(!t)throw new Fe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aN(n,e,t,r){if(!0===e&&!0===r)throw new Fe(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uN(n){if(!Ye.isDocumentKey(n))throw new Fe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cN(n){if(Ye.isDocumentKey(n))throw new Fe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ZC(n);throw new Fe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lN(n,e){if(e<=0)throw new Fe(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Fe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uw{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new lS;switch(t.type){case"firstParty":return new ug(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oN.get(e);t&&(je("ComponentProvider","Removing Datastore"),oN.delete(e),t.terminate())}(this),Promise.resolve()}}class er{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class Ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Lc extends Ji{constructor(e,t,r){super(e,t,ja(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Ye(e))}withConverter(e){return new Lc(this.firestore,e,this._path)}}function fN(n,e,...t){if(n=(0,hn.m9)(n),NM("collection","path",e),n instanceof Uw){const r=an.fromString(e,...t);return cN(r),new Lc(n,null,r)}{if(!(n instanceof er||n instanceof Lc))throw new Fe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return cN(r),new Lc(n.firestore,null,r)}}function YC(n,e,...t){if(n=(0,hn.m9)(n),1===arguments.length&&(e=kD.A()),NM("doc","path",e),n instanceof Uw){const r=an.fromString(e,...t);return uN(r),new er(n,null,new Ye(r))}{if(!(n instanceof er||n instanceof Lc))throw new Fe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return uN(r),new er(n.firestore,n instanceof Lc?n.converter:null,new Ye(r))}}function pN(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),(n instanceof er||n instanceof Lc)&&(e instanceof er||e instanceof Lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function OM(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),n instanceof Ji&&e instanceof Ji&&n.firestore===e.firestore&&cf(n._query,e._query)&&n.converter===e.converter}class r1{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new TA(this,"async_queue_retry"),this.Xc=()=>{const t=$C();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=$C();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=$C();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new zr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,we.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Mu(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=GA.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&ut()}verifyOperationInProgress(){}sa(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function PM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class i1{constructor(){this._progressObserver={},this._taskCompletionResolver=new zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends Uw{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new r1,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gN(this),this._firestoreClient.terminate()}}function Wr(n){return n._firestoreClient||gN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gN(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new SS(n._databaseId,m,n._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,sN(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new qP(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function mN(n,e,t){const r=new zr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield WC(n,t),yield bM(n,e),r.resolve()}catch(o){const u=o;if(!JR(u))throw u;Zi("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function yN(n){if(n._initialized||n._terminated)throw new Fe(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vc(Gr.fromBase64String(e))}catch(t){throw new Fe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vc(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _d{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ag{constructor(e){this._methodName=e}}class QC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const g1=/^__.*__$/;class m1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _o(e,this.data,this.fieldMask,t,this.fieldTransforms):new ff(e,this.data,t,this.fieldTransforms)}}class vN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _N(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class XC{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new XC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return tb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_N(this.ca)&&g1.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class y1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kw(e)}ya(e,t,r,o=!1){return new XC({ca:e,methodName:t,ga:r,path:ur.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mg(n){const e=n._freezeSettings(),t=kw(n._databaseId);return new y1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JC(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);VM("Data must be an object, but it was:",l,r);const m=IN(r,l);let E,b;if(u.merge)E=new Yi(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const A=[];for(const N of u.mergeFields){const H=$w(e,N,t);if(!l.contains(H))throw new Fe(ce.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);CN(A,H)||A.push(H)}E=new Yi(A),b=l.fieldTransforms.filter(N=>E.covers(N.field))}else E=null,b=l.fieldTransforms;return new m1(new ui(m),E,b)}class jw extends Ag{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jw}}function EN(n,e,t){return new XC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kM extends Ag{_toFieldTransform(e){return new Gy(e.path,new ud)}isEqual(e){return e instanceof kM}}class v1 extends Ag{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=EN(this,e,!0),r=this.pa.map(u=>xg(u,t)),o=new Nc(r);return new Gy(e.path,o)}isEqual(e){return this===e}}class _1 extends Ag{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=EN(this,e,!0),r=this.pa.map(u=>xg(u,t)),o=new cd(r);return new Gy(e.path,o)}isEqual(e){return this===e}}class E1 extends Ag{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new _g(e.serializer,dC(e.serializer,this.Ia));return new Gy(e.path,t)}isEqual(e){return this===e}}function FM(n,e,t,r){const o=n.ya(1,e,t);VM("Data must be an object, but it was:",o,r);const u=[],l=ui.empty();Sc(r,(E,b)=>{const A=eb(e,E,t);b=(0,hn.m9)(b);const N=o.da(A);if(b instanceof jw)u.push(A);else{const H=xg(b,N);null!=H&&(u.push(A),l.set(A,H))}});const m=new Yi(u);return new vN(l,m,o.fieldTransforms)}function LM(n,e,t,r,o,u){const l=n.ya(1,e,t),m=[$w(e,r,t)],E=[o];if(u.length%2!=0)throw new Fe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push($w(e,u[H])),E.push(u[H+1]);const b=[],A=ui.empty();for(let H=m.length-1;H>=0;--H)if(!CN(b,m[H])){const te=m[H];let Ee=E[H];Ee=(0,hn.m9)(Ee);const Te=l.da(te);if(Ee instanceof jw)b.push(te);else{const Pe=xg(Ee,Te);null!=Pe&&(b.push(te),A.set(te,Pe))}}const N=new Yi(b);return new vN(A,N,l.fieldTransforms)}function wN(n,e,t,r=!1){return xg(t,n.ya(r?4:3,e))}function xg(n,e){if(DN(n=(0,hn.m9)(n)))return VM("Unsupported field value:",e,n),IN(n,e);if(n instanceof Ag)return function(t,r){if(!_N(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=xg(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,hn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dC(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Qn.fromDate(t);return{timestampValue:Pc(r.serializer,o)}}if(t instanceof Qn){const o=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pc(r.serializer,o)}}if(t instanceof QC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vc)return{bytesValue:Qy(r.serializer,t._byteString)};if(t instanceof er){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Xy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${ZC(t)}`)}(n,e)}function IN(n,e){const t={};return XD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,o)=>{const u=xg(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function DN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof QC||n instanceof Vc||n instanceof er||n instanceof Ag)}function VM(n,e,t){if(!DN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ZC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function $w(n,e,t){if((e=(0,hn.m9)(e))instanceof _d)return e._internalPath;if("string"==typeof e)return eb(n,e);throw tb("Field path arguments must be of type string or ",n,!1,void 0,t)}const w1=new RegExp("[~\\*/\\[\\]]");function eb(n,e,t){if(e.search(w1)>=0)throw tb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _d(...e.split("."))._internalPath}catch{throw tb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tb(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||l)&&(E+=" (found",u&&(E+=` in field ${r}`),l&&(E+=` in document ${o}`),E+=")"),new Fe(ce.INVALID_ARGUMENT,m+n+E)}function CN(n,e){return n.some(t=>t.isEqual(e))}class Hw{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new I1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class I1 extends Hw{data(){return super.data()}}function nb(n,e){return"string"==typeof e?eb(n,e):e instanceof _d?e._internalPath:e._delegate._internalPath}function bN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UM{}class zw extends UM{}function bf(n,e,...t){let r=[];e instanceof UM&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof Tv).length,l=o.filter(m=>m instanceof Gw).length;if(u>1||u>0&&l>0)throw new Fe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Gw extends zw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gw(e,t,r)}_apply(e){const t=this._parse(e);return MN(e._query,t),new Ji(e.firestore,e.converter,GE(e._query,t))}_parse(e){const t=Mg(e.firestore);return function(o,u,l,m,E,b,A){let N;if(E.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Fe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){AN(A,b);const H=[];for(const te of A)H.push(SN(m,o,te));N={arrayValue:{values:H}}}else N=SN(m,o,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||AN(A,b),N=wN(l,"where",A,"in"===b||"not-in"===b);return Yt.create(E,b,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Tv extends UM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const m of l)MN(u,m),u=GE(u,m)}(e._query,t),new Ji(e.firestore,e.converter,GE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BM extends zw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BM(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Fe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new af(o,u);return function(m,E){if(null===yg(m)){const b=$y(m);null!==b&&xN(0,b,E.field)}}(r,l),l}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Ba(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rb extends zw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new rb(e,t,r)}_apply(e){return new Ji(e.firestore,e.converter,uf(e._query,this._limit,this._limitType))}}class ib extends zw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ib(e,t,r)}_apply(e){const t=TN(e,this.type,this._docOrFields,this._inclusive);return new Ji(e.firestore,e.converter,(o=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class sb extends zw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new sb(e,t,r)}_apply(e){const t=TN(e,this.type,this._docOrFields,this._inclusive);return new Ji(e.firestore,e.converter,(o=t,new Ba((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function TN(n,e,t,r){if(t[0]=(0,hn.m9)(t[0]),t[0]instanceof Hw)return function(o,u,l,m,E){if(!m)throw new Fe(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const A of sd(o))if(A.field.isKeyField())b.push(id(u,m.key));else{const N=m.data.field(A.field);if(My(N))throw new Fe(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const H=A.field.canonicalString();throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}b.push(N)}return new xc(b,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Mg(n.firestore);return function(u,l,m,E,b,A){const N=u.explicitOrderBy;if(b.length>N.length)throw new Fe(ce.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let te=0;te<b.length;te++){const Ee=b[te];if(N[te].field.isKeyField()){if("string"!=typeof Ee)throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ee}`);if(!Hy(u)&&-1!==Ee.indexOf("/"))throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ee}' contains a slash.`);const Te=u.path.child(an.fromString(Ee));if(!Ye.isDocumentKey(Te))throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Te}' is not because it contains an odd number of segments.`);const Pe=new Ye(Te);H.push(id(l,Pe))}else{const Te=wN(m,E,Ee);H.push(Te)}}return new xc(H,A)}(n._query,n.firestore._databaseId,o,e,t,r)}}function SN(n,e,t){if("string"==typeof(t=(0,hn.m9)(t))){if(""===t)throw new Fe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hy(e)&&-1!==t.indexOf("/"))throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!Ye.isDocumentKey(r))throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return id(n,new Ye(r))}if(t instanceof er)return id(n,t._key);throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ZC(t)}.`)}function AN(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MN(n,e){if(e.isInequality()){const r=$y(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=yg(n);null!==u&&xN(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xN(n,e,t){if(!t.isEqual(e))throw new Fe(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class jM{convertValue(e,t="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sc(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new QC(cr(e.latitude),cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const t=Ac(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);yt(tA(r));const o=new La(r.get(1),r.get(3)),u=new Ye(r.popFirst(5));return o.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function ob(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class R1 extends jM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}class Rg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ed extends Hw{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ww extends Ed{data(e={}){return super.data(e)}}class Tf{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Rg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ww(this._firestore,this._userDataWriter,r.key,r,new Rg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Ww(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Rg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new Ww(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Rg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,b=-1;return 0!==l.type&&(E=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:O1(l.type),doc:m,oldIndex:E,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function NN(n,e){return n instanceof Ed&&e instanceof Ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Tf&&e instanceof Tf&&n._firestore===e._firestore&&OM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Sf extends jM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function ON(n,e,t){n=un(n,er);const r=un(n.firestore,tr),o=ob(n.converter,e,t);return Sv(r,[JC(Mg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Jn.none())])}function PN(n,e,t,...r){n=un(n,er);const o=un(n.firestore,tr),u=Mg(o);let l;return l="string"==typeof(e=(0,hn.m9)(e))||e instanceof _d?LM(u,"updateDoc",n._key,e,t,r):FM(u,"updateDoc",n._key,e),Sv(o,[l.toMutation(n._key,Jn.exists(!0))])}function kN(n,...e){var t,r,o;n=(0,hn.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||PM(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(PM(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[l+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let E,b,A;if(n instanceof er)b=un(n.firestore,tr),A=ja(n._key.path),E={next:N=>{e[l]&&e[l]($M(b,n,N))},error:e[l+1],complete:e[l+2]};else{const N=un(n,Ji);b=un(N.firestore,tr),A=N._query;const H=new Sf(b);E={next:te=>{e[l]&&e[l](new Tf(b,H,N,te))},error:e[l+1],complete:e[l+2]},bN(n._query)}return function(N,H,te,Ee){const Te=new GC(Ee),Pe=new QA(H,Te,te);return N.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return WA(yield bv(N),Pe)})),()=>{Te.Dc(),N.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return KA(yield bv(N),Pe)}))}}(Wr(b),A,m,E)}function Sv(n,e){return function(t,r){const o=new zr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function SP(n,e,t){return nM.apply(this,arguments)}(yield xM(t),r,o)})),o.promise}(Wr(n),e)}function $M(n,e,t){const r=t.docs.get(e._key),o=new Sf(n);return new Ed(n,o,e._key,r,new Rg(t.hasPendingWrites,t.fromCache),e.converter)}const Q1={maxAttempts:5};class FN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mg(e)}set(e,t,r){this._verifyNotCommitted();const o=Af(e,this._firestore),u=ob(o.converter,t,r),l=JC(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,Jn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Af(e,this._firestore);let l;return l="string"==typeof(t=(0,hn.m9)(t))||t instanceof _d?LM(this._dataReader,"WriteBatch.update",u._key,t,r,o):FM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Af(e,this._firestore);return this._mutations=this._mutations.concat(new Eg(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(n,e){if((n=(0,hn.m9)(n)).firestore!==e)throw new Fe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class X1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Mg(e)}get(e){const t=Af(e,this._firestore),r=new R1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ut();const u=o[0];if(u.isFoundDocument())return new Hw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Hw(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const o=Af(e,this._firestore),u=ob(o.converter,t,r),l=JC(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=Af(e,this._firestore);let l;return l="string"==typeof(t=(0,hn.m9)(t))||t instanceof _d?LM(this._dataReader,"Transaction.update",u._key,t,r,o):FM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Af(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Af(e,this._firestore),r=new Sf(this._firestore);return super.get(e).then(o=>new Ed(this._firestore,r,t._key,o._document,new Rg(!1,!1),t.converter))}}function HM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function VN(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function UN(){if(!function TS(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){tf=Op.SDK_VERSION,(0,Op._registerComponent)(new x_.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new tr(new dS(t.getProvider("auth-internal")),new OD(t.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Fe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(m.options.projectId,E)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,Op.registerVersion)(IE,"3.13.0",n),(0,Op.registerVersion)(IE,"3.13.0","esm2017")}();class qw{constructor(e){this._delegate=e}static fromBase64String(e){return UN(),new qw(Vc.fromBase64String(e))}static fromUint8Array(e){return VN(),new qw(Vc.fromUint8Array(e))}toBase64(){return UN(),this._delegate.toBase64()}toUint8Array(){return VN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zM(n){return function ak(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class uk{enableIndexedDbPersistence(e,t){return function o1(n,e){yN(n=un(n,tr));const t=Wr(n);if(t._uninitializedComponentsProvider)throw new Fe(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Zi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new Cv;return mN(t,o,new DM(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function a1(n){yN(n=un(n,tr));const e=Wr(n);if(e._uninitializedComponentsProvider)throw new Fe(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Zi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Cv;return mN(e,r,new QR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function u1(n){if(n._initialized&&!n._terminated)throw new Fe(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!Ko.D())return Promise.resolve();const o=r+"main";yield Ko.delete(o)}),function(r){return t.apply(this,arguments)})(De(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class BN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof La||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function hN(n,e,t,r={}){var o;const u=(n=un(n,Uw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,E;if("string"==typeof r.mockUserToken)m=r.mockUserToken,E=ii.MOCK_USER;else{m=(0,hn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Fe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ii(b)}n._authCredentials=new RD(new cS(m,E))}}(this._delegate,e,t,r)}enableNetwork(){return function l1(n){return function KP(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield eN(n),t=yield tN(n);return e.setNetworkEnabled(!0),function(r){const o=et(r);return o.vu.delete(0),Fw(o)}(t)}))}(Wr(n=un(n,tr)))}(this._delegate)}disableNetwork(){return function d1(n){return function ZP(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield eN(n),t=yield tN(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(o){const u=et(o);u.vu.add(0),yield yv(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Wr(n=un(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function c1(n){return function(e){const t=new zr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function RP(n,e){return aM.apply(this,arguments)}(yield xM(e),t)})),t.promise}(Wr(n=un(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function $1(n,e){return function XP(n,e){const t=new GC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield bv(n),o=t,et(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield bv(n),o=t,void et(r).ku.delete(o);var r,o}))}}(Wr(n=un(n,tr)),PM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Av(this,fN(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wa(this,YC(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,function n1(n,e){if(n=un(n,Uw),NM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ji(n,null,(t=e,new Ba(an.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function J1(n,e,t){n=un(n,tr);const r=Object.assign(Object.assign({},Q1),t);return function(o){if(o.maxAttempts<1)throw new Fe(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,l){const m=new zr;return o.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const E=yield function nN(n){return qC(n).then(e=>e.datastore)}(o);new WP(o.asyncQueue,E,l,u,m).run()})),m.promise}(Wr(n),o=>e(new X1(n,o)),r)}(this._delegate,t=>e(new jN(this,t)))}batch(){return Wr(this._delegate),new $N(new FN(this._delegate,e=>Sv(this._delegate,e)))}loadBundle(e){return function h1(n,e){const t=Wr(n=un(n,tr)),r=new i1;return function JP(n,e,t,r){const o=function(u,l){let m;return m="string"==typeof u?KS().encode(u):u,E=function(E,b){if(E instanceof Uint8Array)return XR(E,b);if(E instanceof ArrayBuffer)return XR(new Uint8Array(E),b);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new zP(E,l);var E}(t,kw(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function $P(n,e,t){const r=et(n);var o;(o=(0,we.Z)(function*(u,l,m){try{const E=yield l.getMetadata();if(yield function(H,te){const Ee=et(H),Te=Nr(te.createTime);return Ee.persistence.runTransaction("hasNewerBundle","readonly",Pe=>Ee.qs.getBundleMetadata(Pe,te.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(Te)>=0)}(u.localStore,E))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=E).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress($R(E));const b=new wP(E,u.localStore,l.serializer);let A=yield l.bc();for(;A;){const H=yield b.zu(A);H&&m._updateProgress(H),A=yield l.bc()}const N=yield b.complete();return yield vd(u,N.Ju,void 0),yield function(H,te){const Ee=et(H);return Ee.persistence.runTransaction("Save bundle","readwrite",Te=>Ee.qs.saveBundleMetadata(Te,te))}(u.localStore,E),m._completeWith(N.progress),Promise.resolve(N.Hu)}catch(E){return Zi("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var H}),function(u,l,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield xM(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function f1(n,e){return function e1(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const o=et(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield KC(n),e)}))}(Wr(n=un(n,tr)),e).then(t=>t?new Ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Zs(this,t):null)}}class ab extends jM{constructor(e){super(),this.firestore=e}convertBytes(e){return new qw(new Vc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wa.forKey(t,this.firestore,null)}}class jN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ab(e)}get(e){const t=Og(e);return this._delegate.get(t).then(r=>new Kw(this._firestore,new Ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Og(e);return r?(HM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Og(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Og(e);return this._delegate.delete(t),this}}class $N{constructor(e){this._delegate=e}set(e,t,r){const o=Og(e);return r?(HM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Og(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Og(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ng{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ww(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ng.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Ng(e,new ab(e),t),o.set(t,u)),u}}Ng.INSTANCES=new WeakMap;class Wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ab(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wa(t,new er(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new Wa(t,new er(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Av(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Av(this.firestore,fN(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.m9)(e))instanceof er&&pN(this._delegate,e)}set(e,t){t=HM("DocumentReference.set",t);try{return t?ON(this._delegate,e,t):ON(this._delegate,e)}catch(r){throw Ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?PN(this._delegate,e):PN(this._delegate,e,t,...r)}catch(o){throw Ks(o,"updateDoc()","DocumentReference.update()")}}delete(){return function B1(n){return Sv(un(n.firestore,tr),[new Eg(n._key,Jn.none())])}(this._delegate)}onSnapshot(...e){const t=HN(e),r=zN(e,o=>new Kw(this.firestore,new Ed(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return kN(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function k1(n){n=un(n,er);const e=un(n.firestore,tr),t=Wr(e),r=new Sf(e);return function YP(n,e){const t=new zr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(o,u,l){try{const m=yield function(E,b){const A=et(E);return A.persistence.runTransaction("read document","readonly",N=>A.localDocuments.getDocument(N,b))}(o,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Fe(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=Ev(m,`Failed to get document '${u} from cache`);l.reject(E)}}),function(o,u,l){return r.apply(this,arguments)})(yield KC(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Ed(e,r,n._key,o,new Rg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function F1(n){n=un(n,er);const e=un(n.firestore,tr);return rN(Wr(e),n._key,{source:"server"}).then(t=>$M(e,n,t))}(this._delegate):function P1(n){n=un(n,er);const e=un(n.firestore,tr);return rN(Wr(e),n._key).then(t=>$M(e,n,t))}(this._delegate),t.then(r=>new Kw(this.firestore,new Ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wa(this.firestore,this._delegate.withConverter(e?Ng.getInstance(this.firestore,e):null))}}function Ks(n,e,t){return n.message=n.message.replace(e,t),n}function HN(n){for(const e of n)if("object"==typeof e&&!zM(e))return e;return{}}function zN(n,e){var t,r;let o;return o=zM(n[0])?n[0]:zM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Kw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NN(this._delegate,e._delegate)}}class Zw extends Kw{data(e){const t=this._delegate.data(e);return function ag(n,e){n||ut()}(void 0!==t),t}}class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ab(e)}where(e,t,r){try{return new Zs(this.firestore,bf(this._delegate,function D1(n,e,t){const r=e,o=nb("where",n);return Gw._create(o,r,t)}(e,t,r)))}catch(o){throw Ks(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zs(this.firestore,bf(this._delegate,function C1(n,e="asc"){const t=e,r=nb("orderBy",n);return BM._create(r,t)}(e,t)))}catch(r){throw Ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zs(this.firestore,bf(this._delegate,function b1(n){return lN("limit",n),rb._create("limit",n,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zs(this.firestore,bf(this._delegate,function T1(n){return lN("limitToLast",n),rb._create("limitToLast",n,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zs(this.firestore,bf(this._delegate,function S1(...n){return ib._create("startAt",n,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zs(this.firestore,bf(this._delegate,function A1(...n){return ib._create("startAfter",n,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zs(this.firestore,bf(this._delegate,function M1(...n){return sb._create("endBefore",n,!1)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zs(this.firestore,bf(this._delegate,function x1(...n){return sb._create("endAt",n,!0)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return OM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function V1(n){n=un(n,Ji);const e=un(n.firestore,tr),t=Wr(e),r=new Sf(e);return function QP(n,e){const t=new zr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(o,u,l){try{const m=yield VC(o,u,!0),E=new GR(u,m.ir),b=E.sc(m.documents),A=E.applyChanges(b,!1);l.resolve(A.snapshot)}catch(m){const E=Ev(m,`Failed to execute query '${u} against cache`);l.reject(E)}}),function(o,u,l){return r.apply(this,arguments)})(yield KC(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Tf(e,r,n,o))}(this._delegate):"server"===e?.source?function U1(n){n=un(n,Ji);const e=un(n.firestore,tr),t=Wr(e),r=new Sf(e);return iN(t,n._query,{source:"server"}).then(o=>new Tf(e,r,n,o))}(this._delegate):function L1(n){n=un(n,Ji);const e=un(n.firestore,tr),t=Wr(e),r=new Sf(e);return bN(n._query),iN(t,n._query).then(o=>new Tf(e,r,n,o))}(this._delegate),t.then(r=>new GM(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HN(e),r=zN(e,o=>new GM(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return kN(this._delegate,t,r)}withConverter(e){return new Zs(this.firestore,this._delegate.withConverter(e?Ng.getInstance(this.firestore,e):null))}}class lk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new lk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Zw(this._firestore,r))})}isEqual(e){return NN(this._delegate,e._delegate)}}class Av extends Zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wa(this.firestore,e):null}doc(e){try{return new Wa(this.firestore,void 0===e?YC(this._delegate):YC(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function j1(n,e){const t=un(n.firestore,tr),r=YC(n),o=ob(n.converter,e);return Sv(t,[JC(Mg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Wa(this.firestore,t))}isEqual(e){return pN(this._delegate,e._delegate)}withConverter(e){return new Av(this.firestore,this._delegate.withConverter(e?Ng.getInstance(this.firestore,e):null))}}function Og(n){return un(n,er)}class WM{constructor(...e){this._delegate=new _d(...e)}static documentId(){return new WM(ur.keyField().canonicalString())}isEqual(e){return(e=(0,hn.m9)(e))instanceof _d&&this._delegate._internalPath.isEqual(e._internalPath)}}class Pg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function tk(){return new kM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Pg(e)}static delete(){const e=function ek(){return new jw("deleteField")}();return e._methodName="FieldValue.delete",new Pg(e)}static arrayUnion(...e){const t=function nk(...n){return new v1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Pg(t)}static arrayRemove(...e){const t=function rk(...n){return new _1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Pg(t)}static increment(e){const t=function ik(n){return new E1("increment",n)}(e);return t._methodName="FieldValue.increment",new Pg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dk={Firestore:BN,GeoPoint:QC,Timestamp:Qn,Blob:qw,Transaction:jN,WriteBatch:$N,DocumentReference:Wa,DocumentSnapshot:Kw,Query:Zs,QueryDocumentSnapshot:Zw,QuerySnapshot:GM,CollectionReference:Av,FieldPath:WM,FieldValue:Pg,setLogLevel:function ck(n){!function uR(n){Jl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function fk(n){(function hk(n,e){n.INTERNAL.registerComponent(new x_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},dk)))})(n,(e,t)=>new BN(e,t,new uk)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(oR.Z);var pk=O(3019),ub=O(3093),gk=O(4552);class mk extends Ns.x{constructor(e=1/0,t=1/0,r=gk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=l;E+=2)m=E;m&&r.splice(0,m+1)}}}var yk=O(3020);function GN(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,yk.B)({connector:()=>new mk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function WN(n,e){return(0,cs.m)(e)?(0,Zn.w)(()=>n,e):(0,Zn.w)(()=>n)}var qM=O(5137),KM=O(4097);var YM=O(4303);const QM=new Map,qN={activated:!1,tokenObservers:[]},Ik={initialized:!1,enabled:!1};function Or(n){return QM.get(n)||Object.assign({},qN)}function cb(){return Ik}const XM="https://content-firebaseappcheck.googleapis.com/v1",Tk="exchangeDebugToken",KN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ak{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new hn.BH,yield function Mk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new hn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const es=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JM(n){if(!Or(n).activated)throw es.create("use-before-activation",{appName:n.name})}function hb(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(N){throw es.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw es.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(N){throw es.create("fetch-parse-error",{originalErrorMessage:N?.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(E[1]),A=Date.now();return{token:m.token,expireTimeMillis:A+b,issuedAtTimeMillis:A}}),tx.apply(this,arguments)}function ZN(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${XM}/projects/${t}/apps/${r}:${Tk}?key=${o}`,body:{debug_token:e}}}const Ok="firebase-app-check-database",Pk=1,Qw="firebase-app-check-store";let fb=null;function nx(){return nx=(0,we.Z)(function*(n,e){const r=(yield function QN(){return fb||(fb=new Promise((n,e)=>{try{const t=indexedDB.open(Ok,Pk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(es.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qw,{keyPath:"compositeKey"})}}catch(t){e(es.create("storage-open",{originalErrorMessage:t?.message}))}}),fb)}()).transaction(Qw,"readwrite"),u=r.objectStore(Qw).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=E=>{l()},r.onerror=E=>{var b;m(es.create("storage-set",{originalErrorMessage:null===(b=E.target.error)||void 0===b?void 0:b.message}))}})}),nx.apply(this,arguments)}const Xw=new Go.Yd("@firebase/app-check");function sx(n,e){return(0,hn.hl)()?function Fk(n,e){return function XN(n,e){return nx.apply(this,arguments)}(function eO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Xw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ax(){return cb().enabled}function ux(){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(){const n=cb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cx.apply(this,arguments)}const $k={error:"UNKNOWN_ERROR"};function Hk(n){return hn.US.encodeString(JSON.stringify(n),!1)}function pb(n){return lx.apply(this,arguments)}function lx(){return lx=(0,we.Z)(function*(n,e=!1){const t=n.app;JM(t);const r=Or(t);let u,o=r.token;if(o&&!Mv(o)&&(r.token=void 0,o=void 0),!o){const E=yield r.cachedTokenPromise;E&&(Mv(E)?o=E:yield sx(t,void 0))}if(!e&&o&&Mv(o))return{token:o.token};let m,l=!1;if(ax()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hb(ZN(t,yield ux()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const E=yield r.exchangeTokenPromise;return yield sx(t,E),r.token=E,{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Or(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Xw.warn(E.message):Xw.error(E),u=E}return o?u?m=Mv(o)?{token:o.token,internalError:u}:iO(u):(m={token:o.token},r.token=o,yield sx(t,o)):m=iO(u),l&&function rO(n,e){const t=Or(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),lx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(n){const e=n.app;JM(e);const{provider:t}=Or(e);if(ax()){const r=yield ux(),{token:o}=yield hb(ZN(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),dx.apply(this,arguments)}function fx(n,e){const t=Or(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function nO(n){const{app:e}=n,t=Or(e);let r=t.tokenRefresher;r||(r=function zk(n){const{app:e}=n;return new Ak((0,we.Z)(function*(){let r;if(r=Or(e).token?yield pb(n,!0):yield pb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Or(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},KN.RETRIAL_MIN_WAIT,KN.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Mv(n){return n.expireTimeMillis-Date.now()>0}function iO(n){return{token:Hk($k),error:n}}class Gk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Or(this.app);for(const t of e)fx(this.app,t.next);return Promise.resolve()}}const hO="app-check-internal";!function sF(){(0,YM.Xd)(new x_.wA("app-check",n=>function Wk(n,e){return new Gk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hO).initialize()})),(0,YM.Xd)(new x_.wA(hO,n=>function qk(n){return{getToken:e=>pb(n,e),getLimitedUseToken:()=>function tO(n){return dx.apply(this,arguments)}(n),addTokenListener:e=>function hx(n,e,t,r){const{app:o}=n,u=Or(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Mv(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),nO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>nO(n))}(n,"INTERNAL",e),removeTokenListener:e=>fx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,YM.KN)("@firebase/app-check","0.8.0")}();class yx{constructor(){return(0,$r.vb)("app-check")}}typeof window<"u"&&window,O(120);const pO=new g.OlP("angularfire2.auth.use-emulator"),gO=new g.OlP("angularfire2.auth.settings"),mO=new g.OlP("angularfire2.auth.tenant-id"),yO=new g.OlP("angularfire2.auth.langugage-code"),vO=new g.OlP("angularfire2.auth.use-device-language"),_O=new g.OlP("angularfire.auth.persistence"),EO=(n,e,t,r,o,u,l,m)=>(0,go.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),l)for(const[b,A]of Object.entries(l))E.settings[b]=A;return m&&E.setPersistence(m),E},[t,r,o,u,l,m]);let wO=(()=>{class n{constructor(t,r,o,u,l,m,E,b,A,N,H,te){const Ee=new Ns.x,Te=(0,mt.of)(void 0).pipe((0,ub.Q)(l.outsideAngular),(0,Zn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8977)))),(0,Tt.U)(()=>(0,go.on)(t,u,r)),(0,Tt.U)(Pe=>EO(Pe,u,m,b,A,N,E,H)),GN({bufferSize:1,refCount:!1}));if(bo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,mt.of)(null);else{Te.pipe(Mi()).subscribe();const lt=Te.pipe((0,Zn.w)(Mt=>Mt.getRedirectResult().then(jt=>jt,()=>null)),$r.iC,GN({bufferSize:1,refCount:!1})),At=Te.pipe((0,Zn.w)(Mt=>new Vi.y(jt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onAuthStateChanged(en=>jt.next(en),en=>jt.error(en),()=>jt.complete()))})))),ot=Te.pipe((0,Zn.w)(Mt=>new Vi.y(jt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onIdTokenChanged(en=>jt.next(en),en=>jt.error(en),()=>jt.complete()))}))));this.authState=lt.pipe(WN(At),(0,qM.R)(l.outsideAngular),(0,ub.Q)(l.insideAngular)),this.user=lt.pipe(WN(ot),(0,qM.R)(l.outsideAngular),(0,ub.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Zn.w)(Mt=>Mt?(0,Jt.D)(Mt.getIdToken()):(0,mt.of)(null))),this.idTokenResult=this.user.pipe((0,Zn.w)(Mt=>Mt?(0,Jt.D)(Mt.getIdTokenResult()):(0,mt.of)(null))),this.credential=(0,pk.T)(lt,Ee,this.authState.pipe(Ai(Mt=>!Mt))).pipe((0,Tt.U)(Mt=>Mt?.user?Mt:null),(0,qM.R)(l.outsideAngular),(0,ub.Q)(l.insideAngular))}return(0,go.pX)(this,Te,u,{spy:{apply:(Pe,lt,At)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&At.then(ot=>Ee.next(ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(go.Dh),g.LFG(go.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($r.HU),g.LFG(pO,8),g.LFG(gO,8),g.LFG(mO,8),g.LFG(yO,8),g.LFG(vO,8),g.LFG(_O,8),g.LFG(yx,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function IO(n,e){return function dF(n,e=FT.z){return new Vi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function _x(n,e){return IO(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function mb(n,e){return _x(n,e).pipe($i(void 0),M_(),(0,Tt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const E=o.find(A=>A.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(A=>A.ref.isEqual(l.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(l.metadata)||!E&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function DO(n,e,t){return mb(n,t).pipe(Os((r,o)=>function fF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function pF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ex(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ex(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ex(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),(0,AI.x)(),(0,Tt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Ex(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function CO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe($i(void 0),M_(),Ai(([r,o])=>o.length>0||!r),(0,Tt.U)(([r,o])=>o),$r.iC)}auditTrail(e){return this.stateChanges(e).pipe(Os((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CO(e);return DO(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return _x(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),$r.iC)}get(e){return(0,Jt.D)(this.query.get(e)).pipe($r.iC)}add(e){return this.ref.add(e)}doc(e){return new TO(this.ref.doc(e),this.afs)}}class TO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=SO(r,t);return new bO(o,u,this.afs)}snapshotChanges(){return function hF(n,e){return IO(n,e).pipe($i(void 0),M_(),(0,Tt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Jt.D)(this.ref.get(e)).pipe($r.iC)}}class gF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ai(t=>t.length>0),$r.iC):mb(this.query,this.afs.schedulers.outsideAngular).pipe($r.iC)}auditTrail(e){return this.stateChanges(e).pipe(Os((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CO(e);return DO(this.query,t,this.afs.schedulers.outsideAngular).pipe($r.iC)}valueChanges(e={}){return _x(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),$r.iC)}get(e){return(0,Jt.D)(this.query.get(e)).pipe($r.iC)}}const mF=new g.OlP("angularfire2.enableFirestorePersistence"),yF=new g.OlP("angularfire2.firestore.persistenceSettings"),vF=new g.OlP("angularfire2.firestore.settings"),_F=new g.OlP("angularfire2.firestore.use-emulator");function SO(n,e=(t=>t)){return{query:e(n),ref:n}}let EF=(()=>{class n{constructor(t,r,o,u,l,m,E,b,A,N,H,te,Ee,Te,Pe,lt,At){this.schedulers=E;const ot=(0,go.on)(t,m,r),Mt=A;N&&EO(ot,m,H,Ee,Te,Pe,te,lt),[this.firestore,this.persistenceEnabled$]=(0,go.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const jt=m.runOutsideAngular(()=>ot.firestore());if(u&&jt.settings(u),Mt&&jt.useEmulator(...Mt),o&&!bo(l)){const en=()=>{try{return(0,Jt.D)(jt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Es){return typeof console<"u"&&console.warn(Es),(0,mt.of)(!1)}};return[jt,m.runOutsideAngular(en)]}return[jt,(0,mt.of)(!1)]},[u,Mt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=SO(o,r),m=this.schedulers.ngZone.run(()=>u);return new bO(m,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new gF(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new TO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(go.Dh),g.LFG(go.xv,8),g.LFG(mF,8),g.LFG(vF,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG($r.HU),g.LFG(yF,8),g.LFG(_F,8),g.LFG(wO,8),g.LFG(pO,8),g.LFG(gO,8),g.LFG(mO,8),g.LFG(yO,8),g.LFG(vO,8),g.LFG(_O,8),g.LFG(yx,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wF(n,e){if(1&n&&(g.TgZ(0,"p"),g._uU(1),g.qZA()),2&n){const t=g.oxw();g.xp6(1),g.hij(" ",t.submitMessage,"")}}let IF=(()=>{class n{constructor(t,r){this.formBuilder=t,this.firestore=r,this.title="Contact Form",this.isSubmit=!1,this.submitMessage=""}ngOnInit(){this.ContactForm=this.formBuilder.group({name:["",bh.required],email:["",[bh.required,bh.email]],msg:["",bh.required]})}onSubmit(){if(this.ContactForm.valid){const t=this.ContactForm.value;((n,e="https://api.emailjs.com")=>{Rp._userID=n,Rp._origin=e})("YOUR_USER_ID"),SI_send("service_j4nsfvg","template_o5qkaf4",{from_name:`${t.name}`,to_name:"Rohitash Singh",name:`${t.name}`,email:`${t.email}`,msg:`${t.msg}`},"Oatx7iGncadHGWeH_").then(o=>{this.firestore.collection("contacts").add(t).then(()=>{this.submitMessage="Message Sent Successfully",this.ContactForm.reset()}).catch(u=>{console.error(u),this.submitMessage="Message not sent!!"}).finally(()=>{this.isSubmit=!0,setTimeout(()=>{this.isSubmit=!1},5e3)})}).catch(o=>{console.error("Email sending failed:",o)})}}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(RT),g.Y36(EF))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-contact-form"]],decls:24,vars:3,consts:[[1,"container-fluid","h-custom"],[1,"row","d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"col-md-9","col-lg-6","col-xl-5","image-container"],[1,"circular-sliding-image"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-8","col-lg-6","col-xl-4","offset-xl-1"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-3"],["type","text","formControlName","name","id","name","placeholder","Your Name","required","",1,"form-control","form-control-lg",2,"border-radius","40px"],[1,"form-outline","mb-4"],["type","email","formControlName","email","id","email","placeholder","Your Email","required","",1,"form-control","form-control-lg",2,"border-radius","40px"],[1,"form-group"],["formControlName","msg","id","msg","rows","3","placeholder","Your Message","required","",1,"form-control","p-4",2,"border-radius","40px","height","200px"],[1,"text-center","text-lg-start","mt-4","pt-2"],["type","submit",1,"btn","btn-primary","btn-lg","w-100",2,"padding-left","2.5rem","padding-right","2.5rem","border-radius","40px",3,"disabled"],[4,"ngIf"],[1,"text-center","footer",2,"color","black"],["href","https://github.com/Rohitashsingh89","target","_blank",2,"color","blue"]],template:function(t,r){1&t&&(g.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),g._UZ(5,"img",4),g.qZA()(),g.TgZ(6,"div",5)(7,"h2"),g._uU(8,"GET IN TOUCH"),g.qZA(),g.TgZ(9,"form",6),g.NdJ("ngSubmit",function(){return r.onSubmit()}),g.TgZ(10,"div",7),g._UZ(11,"input",8),g.qZA(),g.TgZ(12,"div",9),g._UZ(13,"input",10),g.qZA(),g.TgZ(14,"div",11),g._UZ(15,"textarea",12),g.qZA(),g.TgZ(16,"div",13)(17,"button",14),g._uU(18,"Send Message"),g.qZA(),g.YNc(19,wF,2,1,"p",15),g.qZA()()()()()(),g.TgZ(20,"footer",16),g._uU(21,"Designed By "),g.TgZ(22,"a",17),g._uU(23,"Rohitah Singh"),g.qZA()()),2&t&&(g.xp6(9),g.Q6J("formGroup",r.ContactForm),g.xp6(8),g.Q6J("disabled",r.ContactForm.invalid),g.xp6(2),g.Q6J("ngIf",r.isSubmit))},dependencies:[ta,mT,Dh,W0,q0,$l,Vm,Bm],styles:[".image-container[_ngcontent-%COMP%]{position:relative}.circular-sliding-image[_ngcontent-%COMP%]{overflow:hidden;position:relative;animation:_ngcontent-%COMP%_circularSlide 3s infinite alternate linear;transform-origin:center center;transition:transform .3s ease}.circular-sliding-image[_ngcontent-%COMP%]:hover{animation-play-state:paused;transform:translate(-20px)}@keyframes _ngcontent-%COMP%_circularSlide{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(360deg)}}.footer[_ngcontent-%COMP%]{padding:20px;position:fixed;left:0;bottom:0;width:100%;font-size:large}@media screen and (max-width: 990px){.container-fluid.h-custom[_ngcontent-%COMP%]{margin-bottom:10vh}.text-center.text-lg-start.mt-4.pt-2[_ngcontent-%COMP%]{margin-bottom:100px}}"]}),n})(),DF=(()=>{class n{constructor(){this.title="superstack"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"app-contact-form")},dependencies:[IF],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}"]}),n})();class wx{constructor(e){return e}}const AO="firestore",Ix=new g.OlP("angularfire2.firestore-instances"),SF={provide:class CF{constructor(){return(0,$r.vb)(AO)}},deps:[[new g.FiY,Ix]]},AF={provide:wx,useFactory:function bF(n,e){const t=(0,$r.JM)(AO,n,e);return t&&new wx(t)},deps:[[new g.FiY,Ix],class Yw{constructor(e){return e}}]};let MO=(()=>{class n{constructor(){(0,KM.KN)("angularfire",$r.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[AF,SF]}),n})();class yb{}class vb{}class Uc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(m=>-1===u.indexOf(m)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class MF{encodeKey(e){return xO(e)}encodeValue(e){return xO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RF=/%(\d[a-f0-9])/gi,NF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xO(n){return encodeURIComponent(n).replace(RF,(e,t)=>NF[t]??e)}function _b(n){return`${n}`}class Mf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new MF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xF(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[l,m]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],E=t.get(l)||[];E.push(m),t.set(l,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(_b):[_b(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Mf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_b(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(_b(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OF{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RO(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function NO(n){return typeof Blob<"u"&&n instanceof Blob}function OO(n){return typeof FormData<"u"&&n instanceof FormData}class Jw{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function PF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Uc),this.context||(this.context=new OF),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new Mf,this.urlWithParams=t}serializeBody(){return null===this.body?null:RO(this.body)||NO(this.body)||OO(this.body)||function kF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OO(this.body)?null:NO(this.body)?this.body.type||null:RO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,b=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((N,H)=>N.set(H,e.setHeaders[H]),E)),e.setParams&&(b=Object.keys(e.setParams).reduce((N,H)=>N.set(H,e.setParams[H]),b)),new Jw(t,r,u,{params:b,headers:E,context:A,reportProgress:m,responseType:o,withCredentials:l})}}var ci=(()=>((ci=ci||{})[ci.Sent=0]="Sent",ci[ci.UploadProgress=1]="UploadProgress",ci[ci.ResponseHeader=2]="ResponseHeader",ci[ci.DownloadProgress=3]="DownloadProgress",ci[ci.Response=4]="Response",ci[ci.User=5]="User",ci))();class Dx{constructor(e,t=200,r="OK"){this.headers=e.headers||new Uc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Cx extends Dx{constructor(e={}){super(e),this.type=ci.ResponseHeader}clone(e={}){return new Cx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xv extends Dx{constructor(e={}){super(e),this.type=ci.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class PO extends Dx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function bx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let FF=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof Jw)u=t;else{let E,b;E=o.headers instanceof Uc?o.headers:new Uc(o.headers),o.params&&(b=o.params instanceof Mf?o.params:new Mf({fromObject:o.params})),u=new Jw(t,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const l=(0,mt.of)(u).pipe(Hi(E=>this.handler.handle(E)));if(t instanceof Jw||"events"===o.observe)return l;const m=l.pipe(Ai(E=>E instanceof xv));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,Tt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,Tt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,Tt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,Tt.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Mf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,bx(o,r))}post(t,r,o={}){return this.request("POST",t,bx(o,r))}put(t,r,o={}){return this.request("PUT",t,bx(o,r))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(yb))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function LO(n,e){return e(n)}function VF(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const BF=new g.OlP(""),e0=new g.OlP(""),VO=new g.OlP("");function jF(){let n=null;return(e,t)=>{null===n&&(n=((0,g.f3M)(BF,{optional:!0})??[]).reduceRight(VF,LO));const r=(0,g.f3M)(g.HDt),o=r.add();return n(e,t).pipe(ko(()=>r.remove(o)))}}let UO=(()=>{class n extends yb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,g.f3M)(g.HDt)}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(e0),...this.injector.get(VO,[])]));this.chain=o.reduceRight((u,l)=>function UF(n,e,t){return(r,o)=>t.runInContext(()=>e(r,u=>n(u,o)))}(u,l,this.injector),LO)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(ko(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(vb),g.LFG(g.lqb))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const GF=/^\)\]\}',?\n/;let jO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new g.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Jt.D)(r.\u0275loadImpl()):(0,mt.of)(null)).pipe((0,Zn.w)(()=>new Vi.y(u=>{const l=r.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((Te,Pe)=>l.setRequestHeader(Te,Pe.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Te=t.detectContentTypeHeader();null!==Te&&l.setRequestHeader("Content-Type",Te)}if(t.responseType){const Te=t.responseType.toLowerCase();l.responseType="json"!==Te?Te:"text"}const m=t.serializeBody();let E=null;const b=()=>{if(null!==E)return E;const Te=l.statusText||"OK",Pe=new Uc(l.getAllResponseHeaders()),lt=function WF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return E=new Cx({headers:Pe,status:l.status,statusText:Te,url:lt}),E},A=()=>{let{headers:Te,status:Pe,statusText:lt,url:At}=b(),ot=null;204!==Pe&&(ot=typeof l.response>"u"?l.responseText:l.response),0===Pe&&(Pe=ot?200:0);let Mt=Pe>=200&&Pe<300;if("json"===t.responseType&&"string"==typeof ot){const jt=ot;ot=ot.replace(GF,"");try{ot=""!==ot?JSON.parse(ot):null}catch(en){ot=jt,Mt&&(Mt=!1,ot={error:en,text:ot})}}Mt?(u.next(new xv({body:ot,headers:Te,status:Pe,statusText:lt,url:At||void 0})),u.complete()):u.error(new PO({error:ot,headers:Te,status:Pe,statusText:lt,url:At||void 0}))},N=Te=>{const{url:Pe}=b(),lt=new PO({error:Te,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Pe||void 0});u.error(lt)};let H=!1;const te=Te=>{H||(u.next(b()),H=!0);let Pe={type:ci.DownloadProgress,loaded:Te.loaded};Te.lengthComputable&&(Pe.total=Te.total),"text"===t.responseType&&l.responseText&&(Pe.partialText=l.responseText),u.next(Pe)},Ee=Te=>{let Pe={type:ci.UploadProgress,loaded:Te.loaded};Te.lengthComputable&&(Pe.total=Te.total),u.next(Pe)};return l.addEventListener("load",A),l.addEventListener("error",N),l.addEventListener("timeout",N),l.addEventListener("abort",N),t.reportProgress&&(l.addEventListener("progress",te),null!==m&&l.upload&&l.upload.addEventListener("progress",Ee)),l.send(m),u.next({type:ci.Sent}),()=>{l.removeEventListener("error",N),l.removeEventListener("abort",N),l.removeEventListener("load",A),l.removeEventListener("timeout",N),t.reportProgress&&(l.removeEventListener("progress",te),null!==m&&l.upload&&l.upload.removeEventListener("progress",Ee)),l.readyState!==l.DONE&&l.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(sr))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Tx=new g.OlP("XSRF_ENABLED"),$O=new g.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),HO=new g.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zO{}let ZF=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(fe),g.LFG(g.Lbi),g.LFG($O))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function YF(n,e){const t=n.url.toLowerCase();if(!(0,g.f3M)(Tx)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,g.f3M)(zO).getToken(),o=(0,g.f3M)(HO);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var lr=(()=>((lr=lr||{})[lr.Interceptors=0]="Interceptors",lr[lr.LegacyInterceptors=1]="LegacyInterceptors",lr[lr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",lr[lr.NoXsrfProtection=3]="NoXsrfProtection",lr[lr.JsonpSupport=4]="JsonpSupport",lr[lr.RequestsMadeViaParent=5]="RequestsMadeViaParent",lr[lr.Fetch=6]="Fetch",lr))();function kg(n,e){return{\u0275kind:n,\u0275providers:e}}function QF(...n){const e=[FF,jO,UO,{provide:yb,useExisting:UO},{provide:vb,useExisting:jO},{provide:e0,useValue:YF,multi:!0},{provide:Tx,useValue:!0},{provide:zO,useClass:ZF}];for(const t of n)e.push(...t.\u0275providers);return(0,g.MR2)(e)}const GO=new g.OlP("LEGACY_INTERCEPTOR_FN");let JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[QF(kg(lr.LegacyInterceptors,[{provide:GO,useFactory:jF},{provide:e0,useExisting:GO,multi:!0}]))]}),n})();const sL={apiKey:"AIzaSyA4eTZ-yGEueO8mCcikULXR-IQEiu73K1M",authDomain:"superstack-85719.firebaseapp.com",projectId:"superstack-85719",storageBucket:"superstack-85719.appspot.com",messagingSenderId:"373608190954",appId:"1:373608190954:web:f32040073c79abbfe09893",measurementId:"G-YCEP86N7K7"};let oL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[DF]}),n.\u0275inj=g.cJS({imports:[uu,Bx,NT,JF,OT,MO,go.hO.initializeApp(sL)]}),n})();Ku().bootstrapModule(oL).catch(n=>console.error(n))},5619:(dt,be,O)=>{O.d(be,{X:()=>K});var g=O(8645);class K extends g.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const ne=super._subscribe(X);return!ne.closed&&X.next(this._value),ne}getValue(){const{hasError:X,thrownError:ne,_value:fe}=this;if(X)throw ne;return this._throwIfClosed(),fe}next(X){super.next(this._value=X)}}},5592:(dt,be,O)=>{O.d(be,{y:()=>Re});var g=O(1887),K=O(7394),P=O(4850),X=O(8407),ne=O(2653),fe=O(4674),ye=O(1441);let Re=(()=>{class ee{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new ee;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,Le){const qe=function B(ee){return ee&&ee instanceof g.Lv||function L(ee){return ee&&(0,fe.m)(ee.next)&&(0,fe.m)(ee.error)&&(0,fe.m)(ee.complete)}(ee)&&(0,K.Nn)(ee)}(Ae)?Ae:new g.Hp(Ae,We,Le);return(0,ye.x)(()=>{const{operator:ke,source:ht}=this;qe.add(ke?ke.call(qe,ht):ht?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=ue(We))((Le,qe)=>{const ke=new g.Hp({next:ht=>{try{Ae(ht)}catch(ft){qe(ft),ke.unsubscribe()}},error:qe,complete:Le});this.subscribe(ke)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,X.U)(Ae)(this)}toPromise(Ae){return new(Ae=ue(Ae))((We,Le)=>{let qe;this.subscribe(ke=>qe=ke,ke=>Le(ke),()=>We(qe))})}}return ee.create=Be=>new ee(Be),ee})();function ue(ee){var Be;return null!==(Be=ee??ne.config.Promise)&&void 0!==Be?Be:Promise}},8645:(dt,be,O)=>{O.d(be,{x:()=>ye});var g=O(5592),K=O(7394);const X=(0,O(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=O(9039),fe=O(1441);let ye=(()=>{class ue extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const ee=new Re(this,this);return ee.operator=B,ee}_throwIfClosed(){if(this.closed)throw new X}next(B){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(B)}})}error(B){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:ee}=this;for(;ee.length;)ee.shift().error(B)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:ee,isStopped:Be,observers:Ae}=this;return ee||Be?K.Lc:(this.currentObservers=null,Ae.push(B),new K.w0(()=>{this.currentObservers=null,(0,ne.P)(Ae,B)}))}_checkFinalizedStatuses(B){const{hasError:ee,thrownError:Be,isStopped:Ae}=this;ee?B.error(Be):Ae&&B.complete()}asObservable(){const B=new g.y;return B.source=this,B}}return ue.create=(L,B)=>new Re(L,B),ue})();class Re extends ye{constructor(L,B){super(),this.destination=L,this.source=B}next(L){var B,ee;null===(ee=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===ee||ee.call(B,L)}error(L){var B,ee;null===(ee=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===ee||ee.call(B,L)}complete(){var L,B;null===(B=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===B||B.call(L)}_subscribe(L){var B,ee;return null!==(ee=null===(B=this.source)||void 0===B?void 0:B.subscribe(L))&&void 0!==ee?ee:K.Lc}}},1887:(dt,be,O)=>{O.d(be,{Hp:()=>Le,Lv:()=>ee});var g=O(4674),K=O(7394),P=O(2653),X=O(3894);function ne(){}const fe=ue("C",void 0,void 0);function ue(se,_e,Y){return{kind:se,value:_e,error:Y}}var L=O(7599),B=O(1441);class ee extends K.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,K.Nn)(_e)&&_e.add(this)):this.destination=ft}static create(_e,Y,me){return new Le(_e,Y,me)}next(_e){this.isStopped?ht(function Re(se){return ue("N",se,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?ht(function ye(se){return ue("E",void 0,se)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?ht(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ae(se,_e){return Be.call(se,_e)}class We{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Y}=this;if(Y.next)try{Y.next(_e)}catch(me){qe(me)}}error(_e){const{partialObserver:Y}=this;if(Y.error)try{Y.error(_e)}catch(me){qe(me)}else qe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Y){qe(Y)}}}class Le extends ee{constructor(_e,Y,me){let Oe;if(super(),(0,g.m)(_e)||!_e)Oe={next:_e??void 0,error:Y??void 0,complete:me??void 0};else{let re;this&&P.config.useDeprecatedNextContext?(re=Object.create(_e),re.unsubscribe=()=>this.unsubscribe(),Oe={next:_e.next&&Ae(_e.next,re),error:_e.error&&Ae(_e.error,re),complete:_e.complete&&Ae(_e.complete,re)}):Oe=_e}this.destination=new We(Oe)}}function qe(se){P.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(se):(0,X.h)(se)}function ht(se,_e){const{onStoppedNotification:Y}=P.config;Y&&L.z.setTimeout(()=>Y(se,_e))}const ft={closed:!0,next:ne,error:function ke(se){throw se},complete:ne}},7394:(dt,be,O)=>{O.d(be,{Lc:()=>fe,w0:()=>ne,Nn:()=>ye});var g=O(4674);const P=(0,O(2306).d)(ue=>function(B){ue(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((ee,Be)=>`${Be+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var X=O(9039);class ne{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Ae of B)Ae.remove(this);else B.remove(this);const{initialTeardown:ee}=this;if((0,g.m)(ee))try{ee()}catch(Ae){L=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ae of Be)try{Re(Ae)}catch(We){L=L??[],We instanceof P?L=[...L,...We.errors]:L.push(We)}}if(L)throw new P(L)}}add(L){var B;if(L&&L!==this)if(this.closed)Re(L);else{if(L instanceof ne){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(L)}}_hasParent(L){const{_parentage:B}=this;return B===L||Array.isArray(B)&&B.includes(L)}_addParent(L){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(L),B):B?[B,L]:L}_removeParent(L){const{_parentage:B}=this;B===L?this._parentage=null:Array.isArray(B)&&(0,X.P)(B,L)}remove(L){const{_finalizers:B}=this;B&&(0,X.P)(B,L),L instanceof ne&&L._removeParent(this)}}ne.EMPTY=(()=>{const ue=new ne;return ue.closed=!0,ue})();const fe=ne.EMPTY;function ye(ue){return ue instanceof ne||ue&&"closed"in ue&&(0,g.m)(ue.remove)&&(0,g.m)(ue.add)&&(0,g.m)(ue.unsubscribe)}function Re(ue){(0,g.m)(ue)?ue():ue.unsubscribe()}},2653:(dt,be,O)=>{O.d(be,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(dt,be,O)=>{O.d(be,{E:()=>K});const K=new(O(5592).y)(ne=>ne.complete())},2459:(dt,be,O)=>{O.d(be,{D:()=>_e});var g=O(4829),K=O(3093),P=O(5137),fe=O(5592),Re=O(4971),ue=O(4674),L=O(7103);function ee(Y,me){if(!Y)throw new Error("Iterable cannot be null");return new fe.y(Oe=>{(0,L.f)(Oe,me,()=>{const re=Y[Symbol.asyncIterator]();(0,L.f)(Oe,me,()=>{re.next().then(G=>{G.done?Oe.complete():Oe.next(G.value)})},0,!0)})})}var Be=O(8382),Ae=O(4026),We=O(4266),Le=O(3664),qe=O(5726),ke=O(9853),ht=O(541);function _e(Y,me){return me?function se(Y,me){if(null!=Y){if((0,Be.c)(Y))return function X(Y,me){return(0,g.Xf)(Y).pipe((0,P.R)(me),(0,K.Q)(me))}(Y,me);if((0,We.z)(Y))return function ye(Y,me){return new fe.y(Oe=>{let re=0;return me.schedule(function(){re===Y.length?Oe.complete():(Oe.next(Y[re++]),Oe.closed||this.schedule())})})}(Y,me);if((0,Ae.t)(Y))return function ne(Y,me){return(0,g.Xf)(Y).pipe((0,P.R)(me),(0,K.Q)(me))}(Y,me);if((0,qe.D)(Y))return ee(Y,me);if((0,Le.T)(Y))return function B(Y,me){return new fe.y(Oe=>{let re;return(0,L.f)(Oe,me,()=>{re=Y[Re.h](),(0,L.f)(Oe,me,()=>{let G,Ce;try{({value:G,done:Ce}=re.next())}catch(gt){return void Oe.error(gt)}Ce?Oe.complete():Oe.next(G)},0,!0)}),()=>(0,ue.m)(re?.return)&&re.return()})}(Y,me);if((0,ht.L)(Y))return function ft(Y,me){return ee((0,ht.Q)(Y),me)}(Y,me)}throw(0,ke.z)(Y)}(Y,me):(0,g.Xf)(Y)}},4829:(dt,be,O)=>{O.d(be,{Xf:()=>Be});var g=O(7582),K=O(4266),P=O(4026),X=O(5592),ne=O(8382),fe=O(5726),ye=O(9853),Re=O(3664),ue=O(541),L=O(4674),B=O(3894),ee=O(4850);function Be(se){if(se instanceof X.y)return se;if(null!=se){if((0,ne.c)(se))return function Ae(se){return new X.y(_e=>{const Y=se[ee.L]();if((0,L.m)(Y.subscribe))return Y.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(se);if((0,K.z)(se))return function We(se){return new X.y(_e=>{for(let Y=0;Y<se.length&&!_e.closed;Y++)_e.next(se[Y]);_e.complete()})}(se);if((0,P.t)(se))return function Le(se){return new X.y(_e=>{se.then(Y=>{_e.closed||(_e.next(Y),_e.complete())},Y=>_e.error(Y)).then(null,B.h)})}(se);if((0,fe.D)(se))return ke(se);if((0,Re.T)(se))return function qe(se){return new X.y(_e=>{for(const Y of se)if(_e.next(Y),_e.closed)return;_e.complete()})}(se);if((0,ue.L)(se))return function ht(se){return ke((0,ue.Q)(se))}(se)}throw(0,ye.z)(se)}function ke(se){return new X.y(_e=>{(function ft(se,_e){var Y,me,Oe,re;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Y=(0,g.KL)(se);!(me=yield Y.next()).done;)if(_e.next(me.value),_e.closed)return}catch(G){Oe={error:G}}finally{try{me&&!me.done&&(re=Y.return)&&(yield re.call(Y))}finally{if(Oe)throw Oe.error}}_e.complete()})})(se,_e).catch(Y=>_e.error(Y))})}},3019:(dt,be,O)=>{O.d(be,{T:()=>fe});var g=O(7537),K=O(4829),P=O(6232),X=O(4564),ne=O(2459);function fe(...ye){const Re=(0,X.yG)(ye),ue=(0,X._6)(ye,1/0),L=ye;return L.length?1===L.length?(0,K.Xf)(L[0]):(0,g.J)(ue)((0,ne.D)(L,Re)):P.E}},2096:(dt,be,O)=>{O.d(be,{of:()=>P});var g=O(4564),K=O(2459);function P(...X){const ne=(0,g.yG)(X);return(0,K.D)(X,ne)}},8251:(dt,be,O)=>{O.d(be,{x:()=>K});var g=O(1887);function K(X,ne,fe,ye,Re){return new P(X,ne,fe,ye,Re)}class P extends g.Lv{constructor(ne,fe,ye,Re,ue,L){super(ne),this.onFinalize=ue,this.shouldUnsubscribe=L,this._next=fe?function(B){try{fe(B)}catch(ee){ne.error(ee)}}:super._next,this._error=Re?function(B){try{Re(B)}catch(ee){ne.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(B){ne.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(dt,be,O)=>{O.d(be,{x:()=>X});var g=O(2737),K=O(9360),P=O(8251);function X(fe,ye=g.y){return fe=fe??ne,(0,K.e)((Re,ue)=>{let L,B=!0;Re.subscribe((0,P.x)(ue,ee=>{const Be=ye(ee);(B||!fe(L,Be))&&(B=!1,L=Be,ue.next(ee))}))})}function ne(fe,ye){return fe===ye}},7398:(dt,be,O)=>{O.d(be,{U:()=>P});var g=O(9360),K=O(8251);function P(X,ne){return(0,g.e)((fe,ye)=>{let Re=0;fe.subscribe((0,K.x)(ye,ue=>{ye.next(X.call(ne,ue,Re++))}))})}},7537:(dt,be,O)=>{O.d(be,{J:()=>P});var g=O(1631),K=O(2737);function P(X=1/0){return(0,g.z)(K.y,X)}},1631:(dt,be,O)=>{O.d(be,{z:()=>Re});var g=O(7398),K=O(4829),P=O(9360),X=O(7103),ne=O(8251),ye=O(4674);function Re(ue,L,B=1/0){return(0,ye.m)(L)?Re((ee,Be)=>(0,g.U)((Ae,We)=>L(ee,Ae,Be,We))((0,K.Xf)(ue(ee,Be))),B):("number"==typeof L&&(B=L),(0,P.e)((ee,Be)=>function fe(ue,L,B,ee,Be,Ae,We,Le){const qe=[];let ke=0,ht=0,ft=!1;const se=()=>{ft&&!qe.length&&!ke&&L.complete()},_e=me=>ke<ee?Y(me):qe.push(me),Y=me=>{Ae&&L.next(me),ke++;let Oe=!1;(0,K.Xf)(B(me,ht++)).subscribe((0,ne.x)(L,re=>{Be?.(re),Ae?_e(re):L.next(re)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(ke--;qe.length&&ke<ee;){const re=qe.shift();We?(0,X.f)(L,We,()=>Y(re)):Y(re)}se()}catch(re){L.error(re)}}))};return ue.subscribe((0,ne.x)(L,_e,()=>{ft=!0,se()})),()=>{Le?.()}}(ee,Be,ue,B)))}},3093:(dt,be,O)=>{O.d(be,{Q:()=>X});var g=O(7103),K=O(9360),P=O(8251);function X(ne,fe=0){return(0,K.e)((ye,Re)=>{ye.subscribe((0,P.x)(Re,ue=>(0,g.f)(Re,ne,()=>Re.next(ue),fe),()=>(0,g.f)(Re,ne,()=>Re.complete(),fe),ue=>(0,g.f)(Re,ne,()=>Re.error(ue),fe)))})}},3020:(dt,be,O)=>{O.d(be,{B:()=>ne});var g=O(4829),K=O(8645),P=O(1887),X=O(9360);function ne(ye={}){const{connector:Re=(()=>new K.x),resetOnError:ue=!0,resetOnComplete:L=!0,resetOnRefCountZero:B=!0}=ye;return ee=>{let Be,Ae,We,Le=0,qe=!1,ke=!1;const ht=()=>{Ae?.unsubscribe(),Ae=void 0},ft=()=>{ht(),Be=We=void 0,qe=ke=!1},se=()=>{const _e=Be;ft(),_e?.unsubscribe()};return(0,X.e)((_e,Y)=>{Le++,!ke&&!qe&&ht();const me=We=We??Re();Y.add(()=>{Le--,0===Le&&!ke&&!qe&&(Ae=fe(se,B))}),me.subscribe(Y),!Be&&Le>0&&(Be=new P.Hp({next:Oe=>me.next(Oe),error:Oe=>{ke=!0,ht(),Ae=fe(ft,ue,Oe),me.error(Oe)},complete:()=>{qe=!0,ht(),Ae=fe(ft,L),me.complete()}}),(0,g.Xf)(_e).subscribe(Be))})(ee)}}function fe(ye,Re,...ue){if(!0===Re)return void ye();if(!1===Re)return;const L=new P.Hp({next:()=>{L.unsubscribe(),ye()}});return(0,g.Xf)(Re(...ue)).subscribe(L)}},5137:(dt,be,O)=>{O.d(be,{R:()=>K});var g=O(9360);function K(P,X=0){return(0,g.e)((ne,fe)=>{fe.add(P.schedule(()=>ne.subscribe(fe),X))})}},4664:(dt,be,O)=>{O.d(be,{w:()=>X});var g=O(4829),K=O(9360),P=O(8251);function X(ne,fe){return(0,K.e)((ye,Re)=>{let ue=null,L=0,B=!1;const ee=()=>B&&!ue&&Re.complete();ye.subscribe((0,P.x)(Re,Be=>{ue?.unsubscribe();let Ae=0;const We=L++;(0,g.Xf)(ne(Be,We)).subscribe(ue=(0,P.x)(Re,Le=>Re.next(fe?fe(Be,Le,We,Ae++):Le),()=>{ue=null,ee()}))},()=>{B=!0,ee()}))})}},9397:(dt,be,O)=>{O.d(be,{b:()=>ne});var g=O(4674),K=O(9360),P=O(8251),X=O(2737);function ne(fe,ye,Re){const ue=(0,g.m)(fe)||ye||Re?{next:fe,error:ye,complete:Re}:fe;return ue?(0,K.e)((L,B)=>{var ee;null===(ee=ue.subscribe)||void 0===ee||ee.call(ue);let Be=!0;L.subscribe((0,P.x)(B,Ae=>{var We;null===(We=ue.next)||void 0===We||We.call(ue,Ae),B.next(Ae)},()=>{var Ae;Be=!1,null===(Ae=ue.complete)||void 0===Ae||Ae.call(ue),B.complete()},Ae=>{var We;Be=!1,null===(We=ue.error)||void 0===We||We.call(ue,Ae),B.error(Ae)},()=>{var Ae,We;Be&&(null===(Ae=ue.unsubscribe)||void 0===Ae||Ae.call(ue)),null===(We=ue.finalize)||void 0===We||We.call(ue)}))}):X.y}},1954:(dt,be,O)=>{O.d(be,{o:()=>ne});var g=O(7394);class K extends g.w0{constructor(ye,Re){super()}schedule(ye,Re=0){return this}}const P={setInterval(fe,ye,...Re){const{delegate:ue}=P;return ue?.setInterval?ue.setInterval(fe,ye,...Re):setInterval(fe,ye,...Re)},clearInterval(fe){const{delegate:ye}=P;return(ye?.clearInterval||clearInterval)(fe)},delegate:void 0};var X=O(9039);class ne extends K{constructor(ye,Re){super(ye,Re),this.scheduler=ye,this.work=Re,this.pending=!1}schedule(ye,Re=0){var ue;if(this.closed)return this;this.state=ye;const L=this.id,B=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(B,L,Re)),this.pending=!0,this.delay=Re,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(B,this.id,Re),this}requestAsyncId(ye,Re,ue=0){return P.setInterval(ye.flush.bind(ye,this),ue)}recycleAsyncId(ye,Re,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return Re;null!=Re&&P.clearInterval(Re)}execute(ye,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ye,Re);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,Re){let L,ue=!1;try{this.work(ye)}catch(B){ue=!0,L=B||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:ye,scheduler:Re}=this,{actions:ue}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(ue,this),null!=ye&&(this.id=this.recycleAsyncId(Re,ye,null)),this.delay=null,super.unsubscribe()}}}},2631:(dt,be,O)=>{O.d(be,{v:()=>P});var g=O(4552);class K{constructor(ne,fe=K.now){this.schedulerActionCtor=ne,this.now=fe}schedule(ne,fe=0,ye){return new this.schedulerActionCtor(this,ne).schedule(ye,fe)}}K.now=g.l.now;class P extends K{constructor(ne,fe=K.now){super(ne,fe),this.actions=[],this._active=!1}flush(ne){const{actions:fe}=this;if(this._active)return void fe.push(ne);let ye;this._active=!0;do{if(ye=ne.execute(ne.state,ne.delay))break}while(ne=fe.shift());if(this._active=!1,ye){for(;ne=fe.shift();)ne.unsubscribe();throw ye}}}},6321:(dt,be,O)=>{O.d(be,{z:()=>P});var g=O(1954);const P=new(O(2631).v)(g.o)},4552:(dt,be,O)=>{O.d(be,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(dt,be,O)=>{O.d(be,{z:()=>g});const g={setTimeout(K,P,...X){const{delegate:ne}=g;return ne?.setTimeout?ne.setTimeout(K,P,...X):setTimeout(K,P,...X)},clearTimeout(K){const{delegate:P}=g;return(P?.clearTimeout||clearTimeout)(K)},delegate:void 0}},4971:(dt,be,O)=>{O.d(be,{h:()=>K});const K=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,be,O)=>{O.d(be,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(dt,be,O)=>{O.d(be,{_6:()=>fe,jO:()=>X,yG:()=>ne});var g=O(4674);function P(ye){return ye[ye.length-1]}function X(ye){return(0,g.m)(P(ye))?ye.pop():void 0}function ne(ye){return function K(ye){return ye&&(0,g.m)(ye.schedule)}(P(ye))?ye.pop():void 0}function fe(ye,Re){return"number"==typeof P(ye)?ye.pop():Re}},9039:(dt,be,O)=>{function g(K,P){if(K){const X=K.indexOf(P);0<=X&&K.splice(X,1)}}O.d(be,{P:()=>g})},2306:(dt,be,O)=>{function g(K){const X=K(ne=>{Error.call(ne),ne.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}O.d(be,{d:()=>g})},1441:(dt,be,O)=>{O.d(be,{O:()=>X,x:()=>P});var g=O(2653);let K=null;function P(ne){if(g.config.useDeprecatedSynchronousErrorHandling){const fe=!K;if(fe&&(K={errorThrown:!1,error:null}),ne(),fe){const{errorThrown:ye,error:Re}=K;if(K=null,ye)throw Re}}else ne()}function X(ne){g.config.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=ne)}},7103:(dt,be,O)=>{function g(K,P,X,ne=0,fe=!1){const ye=P.schedule(function(){X(),fe?K.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(K.add(ye),!fe)return ye}O.d(be,{f:()=>g})},2737:(dt,be,O)=>{function g(K){return K}O.d(be,{y:()=>g})},4266:(dt,be,O)=>{O.d(be,{z:()=>g});const g=K=>K&&"number"==typeof K.length&&"function"!=typeof K},5726:(dt,be,O)=>{O.d(be,{D:()=>K});var g=O(4674);function K(P){return Symbol.asyncIterator&&(0,g.m)(P?.[Symbol.asyncIterator])}},4674:(dt,be,O)=>{function g(K){return"function"==typeof K}O.d(be,{m:()=>g})},8382:(dt,be,O)=>{O.d(be,{c:()=>P});var g=O(4850),K=O(4674);function P(X){return(0,K.m)(X[g.L])}},3664:(dt,be,O)=>{O.d(be,{T:()=>P});var g=O(4971),K=O(4674);function P(X){return(0,K.m)(X?.[g.h])}},4026:(dt,be,O)=>{O.d(be,{t:()=>K});var g=O(4674);function K(P){return(0,g.m)(P?.then)}},541:(dt,be,O)=>{O.d(be,{L:()=>X,Q:()=>P});var g=O(7582),K=O(4674);function P(ne){return(0,g.FC)(this,arguments,function*(){const ye=ne.getReader();try{for(;;){const{value:Re,done:ue}=yield(0,g.qq)(ye.read());if(ue)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Re)}}finally{ye.releaseLock()}})}function X(ne){return(0,K.m)(ne?.getReader)}},9360:(dt,be,O)=>{O.d(be,{A:()=>K,e:()=>P});var g=O(4674);function K(X){return(0,g.m)(X?.lift)}function P(X){return ne=>{if(K(ne))return ne.lift(function(fe){try{return X(fe,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(dt,be,O)=>{O.d(be,{U:()=>P,z:()=>K});var g=O(2737);function K(...X){return P(X)}function P(X){return 0===X.length?g.y:1===X.length?X[0]:function(fe){return X.reduce((ye,Re)=>Re(ye),fe)}}},3894:(dt,be,O)=>{O.d(be,{h:()=>P});var g=O(2653),K=O(7599);function P(X){K.z.setTimeout(()=>{const{onUnhandledError:ne}=g.config;if(!ne)throw X;ne(X)})}},9853:(dt,be,O)=>{function g(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(be,{z:()=>g})},5879:(dt,be,O)=>{O.d(be,{$8M:()=>Mi,$WT:()=>Qs,$Z:()=>km,AFp:()=>Yb,AaK:()=>ee,CRH:()=>$E,EJc:()=>pC,F4k:()=>Bh,FYo:()=>tT,FiY:()=>Lo,GfV:()=>Rm,Gpc:()=>We,HDt:()=>Wy,JOm:()=>ho,LFG:()=>$e,Lbi:()=>R0,Lck:()=>dg,MMx:()=>AE,MR2:()=>D0,NdJ:()=>ny,Ojb:()=>Xb,OlP:()=>dn,P3R:()=>zb,PXZ:()=>Dg,Q6J:()=>Up,QGY:()=>q_,Qsj:()=>jx,R0b:()=>Xi,RDi:()=>yh,Rgc:()=>ys,SBq:()=>po,Sil:()=>sw,Suo:()=>sC,TTD:()=>pa,TgZ:()=>ey,VuI:()=>hA,X6Q:()=>eA,XFs:()=>Qe,Xpm:()=>Do,Xq5:()=>Op,Xts:()=>vm,Y36:()=>xh,YKP:()=>sf,YNc:()=>qI,Yjl:()=>Hc,Yz7:()=>pt,Z0I:()=>on,ZZ4:()=>_f,_Bn:()=>BD,_UZ:()=>z_,_c5:()=>Tg,_uU:()=>aE,aQg:()=>Ef,c2e:()=>rw,cJS:()=>_n,cg1:()=>hy,dDg:()=>vC,dqk:()=>Xt,eFA:()=>pw,eJc:()=>jy,ekj:()=>qh,eoX:()=>_C,f3M:()=>wt,g9A:()=>Qb,h0i:()=>si,hGG:()=>RC,hij:()=>uy,iGM:()=>iC,ifc:()=>In,ip1:()=>hf,jDz:()=>ME,kL8:()=>vE,lG2:()=>$c,lqb:()=>Vl,lri:()=>yC,n5z:()=>Tr,oAB:()=>Cs,oxw:()=>zl,q4F:()=>wp,qFp:()=>Ow,qLn:()=>Ip,qOj:()=>qm,qZA:()=>Bp,rWj:()=>lw,rg0:()=>$d,sBO:()=>bC,s_b:()=>ky,soG:()=>_o,tb:()=>Qy,tp0:()=>ti,uIk:()=>R_,vHH:()=>se,vpe:()=>vi,wAp:()=>St,xp6:()=>vc,z2F:()=>dd,zSh:()=>S0,zs3:()=>Bl});var g=O(8645),K=O(7394),P=O(5619),X=O(5592),ne=O(3019),fe=O(2096),ye=O(3020),Re=O(4664),ue=O(3997);function L(i){for(let s in i)if(i[s]===L)return s;throw Error("Could not find renamed property on target object.")}function B(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ee(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ee).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Be(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ae=L({__forward_ref__:L});function We(i){return i.__forward_ref__=We,i.toString=function(){return ee(this())},i}function Le(i){return qe(i)?i():i}function qe(i){return"function"==typeof i&&i.hasOwnProperty(Ae)&&i.__forward_ref__===We}function ke(i){return i&&!!i.\u0275providers}const ft="https://g.co/ng/security#xss";class se extends Error{constructor(s,a){super(function _e(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Y(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i,s){throw new se(-201,!1)}function Ze(i,s){null==i&&function nt(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function pt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function _n(i){return{providers:i.providers||[],imports:i.imports||[]}}function Gn(i){return _r(i,Vn)||_r(i,ws)}function on(i){return null!==Gn(i)}function _r(i,s){return i.hasOwnProperty(s)?i[s]:null}function Oi(i){return i&&(i.hasOwnProperty(Kr)||i.hasOwnProperty(wo))?i[Kr]:null}const Vn=L({\u0275prov:L}),Kr=L({\u0275inj:L}),ws=L({ngInjectableDef:L}),wo=L({ngInjectorDef:L});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let it;function fn(i){const s=it;return it=i,s}function wn(i,s,a){const c=Gn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Qe.Optional?null:void 0!==s?s:void Ce(ee(i))}const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},Kt="__NG_DI_FLAG__",Zr="ngTempTokenPath",Yo=/\n/gm,wi="__source";let ge;function le(i){const s=ge;return ge=i,s}function Ge(i,s=Qe.Default){if(void 0===ge)throw new se(-203,!1);return null===ge?wn(i,void 0,s):ge.get(i,s&Qe.Optional?null:void 0,s)}function $e(i,s=Qe.Default){return(function Dt(){return it}()||Ge)(Le(i),s)}function wt(i,s=Qe.Default){return $e(i,U(s))}function U(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function V(i){const s=[];for(let a=0;a<i.length;a++){const c=Le(i[a]);if(Array.isArray(c)){if(0===c.length)throw new se(900,!1);let d,f=Qe.Default;for(let y=0;y<c.length;y++){const w=c[y],D=Se(w);"number"==typeof D?-1===D?d=w.token:f|=D:d=w}s.push($e(d,f))}else s.push($e(c))}return s}function q(i,s){return i[Kt]=s,i.prototype[Kt]=s,i}function Se(i){return i[Kt]}function Ct(i){return{toString:i}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),In=(()=>{return(i=In||(In={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",In;var i})();const yn={},xt=[],Zt=L({\u0275cmp:L}),Pr=L({\u0275dir:L}),ts=L({\u0275pipe:L}),Io=L({\u0275mod:L}),Pi=L({\u0275fac:L}),Qo=L({__NG_ELEMENT_ID__:L}),Xo=L({__NG_ENV_ID__:L});function qa(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function Fu(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],w=a[c++];i.setAttribute(s,y,w,f)}else{const f=d,y=a[++c];ea(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),c++}}return c}function Jo(i){return 3===i||4===i||6===i}function ea(i){return 64===i.charCodeAt(0)}function Ys(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Lu(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function Lu(i,s,a,c,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const wd="ng-template";function Id(i,s,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==qa(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Vu(i){return 4===i.type&&i.value!==wd}function Ka(i,s,a){return s===(4!==i.type||a?i.value:wd)}function Dd(i,s,a){let c=4;const d=i.attrs||[],f=function jc(i){for(let s=0;s<i.length;s++)if(Jo(i[s]))return s;return i.length}(d);let y=!1;for(let w=0;w<s.length;w++){const D=s[w];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!Ka(i,D,a)||""===D&&1===s.length){if(li(c))return!1;y=!0}}else{const S=8&c?D:s[++w];if(8&c&&null!==i.attrs){if(!Id(i.attrs,S,a)){if(li(c))return!1;y=!0}continue}const F=Cd(8&c?"class":D,d,Vu(i),a);if(-1===F){if(li(c))return!1;y=!0;continue}if(""!==S){let W;W=F>f?"":d[F+1].toLowerCase();const Q=8&c?W:null;if(Q&&-1!==qa(Q,S,0)||2&c&&S!==W){if(li(c))return!1;y=!0}}}}else{if(!y&&!li(c)&&!li(D))return!1;if(y&&li(D))continue;y=!1,c=D|1&c}}return li(c)||y}function li(i){return 0==(1&i)}function Cd(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function bd(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function Ii(i,s,a=!1){for(let c=0;c<s.length;c++)if(Dd(i,s[c],a))return!0;return!1}function ta(i,s){return i?":not("+s.trim()+")":s}function Lg(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!li(y)&&(s+=ta(f,d),d=""),c=y,f=f||!li(c);a++}return""!==d&&(s+=ta(f,d)),s}function Do(i){return Ct(()=>{const s=Bu(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||In.Emulated,styles:i.styles||xt,_:null,schemas:i.schemas||null,tView:null,id:""};zc(a);const c=i.dependencies;return a.directiveDefs=na(c,!1),a.pipeDefs=na(c,!0),a.id=function Ad(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Sd(i){return Bt(i)||ir(i)}function Vg(i){return null!==i}function Cs(i){return Ct(()=>({type:i.type,bootstrap:i.bootstrap||xt,declarations:i.declarations||xt,imports:i.imports||xt,exports:i.exports||xt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Za(i,s){if(null==i)return yn;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}function $c(i){return Ct(()=>{const s=Bu(i);return zc(s),s})}function Hc(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Bt(i){return i[Zt]||null}function ir(i){return i[Pr]||null}function cn(i){return i[ts]||null}function Qs(i){const s=Bt(i)||ir(i)||cn(i);return null!==s&&s.standalone}function Er(i,s){const a=i[Io]||null;if(!a&&!0===s)throw new Error(`Type ${ee(i)} does not have '\u0275mod' property.`);return a}function Bu(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||yn,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||xt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Za(i.inputs,s),outputs:Za(i.outputs)}}function zc(i){i.features?.forEach(s=>s(i))}function na(i,s){if(!i)return null;const a=s?cn:Sd;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Vg)}const Un=0,Xe=1,Pt=2,En=3,di=4,ra=5,kr=6,Co=7,Sn=8,hr=9,bs=10,kt=11,Yr=12,Md=13,ns=14,Rn=15,ia=16,Qa=17,Di=18,sa=19,xd=20,hi=21,Bn=22,Gc=23,bo=24,$t=25,ju=1,rs=2,Qr=7,To=9,sr=11;function jn(i){return Array.isArray(i)&&"object"==typeof i[ju]}function fi(i){return Array.isArray(i)&&!0===i[ju]}function oa(i){return 0!=(4&i.flags)}function Ts(i){return i.componentOffset>-1}function Ss(i){return 1==(1&i.flags)}function fr(i){return!!i.template}function wr(i){return 0!=(512&i[Pt])}function aa(i,s){return i.hasOwnProperty(Pi)?i[Pi]:null}let Vd=Xt.WeakRef??class nu{constructor(s){this.ref=s}deref(){return this.ref}},la=0,ss=null,da=!1;function Kn(i){const s=ss;return ss=i,s}class Xr{constructor(){this.id=la++,this.ref=function ca(i){return new Vd(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=da;da=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{da=s}}producerAccessed(){if(da)throw new Error("");if(null===ss)return;let s=ss.producers.get(this.id);void 0===s?(s={consumerNode:ss.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ss.trackingVersion},ss.producers.set(this.id,s),this.consumers.set(ss.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=ss.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ss?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let jd=null;function $d(i){const s=Kn(null);try{return i()}finally{Kn(s)}}const Xc=()=>{};class Jc extends Xr{constructor(s,a,c){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=Xc,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Kn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Xc,this.watch(this.registerOnCleanup)}finally{Kn(s)}}cleanup(){this.cleanupFn()}}class el{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function pa(){return Hu}function Hu(i){return i.type.prototype.ngOnChanges&&(i.setInput=Bf),iu}function iu(){const i=jf(this),s=i?.current;if(s){const a=i.previous;if(a===yn)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Bf(i,s,a,c){const d=this.declaredInputs[a],f=jf(i)||function zu(i,s){return i[tl]=s}(i,{previous:yn,current:null}),y=f.current||(f.current={}),w=f.previous,D=w[d];y[d]=new el(D&&D.currentValue,s,w===yn),i[c]=s}pa.ngInherit=!0;const tl="__ngSimpleChanges__";function jf(i){return i[tl]||null}const os=function(i,s,a){};function nn(i){for(;Array.isArray(i);)i=i[Un];return i}function ga(i,s){return nn(s[i])}function Dr(i,s){return nn(s[i.index])}function Gd(i,s){return i.data[s]}function Ti(i,s){const a=s[i];return jn(a)?a:a[Un]}function as(i,s){return null==s?null:i[s]}function qd(i){i[Qa]=0}function il(i){1024&i[Pt]||(i[Pt]|=1024,sl(i,1))}function Gu(i){1024&i[Pt]&&(i[Pt]&=-1025,sl(i,-1))}function sl(i,s){let a=i[En];if(null===a)return;a[ra]+=s;let c=a;for(a=a[En];null!==a&&(1===s&&1===c[ra]||-1===s&&0===c[ra]);)a[ra]+=s,c=a,a=a[En]}const bt={lFrame:hl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function al(){return bt.bindingsEnabled}function Ne(){return bt.lFrame.lView}function Gt(){return bt.lFrame.tView}function Cr(){let i=eo();for(;null!==i&&64===i.type;)i=i.parent;return i}function eo(){return bt.lFrame.currentTNode}function Fi(i,s){const a=bt.lFrame;a.currentTNode=i,a.isParent=s}function au(){return bt.lFrame.isParent}function An(){return bt.lFrame.bindingIndex++}function Qd(i,s){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,lu(s)}function lu(i){bt.lFrame.currentDirectiveIndex=i}function du(){return bt.lFrame.currentQueryIndex}function Mo(i){bt.lFrame.currentQueryIndex=i}function us(i){const s=i[Xe];return 2===s.type?s.declTNode:1===s.type?i[kr]:null}function Zu(i,s,a){if(a&Qe.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Qe.Host||(d=us(f),null===d||(f=f[ns],10&d.type))););if(null===d)return!1;s=d,i=f}const c=bt.lFrame=fu();return c.currentTNode=s,c.lView=i,!0}function hu(i){const s=fu(),a=i[Xe];bt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function fu(){const i=bt.lFrame,s=null===i?null:i.child;return null===s?hl(i):s}function hl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Gf(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const zg=Gf;function xo(){const i=Gf();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Jr(){return bt.lFrame.selectedIndex}function to(i){bt.lFrame.selectedIndex=i}function On(){const i=bt.lFrame;return Gd(i.tView,i.selectedIndex)}let fl=!0;function gu(){return fl}function Ro(i){fl=i}function pl(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:R}=f;y&&(i.contentHooks??=[]).push(-a,y),w&&((i.contentHooks??=[]).push(a,w),(i.contentCheckHooks??=[]).push(a,w)),D&&(i.viewHooks??=[]).push(-a,D),S&&((i.viewHooks??=[]).push(a,S),(i.viewCheckHooks??=[]).push(a,S)),null!=R&&(i.destroyHooks??=[]).push(a,R)}}function va(i,s,a){Vi(i,s,3,a)}function gl(i,s,a,c){(3&i[Pt])===a&&Vi(i,s,a,c)}function Qu(i,s){let a=i[Pt];(3&a)===s&&(a&=8191,a+=1,i[Pt]=a)}function Vi(i,s,a,c){const f=c??-1,y=s.length-1;let w=0;for(let D=void 0!==c?65535&i[Qa]:0;D<y;D++)if("number"==typeof s[D+1]){if(w=s[D],null!=c&&w>=c)break}else s[D]<0&&(i[Qa]+=65536),(w<f||-1==f)&&(qf(i,a,s,D),i[Qa]=(4294901760&i[Qa])+D+2),D++}function cs(i,s){os(4,i,s);const a=Kn(null);try{s.call(i)}finally{Kn(a),os(5,i,s)}}function qf(i,s,a,c){const d=a[c]<0,f=a[c+1],w=i[d?-a[c]:a[c]];d?i[Pt]>>13<i[Qa]>>16&&(3&i[Pt])===s&&(i[Pt]+=8192,cs(w,f)):cs(w,f)}const Jt=-1;class mt{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Tt(i){return i!==Jt}function Vr(i){return 32767&i}function Ea(i,s){let a=function rh(i){return i>>16}(i),c=s;for(;a>0;)c=c[ns],a--;return c}let ls=!0;function no(i){const s=ls;return ls=i,s}const Ui=255,wa=5;let ih=0;const Bi={};function Ia(i,s){const a=ec(i,s);if(-1!==a)return a;const c=s[Xe];c.firstCreatePass&&(i.injectorIndex=s.length,Rs(c.data,i),Rs(s,null),Rs(c.blueprint,null));const d=No(i,s),f=i.injectorIndex;if(Tt(d)){const y=Vr(d),w=Ea(d,s),D=w[Xe].data;for(let S=0;S<8;S++)s[f+S]=w[y+S]|D[y+S]}return s[f+8]=d,f}function Rs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ec(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function No(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=Zf(d),null===c)return Jt;if(a++,d=d[ns],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Jt}function ro(i,s,a){!function yl(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Qo)&&(c=a[Qo]),null==c&&(c=a[Qo]=ih++);const d=c&Ui;s.data[i+(d>>wa)]|=1<<d}(i,s,a)}function tc(i,s,a){if(a&Qe.Optional||void 0!==i)return i;Ce()}function Oo(i,s,a,c){if(a&Qe.Optional&&void 0===c&&(c=null),!(a&(Qe.Self|Qe.Host))){const d=i[hr],f=fn(void 0);try{return d?d.get(s,c,a&Qe.Optional):wn(s,c,a&Qe.Optional)}finally{fn(f)}}return tc(c,0,a)}function ds(i,s,a,c=Qe.Default,d){if(null!==i){if(2048&s[Pt]&&!(c&Qe.Self)){const y=function sh(i,s,a,c,d){let f=i,y=s;for(;null!==f&&null!==y&&2048&y[Pt]&&!(512&y[Pt]);){const w=nc(f,y,a,c|Qe.Self,Bi);if(w!==Bi)return w;let D=f.parent;if(!D){const S=y[xd];if(S){const R=S.get(a,Bi,c);if(R!==Bi)return R}D=Zf(y),y=y[ns]}f=D}return d}(i,s,a,c,Bi);if(y!==Bi)return y}const f=nc(i,s,a,c,Bi);if(f!==Bi)return f}return Oo(s,a,c,d)}function nc(i,s,a,c,d){const f=function Ns(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Qo)?i[Qo]:void 0;return"number"==typeof s?s>=0?s&Ui:Ai:s}(a);if("function"==typeof f){if(!Zu(s,i,c))return c&Qe.Host?tc(d,0,c):Oo(s,a,c,d);try{const y=f(c);if(null!=y||c&Qe.Optional)return y;Ce()}finally{zg()}}else if("number"==typeof f){let y=null,w=ec(i,s),D=Jt,S=c&Qe.Host?s[Rn][kr]:null;for((-1===w||c&Qe.SkipSelf)&&(D=-1===w?No(i,s):s[w+8],D!==Jt&&Po(c,!1)?(y=s[Xe],w=Vr(D),s=Ea(D,s)):w=-1);-1!==w;){const R=s[Xe];if(Zn(f,w,R.data)){const F=ji(w,s,a,y,c,S);if(F!==Bi)return F}D=s[w+8],D!==Jt&&Po(c,s[Xe].data[w+8]===S)&&Zn(f,w,s)?(y=R,w=Vr(D),s=Ea(D,s)):w=-1}}return d}function ji(i,s,a,c,d,f){const y=s[Xe],w=y.data[i+8],R=io(w,y,a,null==c?Ts(w)&&ls:c!=y&&0!=(3&w.type),d&Qe.Host&&f===w);return null!==R?so(s,y,R,w):Bi}function io(i,s,a,c,d){const f=i.providerIndexes,y=s.data,w=1048575&f,D=i.directiveStart,R=f>>20,W=d?w+R:i.directiveEnd;for(let Q=c?w:w+R;Q<W;Q++){const De=y[Q];if(Q<D&&a===De||Q>=D&&De.type===a)return Q}if(d){const Q=y[D];if(Q&&fr(Q)&&Q.type===a)return D}return null}function so(i,s,a,c){let d=i[a];const f=s.data;if(function Lr(i){return i instanceof mt}(d)){const y=d;y.resolving&&function Oe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new se(-200,`Circular dependency in DI detected for ${i}${a}`)}(function me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Y(i)}(f[a]));const w=no(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?fn(y.injectImpl):null;Zu(i,c,Qe.Default);try{d=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function eh(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const y=Hu(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==D&&fn(D),no(w),y.resolving=!1,zg()}}return d}function Zn(i,s,a){return!!(a[s+(i>>wa)]&1<<i)}function Po(i,s){return!(i&Qe.Self||i&Qe.Host&&s)}class $i{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ds(this._tNode,this._lView,s,U(c),a)}}function Ai(){return new $i(Cr(),Ne())}function Tr(i){return Ct(()=>{const s=i.prototype.constructor,a=s[Pi]||oo(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Pi]||oo(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function oo(i){return qe(i)?()=>{const s=oo(Le(i));return s&&s()}:aa(i)}function Zf(i){const s=i[Xe],a=s.type;return 2===a?s.declTNode:1===a?i[kr]:null}function Mi(i){return function Kf(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Jo(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Cr(),i)}const Pn="__parameters__";function xi(i,s,a){return Ct(()=>{const c=function Os(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return w.annotation=y,w;function w(D,S,R){const F=D.hasOwnProperty(Pn)?D[Pn]:Object.defineProperty(D,Pn,{value:[]})[Pn];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function zi(i,s){i.forEach(a=>Array.isArray(a)?zi(a,s):s(a))}function ah(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function vl(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function C(i,s,a){let c=k(i,s);return c>=0?i[1|c]=a:(c=~c,function yu(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function M(i,s){const a=k(i,s);if(a>=0)return i[1|a]}function k(i,s){return function Z(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const Lo=q(xi("Optional"),8),ti=q(xi("SkipSelf"),4);function hh(i){return 128==(128&i.flags)}var ho=(()=>((ho=ho||{})[ho.Important=1]="Important",ho[ho.DashCase=2]="DashCase",ho))();const np=new Map;let lc=0;const hc="__ngContext__";function Ar(i,s){jn(s)?(i[hc]=s[sa],function nm(i){np.set(i[sa],i)}(s)):i[hc]=s}let up;function Wi(i,s){return up(i,s)}function Sl(i){const s=i[En];return fi(s)?s[En]:s}function lp(i){return Ml(i[Yr])}function Br(i){return Ml(i[di])}function Ml(i){for(;null!==i&&!fi(i);)i=i[di];return i}function Ho(i,s,a,c,d){if(null!=c){let f,y=!1;fi(c)?f=c:jn(c)&&(y=!0,c=c[Un]);const w=nn(c);0===i&&null!==a?null==d?Ve(s,a,w):J(s,a,w,d||null,!0):1===i&&null!==a?J(s,a,w,d||null,!0):2===i?function Pl(i,s,a){const c=ln(i,s);c&&function rt(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=f&&function wb(i,s,a,c,d){const f=a[Qr];f!==nn(a)&&Ho(s,i,c,f,d);for(let w=sr;w<a.length;w++){const D=a[w];mc(D[Xe],D,i,s,c,f)}}(s,i,f,a,d)}}function Rl(i,s,a){return i.createElement(s,a)}function sm(i,s){const a=i[To],c=a.indexOf(s);Gu(s),a.splice(c,1)}function v(i,s){if(i.length<=sr)return;const a=sr+s,c=i[a];if(c){const d=c[ia];null!==d&&d!==i&&sm(d,c),s>0&&(i[a-1][di]=c[di]);const f=vl(i,sr+s);!function Gv(i,s){mc(i,s,s[kt],2,null,null),s[Un]=null,s[kr]=null}(c[Xe],c);const y=f[Di];null!==y&&y.detachView(f[Xe]),c[En]=null,c[di]=null,c[Pt]&=-129}return c}function h(i,s){if(!(256&s[Pt])){const a=s[kt];s[Gc]?.destroy(),s[bo]?.destroy(),a.destroyNode&&mc(i,s,a,3,null,null),function o0(i){let s=i[Yr];if(!s)return p(i[Xe],i);for(;s;){let a=null;if(jn(s))a=s[Yr];else{const c=s[sr];c&&(a=c)}if(!a){for(;s&&!s[di]&&s!==i;)jn(s)&&p(s[Xe],s),s=s[En];null===s&&(s=i),jn(s)&&p(s[Xe],s),a=s&&s[di]}s=a}}(s)}}function p(i,s){if(!(256&s[Pt])){s[Pt]&=-129,s[Pt]|=256,function T(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof mt)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=d[f[y]],D=f[y+1];os(4,w,D);try{D.call(w)}finally{os(5,w,D)}}else{os(4,d,f);try{f.call(d)}finally{os(5,d,f)}}}}}(i,s),function _(i,s){const a=i.cleanup,c=s[Co];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(s[Co]=null);const d=s[hi];if(null!==d){s[hi]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,s),1===s[Xe].type&&s[kt].destroy();const a=s[ia];if(null!==a&&fi(s[En])){a!==s[En]&&sm(a,s);const c=s[Di];null!==c&&c.detachView(i)}!function rm(i){np.delete(i[sa])}(s)}}function x(i,s,a){return function j(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Un];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===In.None||f===In.Emulated)return null}return Dr(c,a)}}(i,s.parent,a)}function J(i,s,a,c,d){i.insertBefore(s,a,c,d)}function Ve(i,s,a){i.appendChild(s,a)}function He(i,s,a,c,d){null!==c?J(i,s,a,c,d):Ve(i,s,a)}function ln(i,s){return i.parentNode(s)}let xa,cm,lm,Ma=function dp(i,s,a){return 40&i.type?Dr(i,a):null};function pc(i,s,a,c){const d=x(i,c,s),f=s[kt],w=function Nl(i,s,a){return Ma(i,s,a)}(c.parent||s[kr],c,s);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)He(f,d,a[D],w,!1);else He(f,d,a,w,!1);void 0!==xa&&xa(f,c,s,a,d)}function gc(i,s){if(null!==s){const a=s.type;if(3&a)return Dr(s,i);if(4&a)return Ol(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return gc(i,c);{const d=i[s.index];return fi(d)?Ol(-1,d):nn(d)}}if(32&a)return Wi(s,i)()||nn(i[s.index]);{const c=fp(i,s);return null!==c?Array.isArray(c)?c[0]:gc(Sl(i[Rn]),c):gc(i,s.next)}}return null}function fp(i,s){return null!==s?i[Rn][kr].projection[s.projection]:null}function Ol(i,s){const a=sr+i+1;if(a<s.length){const c=s[a],d=c[Xe].firstChild;if(null!==d)return gc(c,d)}return s[Qr]}function kl(i,s,a,c,d,f,y){for(;null!=a;){const w=c[a.index],D=a.type;if(y&&0===s&&(w&&Ar(nn(w),c),a.flags|=2),32!=(32&a.flags))if(8&D)kl(i,s,a.child,c,d,f,!1),Ho(s,i,d,w,f);else if(32&D){const S=Wi(a,c);let R;for(;R=S();)Ho(s,i,d,R,f);Ho(s,i,d,w,f)}else 16&D?Fl(i,s,c,a,d,f):Ho(s,i,d,w,f);a=y?a.projectionNext:a.next}}function mc(i,s,a,c,d,f){kl(a,c,i.firstChild,s,d,f,!1)}function Fl(i,s,a,c,d,f){const y=a[Rn],D=y[kr].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)Ho(s,i,d,D[S],f);else{let S=D;const R=y[En];hh(c)&&(S.flags|=128),kl(i,s,S,R,d,f,!0)}}function u0(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function c0(i,s,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&Fu(i,s,c),null!==d&&u0(i,s,d),null!==f&&function Db(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function yh(i){cm=i}function h0(i){return function Zv(){if(void 0===lm&&(lm=null,Xt.trustedTypes))try{lm=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return lm}()?.createScriptURL(i)||i}class hm{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function zo(i){return i instanceof hm?i.changingThisBreaksApplicationSecurity:i}function pp(i,s){const a=function Mb(i){return i instanceof hm&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ft})`)}return a===s}const Ob=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Mr=(()=>((Mr=Mr||{})[Mr.NONE=0]="NONE",Mr[Mr.HTML=1]="HTML",Mr[Mr.STYLE=2]="STYLE",Mr[Mr.SCRIPT=3]="SCRIPT",Mr[Mr.URL=4]="URL",Mr[Mr.RESOURCE_URL=5]="RESOURCE_URL",Mr))();function Bs(i){const s=Ll();return s?s.sanitize(Mr.URL,i)||"":pp(i,"URL")?zo(i):function Yv(i){return(i=String(i)).match(Ob)?i:"unsafe:"+i}(Y(i))}function E0(i){const s=Ll();if(s)return h0(s.sanitize(Mr.RESOURCE_URL,i)||"");if(pp(i,"ResourceURL"))return h0(zo(i));throw new se(904,!1)}function zb(i,s,a){return function w0(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?E0:Bs}(s,a)(i)}function Ll(){const i=Ne();return i&&i[bs].sanitizer}class dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=pt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vm=new dn("ENVIRONMENT_INITIALIZER"),Jv=new dn("INJECTOR",-1),Ra=new dn("INJECTOR_DEF_TYPES");class I0{get(s,a=rr){if(a===rr){const c=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw c.name="NullInjectorError",c}return a}}function D0(i){return{\u0275providers:i}}function Px(...i){return{\u0275providers:Gb(0,i),\u0275fromNgModule:!0}}function Gb(i,...s){const a=[],c=new Set;let d;return zi(s,f=>{const y=f;_m(y,a,[],c)&&(d||=[],d.push(y))}),void 0!==d&&e_(d,a),a}function e_(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];t_(d,f=>{s.push(f)})}}function _m(i,s,a,c){if(!(i=Le(i)))return!1;let d=null,f=Oi(i);const y=!f&&Bt(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const D=i.ngModule;if(f=Oi(D),!f)return!1;d=D}const w=c.has(d);if(y){if(w)return!1;if(c.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of D)_m(S,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let S;c.add(d);try{zi(f.imports,R=>{_m(R,s,a,c)&&(S||=[],S.push(R))})}finally{}void 0!==S&&e_(S,s)}if(!w){const S=aa(d)||(()=>new d);s.push({provide:d,useFactory:S,deps:xt},{provide:Ra,useValue:d,multi:!0},{provide:vm,useValue:()=>$e(d),multi:!0})}const D=f.providers;null==D||w||t_(D,R=>{s.push(R)})}}return d!==i&&void 0!==i.providers}function t_(i,s){for(let a of i)ke(a)&&(a=a.\u0275providers),Array.isArray(a)?t_(a,s):s(a)}const Wb=L({provide:String,useValue:L});function b0(i){return null!==i&&"object"==typeof i&&Wb in i}function Eh(i){return"function"==typeof i}const S0=new dn("Set Injector scope."),Em={},Fx={};let wm;function Im(){return void 0===wm&&(wm=new I0),wm}class Vl{}class Dm extends Vl{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,x0(s,y=>this.processProvider(y)),this.records.set(Jv,wh(void 0,this)),d.has("environment")&&this.records.set(Vl,wh(void 0,this));const f=this.records.get(S0);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Ra.multi,xt,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=le(this),c=fn(void 0);try{return s()}finally{le(a),fn(c)}}get(s,a=rr,c=Qe.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Xo))return s[Xo](this);c=U(c);const d=le(this),f=fn(void 0);try{if(!(c&Qe.SkipSelf)){let w=this.records.get(s);if(void 0===w){const D=function Lx(i){return"function"==typeof i||"object"==typeof i&&i instanceof dn}(s)&&Gn(s);w=D&&this.injectableDefInScope(D)?wh(r_(s),Em):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&Qe.Self?Im():this.parent).get(s,a=c&Qe.Optional&&a===rr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Zr]=y[Zr]||[]).unshift(ee(s)),d)throw y;return function ae(i,s,a,c){const d=i[Zr];throw s[wi]&&d.unshift(s[wi]),i.message=function ct(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=ee(s);if(Array.isArray(s))d=s.map(ee).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):ee(w)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Yo,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Zr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{fn(f),le(d)}}resolveInjectorInitializers(){const s=le(this),a=fn(void 0);try{const c=this.get(vm.multi,xt,Qe.Self);for(const d of c)d()}finally{le(s),fn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(ee(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(s){let a=Eh(s=Le(s))?s:Le(s&&s.provide);const c=function Kb(i){return b0(i)?wh(void 0,i.useValue):wh(A0(i),Em)}(s);if(Eh(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=wh(void 0,Em,!0),d.factory=()=>V(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Em&&(a.value=Fx,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Zb(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Le(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function r_(i){const s=Gn(i),a=null!==s?s.factory:aa(i);if(null!==a)return a;if(i instanceof dn)throw new se(204,!1);if(i instanceof Function)return function qb(i){const s=i.length;if(s>0)throw function Fo(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new se(204,!1);const a=function qr(i){return i&&(i[Vn]||i[ws])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new se(204,!1)}function A0(i,s,a){let c;if(Eh(i)){const d=Le(i);return aa(d)||r_(d)}if(b0(i))c=()=>Le(i.useValue);else if(function T0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...V(i.deps||[]));else if(function n_(i){return!(!i||!i.useExisting)}(i))c=()=>$e(Le(i.useExisting));else{const d=Le(i&&(i.useClass||i.provide));if(!function M0(i){return!!i.deps}(i))return aa(d)||r_(d);c=()=>new d(...V(i.deps))}return c}function wh(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function x0(i,s){for(const a of i)Array.isArray(a)?x0(a,s):a&&ke(a)?x0(a.\u0275providers,s):s(a)}const Yb=new dn("AppId",{providedIn:"root",factory:()=>Vx}),Vx="ng",Qb=new dn("Platform Initializer"),R0=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xb=new dn("CSP nonce",{providedIn:"root",factory:()=>function vh(){if(void 0!==cm)return cm;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let o_=(i,s)=>null;function a_(i,s){return o_(i,s)}class j0{}class c_{}class H0{resolveComponentFactory(s){throw function $0(i){const s=Error(`No component factory found for ${ee(i)}.`);return s.ngComponent=i,s}(s)}}let Ep=(()=>{class i{}return i.NULL=new H0,i})();function z0(){return xr(Cr(),Ne())}function xr(i,s){return new po(Dr(i,s))}let po=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=z0,i})();function G0(i){return i instanceof po?i.nativeElement:i}class tT{}let jx=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function W0(){const i=Ne(),a=Ti(Cr().index,i);return(jn(a)?a:i)[kt]}(),i})(),q0=(()=>{class i{}return i.\u0275prov=pt({token:i,providedIn:"root",factory:()=>null}),i})();class Rm{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const wp=new Rm("16.1.4"),d_={};function Ul(i){for(;i;){i[Pt]|=64;const s=Sl(i);if(wr(i)&&!s)return i;i=s}return null}function Z0(i){return i.ngOriginalError}class Ip{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Z0(s);for(;a&&Z0(a);)a=Z0(a);return a||null}}const rT=new dn("",{providedIn:"root",factory:()=>!1});function ps(i){return i instanceof Function?i():i}class Cp extends Xr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Ul(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,c){const d=Kn(this);this.trackingVersion++;try{s(a,c)}finally{Kn(d)}}destroy(){this.trackingVersion++}}let yc=null;function aT(){return yc??=new Cp,yc}function uT(i,s){return i[s]??aT()}function p_(i,s){const a=aT();a.hasReadASignal&&(i[s]=yc,a.lView=i,yc=new Cp)}const Ht={};function vc(i){Mh(Gt(),Ne(),Jr()+i,!1)}function Mh(i,s,a,c){if(!c)if(3==(3&s[Pt])){const f=i.preOrderCheckHooks;null!==f&&va(s,f,a)}else{const f=i.preOrderHooks;null!==f&&gl(s,f,0,a)}to(a)}function m_(i,s=null,a=null,c){const d=tI(i,s,a,c);return d.resolveInjectorInitializers(),d}function tI(i,s=null,a=null,c,d=new Set){const f=[a||xt,Px(i)];return c=c||("object"==typeof i?void 0:ee(i)),new Dm(f,s||Im(),c||null,d)}let Bl=(()=>{class i{static create(a,c){if(Array.isArray(a))return m_({name:""},c,a,"");{const d=a.name??"";return m_({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=rr,i.NULL=new I0,i.\u0275prov=pt({token:i,providedIn:"any",factory:()=>$e(Jv)}),i.__NG_ELEMENT_ID__=-1,i})();function xh(i,s=Qe.Default){const a=Ne();return null===a?$e(i,s):ds(Cr(),a,Le(i),s)}function km(){throw new Error("invalid")}function y_(i,s,a,c,d,f,y,w,D,S,R){const F=s.blueprint.slice();return F[Un]=d,F[Pt]=140|c,(null!==S||i&&2048&i[Pt])&&(F[Pt]|=2048),qd(F),F[En]=F[ns]=i,F[Sn]=a,F[bs]=y||i&&i[bs],F[kt]=w||i&&i[kt],F[hr]=D||i&&i[hr]||null,F[kr]=f,F[sa]=function r0(){return lc++}(),F[Bn]=R,F[xd]=S,F[Rn]=2==s.type?i[Rn]:F,F}function _c(i,s,a,c,d){let f=i.data[s];if(null===f)f=function v_(i,s,a,c,d){const f=eo(),y=au(),D=i.data[s]=function Yx(i,s,a,c,d,f){let y=s?s.injectorIndex:-1,w=0;return function ki(){return null!==bt.skipHydrationRootTNode}()&&(w|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=D),null!==f&&(y?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}(i,s,a,c,d),function br(){return bt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function Wu(){const i=bt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Fi(f,!0),f}function Rh(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Fm(i,s,a,c,d){const f=uT(s,Gc),y=Jr(),w=2&c;try{if(to(-1),w&&s.length>$t&&Mh(i,s,$t,!1),os(w?2:0,d),w)f.runInContext(a,c,d);else{const S=Kn(null);try{a(c,d)}finally{Kn(S)}}}finally{w&&null===s[Gc]&&p_(s,Gc),to(y),os(w?3:1,d)}}function __(i,s,a){if(oa(s)){const c=Kn(null);try{const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,a[y],y)}}finally{Kn(c)}}}function nI(i,s,a){al()&&(function cI(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;Ts(a)&&function Vm(i,s,a){const c=Dr(s,i),d=Nh(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const w=jm(i,y_(i,d,null,y,c,s,null,i[bs].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=w}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||Ia(a,s),Ar(c,s);const y=a.initialInputs;for(let w=d;w<f;w++){const D=i.data[w],S=so(s,i,w,a);Ar(S,s),null!==y&&wT(0,w-d,S,D,0,y),fr(D)&&(Ti(a.index,s)[Sn]=so(s,i,w,a))}}(i,s,a,Dr(a,s)),64==(64&a.flags)&&lI(i,s,a))}function E_(i,s,a=Dr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],w=-1===y?a(s,i):i[y];i[d++]=w}}}function Nh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Sp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Sp(i,s,a,c,d,f,y,w,D,S,R){const F=$t+c,W=F+d,Q=function rI(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ht);return a}(F,W),De="function"==typeof S?S():S;return Q[Xe]={type:i,blueprint:Q,template:a,queries:null,viewQuery:w,declTNode:s,data:Q.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:De,incompleteFirstPass:!1,ssrId:R}}let dT=i=>null;function fT(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?pT(a,s,d,f):c.hasOwnProperty(d)&&pT(a,s,c[d],f)}return a}function pT(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function w_(i,s,a,c){if(al()){const d=null===c?null:{"":-1},f=function vT(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Ii(s,y.selectors,!1))if(c||(c=[]),fr(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),c.unshift(...w,y),Lm(i,s,w.length)}else c.unshift(y),Lm(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&I_(i,s,a,y,d,w),d&&function D_(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new se(-301,!1);c.push(s[d],f)}}}(a,c,d)}a.mergedAttrs=Ys(a.mergedAttrs,a.attrs)}function I_(i,s,a,c,d,f){for(let S=0;S<c.length;S++)ro(Ia(a,s),i,c[S].type);!function hI(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let S=0;S<c.length;S++){const R=c[S];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,D=Rh(i,s,c.length,null);for(let S=0;S<c.length;S++){const R=c[S];a.mergedAttrs=Ys(a.mergedAttrs,R.hostAttrs),ET(i,a,s,D,R),_T(D,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const F=R.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!w&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),w=!0),D++}!function gT(i,s,a){const d=s.directiveEnd,f=i.data,y=s.attrs,w=[];let D=null,S=null;for(let R=s.directiveStart;R<d;R++){const F=f[R],W=a?a.get(F):null,De=W?W.outputs:null;D=fT(F.inputs,R,D,W?W.inputs:null),S=fT(F.outputs,R,S,De);const Ue=null===D||null===y||Vu(s)?null:fI(D,R,y);w.push(Ue)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=D,s.outputs=S}(i,a,f)}function lI(i,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function cu(){return bt.lFrame.currentDirectiveIndex}();try{to(f);for(let w=c;w<d;w++){const D=i.data[w],S=s[w];lu(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&dI(D,S)}}finally{to(-1),lu(y)}}function dI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Lm(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function _T(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;fr(s)&&(a[""]=i)}}function ET(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=aa(d.type)),y=new mt(f,fr(d),xh);i.blueprint[c]=y,a[c]=y,function yT(i,s,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function Qx(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,c,f)}}(i,s,c,Rh(i,a,d.hostVars,Ht),d)}function Oa(i,s,a,c,d,f){const y=Dr(i,s);!function Mp(i,s,a,c,d,f,y){if(null==f)i.removeAttribute(s,d,a);else{const w=null==y?Y(f):y(f,c||"",d);i.setAttribute(s,d,w,a)}}(s[kt],y,f,i.value,a,c,d)}function wT(i,s,a,c,d,f){const y=f[s];if(null!==y)for(let w=0;w<y.length;)Um(c,a,y[w++],y[w++],y[w++])}function Um(i,s,a,c,d){const f=Kn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{Kn(f)}}function fI(i,s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let w=0;w<y.length;w+=2)if(y[w]===s){c.push(f,y[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function pI(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function Bm(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];Mo(a[c]),y.contentQueries(2,s[f],f)}}}function jm(i,s){return i[Yr]?i[Md][di]=s:i[Yr]=s,i[Md]=s,s}function $m(i,s,a){Mo(0);const c=Kn(null);try{s(i,a)}finally{Kn(c)}}function Hm(i){return i[Co]||(i[Co]=[])}function gI(i){return i.cleanup||(i.cleanup=[])}function C_(i,s){const a=i[hr],c=a?a.get(Ip,null):null;c&&c.handleError(s)}function b_(i,s,a,c,d){for(let f=0;f<a.length;){const y=a[f++],w=a[f++];Um(i.data[y],s[y],c,w,d)}}function T_(i,s){const a=Ti(s,i),c=a[Xe];!function IT(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[Un];null!==d&&null===a[Bn]&&(a[Bn]=a_(d,a[hr])),zm(c,a,a[Sn])}function zm(i,s,a){hu(s);try{const c=i.viewQuery;null!==c&&$m(1,c,a);const d=i.template;null!==d&&Fm(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Bm(i,s),i.staticViewQueries&&$m(2,i.viewQuery,a);const f=i.components;null!==f&&function yI(i,s){for(let a=0;a<s.length;a++)T_(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Pt]&=-5,xo()}}let vI=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=new Jc(a,S=>{this.all.has(S)&&this.queue.set(S,f)},d);let w;this.all.add(y),y.notify();const D=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=pt({token:i,providedIn:"root",factory:()=>new i}),i})();function Gm(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?f=w:1==f?d=Be(d,w):2==f&&(c=Be(c,w+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function xp(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(nn(f)),fi(f)){for(let w=sr;w<f.length;w++){const D=f[w],S=D[Xe].firstChild;null!==S&&xp(D[Xe],D,S,c)}f[Qr]!==f[Un]&&c.push(f[Qr])}const y=a.type;if(8&y)xp(i,s,a.child,c);else if(32&y){const w=Wi(a,s);let D;for(;D=w();)c.push(D)}else if(16&y){const w=fp(s,a);if(Array.isArray(w))c.push(...w);else{const D=Sl(s[Rn]);xp(D[Xe],D,w,c,!0)}}a=d?a.projectionNext:a.next}return c}function $l(i,s,a,c=!0){const d=s[bs].rendererFactory;d.begin&&d.begin();try{S_(i,s,i.template,a)}catch(y){throw c&&C_(s,y),y}finally{d.end&&d.end(),s[bs].effectManager?.flush()}}function S_(i,s,a,c){const d=s[Pt];if(256!=(256&d)){s[bs].effectManager?.flush(),hu(s);try{qd(s),function Ku(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Fm(i,s,a,2,c);const y=3==(3&d);if(y){const S=i.preOrderCheckHooks;null!==S&&va(s,S,null)}else{const S=i.preOrderHooks;null!==S&&gl(s,S,0,null),Qu(s,0)}if(function wI(i){for(let s=lp(i);null!==s;s=Br(s)){if(!s[rs])continue;const a=s[To];for(let c=0;c<a.length;c++){il(a[c])}}}(s),EI(s,2),null!==i.contentQueries&&Bm(i,s),y){const S=i.contentCheckHooks;null!==S&&va(s,S)}else{const S=i.contentHooks;null!==S&&gl(s,S,1),Qu(s,1)}!function Kx(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=uT(s,bo);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)to(~f);else{const y=f,w=a[++d],D=a[++d];Qd(w,y),c.runInContext(D,2,s[y])}}}finally{null===s[bo]&&p_(s,bo),to(-1)}}(i,s);const w=i.components;null!==w&&II(s,w,0);const D=i.viewQuery;if(null!==D&&$m(2,D,c),y){const S=i.viewCheckHooks;null!==S&&va(s,S)}else{const S=i.viewHooks;null!==S&&gl(s,S,2),Qu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Pt]&=-73,Gu(s)}finally{xo()}}}function EI(i,s){for(let a=lp(i);null!==a;a=Br(a))for(let c=sr;c<a.length;c++)A_(a[c],s)}function ST(i,s,a){A_(Ti(s,i),a)}function A_(i,s){if(!function Wd(i){return 128==(128&i[Pt])}(i))return;const a=i[Xe];if(80&i[Pt]&&0===s||1024&i[Pt]||2===s)S_(a,i,a.template,i[Sn]);else if(i[ra]>0){EI(i,1);const d=i[Xe].components;null!==d&&II(i,d,1)}}function II(i,s,a){for(let c=0;c<s.length;c++)ST(i,s[c],a)}class Oh{get rootNodes(){const s=this._lView,a=s[Xe];return xp(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(s){this._lView[Sn]=s}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[En];if(fi(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(v(s,c),vl(a,c))}this._attachedToViewContainer=!1}h(this._lView[Xe],this._lView)}onDestroy(s){!function Xs(i,s){if(256==(256&i[Pt]))throw new se(911,!1);null===i[hi]&&(i[hi]=[]),i[hi].push(s)}(this._lView,s)}markForCheck(){Ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){$l(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function im(i,s){mc(i,s,s[kt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=s}}class Jx extends Oh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;$l(s[Xe],s,s[Sn],!1)}checkNoChanges(){}get context(){return null}}class AT extends Ep{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Bt(s);return new Wm(a,this.ngModule)}}function MT(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class CI{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=U(c);const d=this.injector.get(s,d_,c);return d!==d_||a===d_?d:this.parentInjector.get(s,a,c)}}class Wm extends c_{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=MT(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return MT(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function xf(i){return i.map(Lg).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof Vl?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new CI(s,f):s,w=y.get(tT,null);if(null===w)throw new se(407,!1);const R={rendererFactory:w,sanitizer:y.get(q0,null),effectManager:y.get(vI,null)},F=w.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",Q=c?function iI(i,s,a,c){const f=c.get(rT,!1)||a===In.ShadowDom,y=i.selectRootElement(s,f);return function Ap(i){dT(i)}(y),y}(F,c,this.componentDef.encapsulation,y):Rl(F,W,function DI(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),Je=this.componentDef.signals?4608:this.componentDef.onPush?576:528,vt=Sp(0,null,null,1,0,null,null,null,null,null,null),xe=y_(null,vt,null,Je,null,null,R,F,y,null,null);let Vt,qt;hu(xe);try{const sn=this.componentDef;let Ei,pv=null;sn.findHostDirectiveDefs?(Ei=[],pv=new Map,sn.findHostDirectiveDefs(sn,Ei,pv),Ei.push(sn)):Ei=[sn];const LC=function RT(i,s){const a=i[Xe],c=$t;return i[c]=s,_c(a,c,2,"#host",null)}(xe,Q),yA=function tR(i,s,a,c,d,f,y){const w=d[Xe];!function nR(i,s,a,c){for(const d of i)s.mergedAttrs=Ys(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Gm(s,s.mergedAttrs,!0),null!==a&&c0(c,a,s))}(c,i,s,y);let D=null;null!==s&&(D=a_(s,d[hr]));const S=f.rendererFactory.createRenderer(s,a);let R=16;a.signals?R=4096:a.onPush&&(R=64);const F=y_(d,Nh(a),null,R,d[i.index],i,f,S,null,null,D);return w.firstCreatePass&&Lm(w,i,c.length-1),jm(d,F),d[i.index]=F}(LC,Q,sn,Ei,xe,R,F);qt=Gd(vt,$t),Q&&function NT(i,s,a,c){if(c)Fu(i,a,["ng-version",wp.full]);else{const{attrs:d,classes:f}=function Uu(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!li(d))break;d=f}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Fu(i,a,d),f&&f.length>0&&u0(i,a,f.join(" "))}}(F,sn,Q,c),void 0!==a&&function OT(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(qt,this.ngContentSelectors,a),Vt=function rR(i,s,a,c,d,f){const y=Cr(),w=d[Xe],D=Dr(y,d);I_(w,d,y,a,null,c);for(let R=0;R<a.length;R++)Ar(so(d,w,y.directiveStart+R,y),d);lI(w,d,y),D&&Ar(D,d);const S=so(d,w,y.directiveStart+y.componentOffset,y);if(i[Sn]=d[Sn]=S,null!==f)for(const R of f)R(S,s);return __(w,y,i),S}(yA,sn,Ei,pv,xe,[Rp]),zm(vt,xe,null)}finally{xo()}return new eR(this.componentType,Vt,xr(qt,xe),xe,qt)}}class eR extends j0{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Jx(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;b_(f[Xe],f,d,s,a),this.previousInputValues.set(s,a),Ul(Ti(this._tNode.index,f))}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Rp(){const i=Cr();pl(Ne()[Xe],i)}function qm(i){let s=function bI(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(fr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new se(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Np(i.inputs),y.inputTransforms=Np(i.inputTransforms),y.declaredInputs=Np(i.declaredInputs),y.outputs=Np(i.outputs);const w=d.hostBindings;w&&iR(i,w);const D=d.viewQuery,S=d.contentQueries;if(D&&PT(i,D),S&&kT(i,S),B(i.inputs,d.inputs),B(i.declaredInputs,d.declaredInputs),B(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),B(y.inputTransforms,d.inputTransforms)),fr(d)&&d.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===qm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function TI(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Ys(d.hostAttrs,a=Ys(a,d.hostAttrs))}}(c)}function Np(i){return i===yn?{}:i===xt?[]:i}function PT(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function kT(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function iR(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function Op(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Go(i){return!!$s(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function $s(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Hr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function R_(i,s,a,c){const d=Ne();return Hr(d,An(),s)&&(Gt(),Oa(On(),d,i,s,a,c)),R_}function qI(i,s,a,c,d,f,y,w){const D=Ne(),S=Gt(),R=i+$t,F=S.firstCreatePass?function WI(i,s,a,c,d,f,y,w,D){const S=s.consts,R=_c(s,i,4,y||null,as(S,w));w_(s,a,R,as(S,D)),pl(s,R);const F=R.tView=Sp(2,R,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,R),F.queries=s.queries.embeddedTView(R)),R}(R,S,D,s,a,c,d,f,y):S.data[R];Fi(F,!1);const W=Qm(S,D,F,i);gu()&&pc(S,D,W,F),Ar(W,D),jm(D,D[R]=pI(W,D,W,F)),Ss(F)&&nI(S,D,F),null!=y&&E_(D,F,w)}let Qm=function Xm(i,s,a,c){return Ro(!0),s[kt].createComment("")};function Up(i,s,a){const c=Ne();return Hr(c,An(),s)&&function js(i,s,a,c,d,f,y,w){const D=Dr(s,a);let R,S=s.inputs;!w&&null!=S&&(R=S[c])?(b_(i,a,R,c,d),Ts(s)&&function aI(i,s){const a=Ti(s,i);16&a[Pt]||(a[Pt]|=64)}(a,s.index)):3&s.type&&(c=function oI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,f.setProperty(D,c,d))}(Gt(),On(),c,i,s,c[kt],a,!1),Up}function H_(i,s,a,c,d){const y=d?"class":"style";b_(i,a,s.inputs[y],y,c)}function ey(i,s,a,c){const d=Ne(),f=Gt(),y=$t+i,w=d[kt],D=f.firstCreatePass?function BT(i,s,a,c,d,f){const y=s.consts,D=_c(s,i,2,c,as(y,d));return w_(s,a,D,as(y,f)),null!==D.attrs&&Gm(D,D.attrs,!1),null!==D.mergedAttrs&&Gm(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,f,d,s,a,c):f.data[y],S=KI(f,d,D,w,s,i);d[y]=S;const R=Ss(D);return Fi(D,!0),c0(w,S,D),32!=(32&D.flags)&&gu()&&pc(f,d,S,D),0===function $f(){return bt.lFrame.elementDepthCount}()&&Ar(S,d),function Zd(){bt.lFrame.elementDepthCount++}(),R&&(nI(f,d,D),__(f,D,d)),null!==c&&E_(d,D),ey}function Bp(){let i=Cr();au()?function ll(){bt.lFrame.isParent=!1}():(i=i.parent,Fi(i,!1));const s=i;(function ya(i){return bt.skipHydrationRootTNode===i})(s)&&function zf(){bt.skipHydrationRootTNode=null}(),function Hf(){bt.lFrame.elementDepthCount--}();const a=Gt();return a.firstCreatePass&&(pl(a,i),oa(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function ml(i){return 0!=(8&i.flags)}(s)&&H_(a,s,Ne(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ju(i){return 0!=(16&i.flags)}(s)&&H_(a,s,Ne(),s.stylesWithoutHost,!1),Bp}function z_(i,s,a,c){return ey(i,s,a,c),Bp(),z_}let KI=(i,s,a,c,d,f)=>(Ro(!0),Rl(c,d,function Yu(){return bt.lFrame.currentNamespace}()));function q_(i){return!!i&&"function"==typeof i.then}function Bh(i){return!!i&&"function"==typeof i.subscribe}function ny(i,s,a,c){const d=Ne(),f=Gt(),y=Cr();return function Gp(i,s,a,c,d,f,y){const w=Ss(c),S=i.firstCreatePass&&gI(i),R=s[Sn],F=Hm(s);let W=!0;if(3&c.type||y){const Ue=Dr(c,s),Je=y?y(Ue):Ue,vt=F.length,xe=y?qt=>y(nn(qt[c.index])):c.index;let Vt=null;if(!y&&w&&(Vt=function QI(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const w=s[Co],D=d[f+2];return w.length>D?w[D]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,c.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=f,Vt.__ngLastListenerFn__=f,W=!1;else{f=JI(c,s,R,f,!1);const qt=a.listen(Je,d,f);F.push(f,qt),S&&S.push(d,xe,vt,vt+1)}}else f=JI(c,s,R,f,!1);const Q=c.outputs;let De;if(W&&null!==Q&&(De=Q[d])){const Ue=De.length;if(Ue)for(let Je=0;Je<Ue;Je+=2){const sn=s[De[Je]][De[Je+1]].subscribe(f),Ei=F.length;F.push(f,sn),S&&S.push(d,c.index,Ei,-(Ei+1))}}}(f,d,d[kt],y,i,s,c),ny}function XI(i,s,a,c){try{return os(6,s,a),!1!==a(c)}catch(d){return C_(i,d),!1}finally{os(7,s,a)}}function JI(i,s,a,c,d){return function f(y){if(y===Function)return c;Ul(i.componentOffset>-1?Ti(i.index,s):s);let D=XI(s,a,c,y),S=f.__ngNextListenerFn__;for(;S;)D=XI(s,a,S,y)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&y.preventDefault(),D}}function zl(i=1){return function Xd(i){return(bt.lFrame.contextLView=function Gg(i,s){for(;i>0;)s=s[ns],i--;return s}(i,bt.lFrame.contextLView))[Sn]}(i)}function zh(i,s){return i<<17|s<<2}function Cu(i){return i>>17&32767}function Kp(i){return 2|i}function bu(i){return(131068&i)>>2}function Zp(i,s){return-131069&i|s<<2}function Wl(i){return 1|i}function sy(i,s,a,c,d){const f=i[a+1],y=null===s;let w=c?Cu(f):bu(f),D=!1;for(;0!==w&&(!1===D||y);){const R=i[w+1];tD(i[w],s)&&(D=!0,i[w+1]=c?Wl(R):Kp(R)),w=c?Cu(R):bu(R)}D&&(i[a+1]=c?Kp(f):Wl(f))}function tD(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&k(i,s)>=0}function qh(i,s){return function qi(i,s,a,c){const d=Ne(),f=Gt(),y=function Li(i){const s=bt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function iE(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[Jr()],y=function sD(i,s){return s>=i.expandoStartIndex}(i,a);(function oE(i,s){return 0!=(i.flags&(s?8:16))})(f,c)&&null===s&&!y&&(s=!1),s=function KT(i,s,a,c){const d=function dl(i){const s=bt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=yo(a=ql(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=ql(d,i,s,a,c),null===f){let D=function ZT(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==bu(c))return i[Cu(c)]}(i,s,c);void 0!==D&&Array.isArray(D)&&(D=ql(null,i,s,D[1],c),D=yo(D,s.attrs,c),function YT(i,s,a,c){i[Cu(a?s.classBindings:s.styleBindings)]=c}(i,s,c,D))}else f=function QT(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=yo(c,i[f].hostAttrs,a);return yo(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function eE(i,s,a,c,d,f){let y=f?s.classBindings:s.styleBindings,w=Cu(y),D=bu(y);i[c]=a;let R,S=!1;if(Array.isArray(a)?(R=a[1],(null===R||k(a,R)>0)&&(S=!0)):R=a,d)if(0!==D){const W=Cu(i[w+1]);i[c+1]=zh(W,w),0!==W&&(i[W+1]=Zp(i[W+1],c)),i[w+1]=function qp(i,s){return 131071&i|s<<17}(i[w+1],c)}else i[c+1]=zh(w,0),0!==w&&(i[w+1]=Zp(i[w+1],c)),w=c;else i[c+1]=zh(D,0),0===w?w=c:i[D+1]=Zp(i[D+1],c),D=c;S&&(i[c+1]=Kp(i[c+1])),sy(i,R,c,!0),sy(i,R,c,!1),function iy(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&k(f,s)>=0&&(a[c+1]=Wl(a[c+1]))}(s,R,i,c,f),y=zh(w,D),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,c)}}(f,i,y,c),s!==Ht&&Hr(d,y,s)&&function uD(i,s,a,c,d,f,y,w){if(!(3&s.type))return;const D=i.data,S=D[w+1],R=function ry(i){return 1==(1&i)}(S)?cD(D,s,a,d,bu(S),y):void 0;Qp(R)||(Qp(f)||function eD(i){return 2==(2&i)}(S)&&(f=cD(D,null,a,d,w,y)),function Ib(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:ho.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ho.Important),i.setStyle(a,c,d,f))}}(c,y,ga(Jr(),a),d,f))}(f,f.data[Jr()],d,d[kt],i,d[y+1]=function XT(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ee(zo(i)))),i}(s,a),c,y)}(i,s,null,!0),qh}function ql(i,s,a,c,d){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=s[w],c=yo(c,f.hostAttrs,d),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function yo(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),C(i,y,!!a||s[++f]))}return void 0===i?null:i}function cD(i,s,a,c,d,f){const y=null===s;let w;for(;d>0;){const D=i[d],S=Array.isArray(D),R=S?D[1]:D,F=null===R;let W=a[d+1];W===Ht&&(W=F?xt:void 0);let Q=F?M(W,c):R===c?W:void 0;if(S&&!Qp(Q)&&(Q=M(D,c)),Qp(Q)&&(w=Q,y))return w;const De=i[d+1];d=y?Cu(De):bu(De)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(w=M(D,c))}return w}function Qp(i){return void 0!==i}function aE(i,s=""){const a=Ne(),c=Gt(),d=i+$t,f=c.firstCreatePass?_c(c,d,1,s,null):c.data[d],y=ay(c,a,f,s,i);a[d]=y,gu()&&pc(c,a,y,f),Fi(f,!1)}let ay=(i,s,a,c,d)=>(Ro(!0),function xl(i,s){return i.createText(s)}(s[kt],c));function uy(i,s,a){const c=Ne(),d=function kh(i,s,a,c){return Hr(i,An(),a)?s+Y(a)+c:Ht}(c,i,s,a);return d!==Ht&&function Ec(i,s,a){const c=ga(s,i);!function Vs(i,s,a){i.setValue(s,a)}(i[kt],c,a)}(c,Jr(),d),uy}const Tu=void 0;var ID=["en",[["a","p"],["AM","PM"],Tu],[["AM","PM"],Tu,Tu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tu,"{1} 'at' {0}",Tu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yE(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Su={};function hy(i){const s=function fy(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=_E(s);if(a)return a;const c=s.split("-")[0];if(a=_E(c),a)return a;if("en"===c)return ID;throw new se(701,!1)}function vE(i){return hy(i)[St.PluralCase]}function _E(i){return i in Su||(Su[i]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[i]),Su[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Kl="en-US";let CD=Kl;function bE(i,s,a,c,d){if(i=Le(i),Array.isArray(i))for(let f=0;f<i.length;f++)bE(i[f],s,a,c,d);else{const f=Gt(),y=Ne();let w=Eh(i)?i:Le(i.provide),D=A0(i);const S=Cr(),R=1048575&S.providerIndexes,F=S.directiveStart,W=S.providerIndexes>>20;if(Eh(i)||!i.multi){const Q=new mt(D,d,xh),De=TE(w,s,d?R:R+W,F);-1===De?(ro(Ia(S,y),f,w),td(f,i,s.length),s.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Q),y.push(Q)):(a[De]=Q,y[De]=Q)}else{const Q=TE(w,s,R+W,F),De=TE(w,s,R,R+W),Je=De>=0&&a[De];if(d&&!Je||!d&&!(Q>=0&&a[Q])){ro(Ia(S,y),f,w);const vt=function mS(i,s,a,c,d){const f=new mt(i,a,xh);return f.multi=[],f.index=s,f.componentProviders=0,Mu(f,d,c&&!a),f}(d?UD:nd,a.length,d,c,D);!d&&Je&&(a[De].providerFactory=vt),td(f,i,s.length,0),s.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(vt),y.push(vt)}else td(f,i,Q>-1?Q:De,Mu(a[d?De:Q],D,!d&&c));!d&&c&&Je&&a[De].componentProviders++}}}function td(i,s,a,c){const d=Eh(s),f=function kx(i){return!!i.useClass}(s);if(d||f){const D=(f?Le(s.useClass):s).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const R=S.indexOf(a);-1===R?S.push(a,[c,D]):S[R+1].push(c,D)}else S.push(a,D)}}}function Mu(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function TE(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function nd(i,s,a,c){return lg(this.multi,[])}function UD(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=so(a,a[Xe],this.providerFactory.index,c);f=w.slice(0,y),lg(d,f);for(let D=y;D<w.length;D++)f.push(w[D])}else f=[],lg(d,f);return f}function lg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function BD(i,s=[]){return a=>{a.providersResolver=(c,d)=>function Ko(i,s,a){const c=Gt();if(c.firstCreatePass){const d=fr(i);bE(a,c.data,c.blueprint,d,!0),bE(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class si{}class sf{}function dg(i,s){return new oi(i,s??null,[])}class oi extends si{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AT(this);const d=Er(s);this._bootstrapComponents=ps(d.bootstrap),this._r3Injector=tI(s,a,[{provide:si,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver},...c],ee(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class SE extends sf{constructor(s){super(),this.moduleType=s}create(s){return new oi(this.moduleType,s,[])}}class Zo extends si{constructor(s){super(),this.componentFactoryResolver=new AT(this),this.instance=null;const a=new Dm([...s.providers,{provide:si,useValue:this},{provide:Ep,useValue:this.componentFactoryResolver}],s.parent||Im(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function AE(i,s,a=null){return new Zo({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Sy=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Gb(0,a.type),d=c.length>0?AE([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=pt({token:i,providedIn:"environment",factory:()=>new i($e(Vl))}),i})();function ME(i){i.getStandaloneInjector=s=>s.get(Sy).getOrCreateStandaloneInjector(i)}function La(i){return s=>{setTimeout(i,void 0,s)}}const vi=class SS extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const D=s;d=D.next?.bind(D),f=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(f=La(f),d&&(d=La(d)),y&&(y=La(y)));const w=super.subscribe({next:d,error:f,complete:y});return s instanceof K.w0&&s.add(w),w}};function Ry(){return this._results[Symbol.iterator]()}class Va{get changes(){return this._changes||(this._changes=new vi)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Va.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Ry)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function Sr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function co(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ys=(()=>{class i{}return i.__NG_ELEMENT_ID__=JD,i})();const hg=ys,Mc=class extends hg{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a,null)}createEmbeddedViewImpl(s,a,c){const y=this._declarationTContainer.tView,w=y_(this._declarationLView,y,s,4096&this._declarationLView[Pt]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);w[ia]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[Di];return null!==S&&(w[Di]=S.createEmbeddedView(y)),zm(y,w,s),new Oh(w)}};function JD(){return Nu(Cr(),Ne())}function Nu(i,s){return 4&i.type?new Mc(s,i,xr(i,s)):null}let ky=(()=>{class i{}return i.__NG_ELEMENT_ID__=AS,i})();function AS(){return Ln(Cr(),Ne())}const tC=ky,FE=class extends tC{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return xr(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const s=No(this._hostTNode,this._hostLView);if(Tt(s)){const a=Ea(s,this._hostLView),c=Vr(s);return new $i(a[Xe].data[c+8],a)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=ui(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-sr}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const w=s.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(w,d,false),w}createComponent(s,a,c,d,f){const y=s&&!function ba(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const Ue=a||{};w=Ue.index,c=Ue.injector,d=Ue.projectableNodes,f=Ue.environmentInjector||Ue.ngModuleRef}const D=y?s:new Wm(Bt(s)),S=c||this.parentInjector;if(!f&&null==D.ngModule){const Je=(y?S:this.parentInjector).get(Vl,null);Je&&(f=Je)}Bt(D.componentType??{});const Q=D.create(S,d,null,f);return this.insertImpl(Q.hostView,w,false),Q}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView,f=d[Xe];if(function rl(i){return fi(i[En])}(d)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const S=d[En],R=new FE(S,S[kr],S[En]);R.detach(R.indexOf(s))}}const y=this._adjustIndex(a),w=this._lContainer;if(function Wv(i,s,a,c){const d=sr+c,f=a.length;c>0&&(a[d-1][di]=s),c<f-sr?(s[di]=a[d],ah(a,sr+c,s)):(a.push(s),s[di]=null),s[En]=a;const y=s[ia];null!==y&&a!==y&&function a0(i,s){const a=i[To];s[Rn]!==s[En][En][Rn]&&(i[rs]=!0),null===a?i[To]=[s]:a.push(s)}(y,s);const w=s[Di];null!==w&&w.insertView(i),s[Pt]|=128}(f,d,w,y),!c){const D=Ol(y,w),S=d[kt],R=ln(S,w[Qr]);null!==R&&function s0(i,s,a,c,d,f){c[Un]=d,c[kr]=s,mc(i,c,a,1,d,f)}(f,w[kr],S,d,R,D)}return s.attachToViewContainerRef(),ah(Fy(w),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=ui(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=v(this._lContainer,a);c&&(vl(Fy(this._lContainer),a),h(c[Xe],c))}detach(s){const a=this._adjustIndex(s,-1),c=v(this._lContainer,a);return c&&null!=vl(Fy(this._lContainer),a)?new Oh(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function ui(i){return i[8]}function Fy(i){return i[8]||(i[8]=[])}function Ln(i,s){let a;const c=s[i.index];return fi(c)?a=c:(a=pI(c,s,null,i),s[i.index]=a,jm(s,a)),LE(a,s,i,c),new FE(a,i,s)}let LE=function VE(i,s,a,c){if(i[Qr])return;let d;d=8&a.type?nn(c):function xc(i,s){const a=i[kt],c=a.createComment(""),d=Dr(s,i);return J(a,ln(a,d),c,function gi(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[Qr]=d};class Ly{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ly(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yt{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new Yt(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==aC(s,a).matches&&this.queries[a].setDirty()}}class vn{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Rc{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Rc(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class mg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new mg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,UE(a,f)),this.matchTNodeWithReadOption(s,a,io(a,s,f,!1,!1))}else c===ys?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,io(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===po||d===ky||d===ys&&4&a.type)this.addMatch(a.index,-2);else{const f=io(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function UE(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function BE(i,s,a,c){return-1===a?function nC(i,s){return 11&i.type?xr(i,s):4&i.type?Nu(i,s):null}(s,i):-2===a?function rC(i,s,a){return a===po?xr(s,i):a===ys?Nu(s,i):a===ky?Ln(s,i):void 0}(i,s,c):so(i,i[Xe],a,s)}function jE(i,s,a,c){const d=s[Di].queries[c];if(null===d.matches){const f=i.data,y=a.matches,w=[];for(let D=0;D<y.length;D+=2){const S=y[D];w.push(S<0?null:BE(s,f[S],y[D+1],a.metadata.read))}d.matches=w}return d.matches}function Vy(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=jE(i,s,d,a);for(let w=0;w<f.length;w+=2){const D=f[w];if(D>0)c.push(y[w/2]);else{const S=f[w+1],R=s[-D];for(let F=sr;F<R.length;F++){const W=R[F];W[ia]===W[En]&&Vy(W[Xe],W,S,c)}if(null!==R[To]){const F=R[To];for(let W=0;W<F.length;W++){const Q=F[W];Vy(Q[Xe],Q,S,c)}}}}}return c}function iC(i){const s=Ne(),a=Gt(),c=du();Mo(c+1);const d=aC(a,c);if(i.dirty&&function jg(i){return 4==(4&i[Pt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Vy(a,s,c,[]):jE(a,s,d,c);i.reset(f,G0),i.notifyOnChanges()}return!0}return!1}function sC(i,s,a,c){const d=Gt();if(d.firstCreatePass){const f=Cr();(function oC(i,s,a){null===i.queries&&(i.queries=new Rc),i.queries.track(new mg(s,a))})(d,new vn(s,a,c),f.index),function NS(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function HE(i,s,a){const c=new Va(4==(4&a));(function Zx(i,s,a,c){const d=Hm(s);d.push(a),i.firstCreatePass&&gI(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[Di]&&(s[Di]=new Yt),s[Di].queries.push(new Ly(c))}(d,Ne(),a)}function $E(){return function RS(i,s){return i[Di].queries[s].queryList}(Ne(),du())}function aC(i,s){return i.queries.getByIndex(s)}function jy(i){return!!Er(i)}const hf=new dn("Application Initializer");let nw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=wt(hf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(q_(f))a.push(f);else if(Bh(f)){const y=new Promise((w,D)=>{f.subscribe({complete:w,error:D})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),rw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const _o=new dn("LocaleId",{providedIn:"root",factory:()=>wt(_o,Qe.Optional|Qe.SkipSelf)||function ff(){return typeof $localize<"u"&&$localize.locale||Kl}()}),pC=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Wy=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class iw{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let sw=(()=>{class i{compileModuleSync(a){return new SE(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=ps(Er(a).declarations).reduce((y,w)=>{const D=Bt(w);return D&&y.push(new Wm(D)),y},[]);return new iw(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function qy(...i){}class Xi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vi(!1),this.onMicrotaskEmpty=new vi(!1),this.onStable=new vi(!1),this.onError=new vi(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Ky(){const i="function"==typeof Xt.requestAnimationFrame;let s=Xt[i?"requestAnimationFrame":"setTimeout"],a=Xt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function wg(i){const s=()=>{!function aw(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,ld(i),i.isCheckStableRunning=!0,Zy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),ld(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,w)=>{try{return pf(i),a.invokeTask(d,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Ig(i)}},onInvoke:(a,c,d,f,y,w,D)=>{try{return pf(i),a.invoke(d,f,y,w,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),Ig(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,ld(i),Zy(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xi.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(Xi.isInAngularZone())throw new se(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,gC,qy,qy);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const gC={};function Zy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function ld(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function pf(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ig(i){i._nesting--,Zy(i)}class mC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vi,this.onMicrotaskEmpty=new vi,this.onStable=new vi,this.onError=new vi}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const uw=new dn("",{providedIn:"root",factory:cw});function cw(){const i=wt(Xi);let s=!0;const a=new X.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new X.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{Xi.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{Xi.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ne.T)(a,c.pipe((0,ye.B)()))}const yC=new dn(""),lw=new dn("");let dw,vC=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dw||(function ZS(i){dw=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)($e(Xi),$e(_C),$e(lw))},i.\u0275prov=pt({token:i,factory:i.\u0275fac}),i})(),_C=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return dw?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Oc=null;const Yy=new dn("AllowMultipleToken"),Pc=new dn("PlatformDestroyListeners"),Qy=new dn("appBootstrapListener");class Dg{constructor(s,a){this.name=s,this.token=a}}function pw(i,s,a=[]){const c=`Platform: ${s}`,d=new dn(c);return(f=[])=>{let y=mw();if(!y||y.injector.get(Yy,!1)){const w=[...a,...f,{provide:d,useValue:!0}];i?i(w):function za(i){if(Oc&&!Oc.get(Yy,!1))throw new se(400,!1);(function Xy(){!function $u(i){jd=i}(()=>{throw new se(600,!1)})})(),Oc=i;const s=i.get(gf);(function fw(i){i.get(Qb,null)?.forEach(a=>a())})(i)}(function gw(i=[],s){return Bl.create({name:s,providers:[{provide:S0,useValue:"platform"},{provide:Pc,useValue:new Set([()=>Oc=null])},...i]})}(w,c))}return function wC(i){const s=mw();if(!s)throw new se(401,!1);return s}()}}function mw(){return Oc?.get(gf)??null}let gf=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function QS(i="zone.js",s){return"noop"===i?new mC:"zone.js"===i?new Xi(s):i}(c?.ngZone,function ev(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function jD(i,s,a){return new oi(i,s,a)}(a.moduleType,this.injector,function fd(i){return[{provide:Xi,useFactory:i},{provide:vm,multi:!0,useFactory:()=>{const s=wt(JS,{optional:!0});return()=>s.initialize()}},{provide:IC,useFactory:XS},{provide:uw,useFactory:cw}]}(()=>d)),y=f.injector.get(Ip,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:D=>{y.handleError(D)}});f.onDestroy(()=>{nv(this._modules,f),w.unsubscribe()})}),function yw(i,s,a){try{const c=a();return q_(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const w=f.injector.get(nw);return w.runInitializers(),w.donePromise.then(()=>(function gy(i){Ze(i,"Expected localeId to be defined"),"string"==typeof i&&(CD=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(_o,Kl)||Kl),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=tv({},c);return function YS(i,s,a){const c=new SE(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(dd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new se(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Pc,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)($e(Bl))},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function tv(i,s){return Array.isArray(s)?s.reduce(tv,i):{...i,...s}}let dd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(IC),this.zoneIsStable=wt(uw),this.componentTypes=[],this.components=[],this.isStable=wt(Wy).hasPendingTasks.pipe((0,Re.w)(a=>a?(0,fe.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,ye.B)()),this._injector=wt(Vl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof c_;if(!this._injector.get(nw).done)throw!d&&Qs(a),new se(405,!1);let y;y=d?a:this._injector.get(Ep).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function EC(i){return i.isBoundToModule}(y)?void 0:this._injector.get(si),S=y.create(Bl.NULL,[],c||y.selector,w),R=S.location.nativeElement,F=S.injector.get(yC,null);return F?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),nv(this.components,S),F?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;nv(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Qy,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>nv(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new se(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function nv(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const IC=new dn("",{providedIn:"root",factory:()=>wt(Ip).handleError.bind(void 0)});function XS(){const i=wt(Xi),s=wt(Ip);return a=>i.runOutsideAngular(()=>s.handleError(a))}let JS=(()=>{class i{constructor(){this.zone=wt(Xi),this.applicationRef=wt(dd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=pt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function eA(){return!1}let bC=(()=>{class i{}return i.__NG_ELEMENT_ID__=rv,i})();function rv(i){return function pd(i,s,a){if(Ts(i)&&!a){const c=Ti(i.index,s);return new Oh(c,c)}return 47&i.type?new Oh(s[Rn],s):null}(Cr(),Ne(),16==(16&i))}class Pu{constructor(){}supports(s){return Go(s)}create(s){return new oA(s)}}const AC=(i,s)=>s;class oA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||AC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<cv(c,d,f)?a:c,w=cv(y,d,f),D=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const S=w-d,R=D-d;if(S!=R){for(let W=0;W<S;W++){const Q=W<f.length?f[W]:f[W]=0,De=Q+W;R<=De&&De<S&&(f[W]=Q+1)}f[y.previousIndex]=R-S}}w!==D&&s(y,w,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Go(s))throw new se(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),c=!0),a=a._next}else d=0,function LT(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new MC(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new uv),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class MC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aA{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class uv{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new aA,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cv(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Iw{constructor(){}supports(s){return s instanceof Map||$s(s)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||$s(s)))throw new se(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new Cw(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class Cw{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bw(){return new _f([new Pu])}let _f=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||bw()),deps:[[i,new ti,new Lo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new se(901,!1)}}return i.\u0275prov=pt({token:i,providedIn:"root",factory:bw}),i})();function lv(){return new Ef([new Iw])}let Ef=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||lv()),deps:[[i,new ti,new Lo]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new se(901,!1)}}return i.\u0275prov=pt({token:i,providedIn:"root",factory:lv}),i})();const Tg=pw(null,"core",[]);let RC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)($e(dd))},i.\u0275mod=Cs({type:i}),i.\u0275inj=_n({}),i})();function hA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Ow(i){const s=Bt(i);if(!s)return null;const a=new Wm(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(dt,be,O)=>{O.d(be,{Z:()=>We});var g=O(9058),K=O(4537),P=O(7592),X=O(7879);class ne{constructor(qe,ke){this._delegate=qe,this.firebase=ke,(0,P._addComponent)(qe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(qe,ke=P._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(qe);return!ft.isInitialized()&&"EXPLICIT"===(null===(ht=ft.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:ke})}_removeServiceInstance(qe,ke=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(ke)}_addComponent(qe){(0,P._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,P._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function ue(){const Le=function Re(Le){const qe={},ke={__esModule:!0,initializeApp:function se(Oe,re={}){const G=P.initializeApp(Oe,re);if((0,g.r3)(qe,G.name))return qe[G.name];const Ce=new Le(G,ke);return qe[G.name]=Ce,Ce},app:ft,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Y(Oe){const re=Oe.name,G=re.replace("-compat","");if(P._registerComponent(Oe)&&"PUBLIC"===Oe.type){const Ce=(gt=ft())=>{if("function"!=typeof gt[G])throw ye.create("invalid-app-argument",{appName:re});return gt[G]()};void 0!==Oe.serviceProps&&(0,g.ZB)(Ce,Oe.serviceProps),ke[G]=Ce,Le.prototype[G]=function(...gt){return this._getService.bind(this,re).apply(this,Oe.multipleInstances?gt:[])}}return"PUBLIC"===Oe.type?ke[G]:null},removeApp:function ht(Oe){delete qe[Oe]},useAsService:function me(Oe,re){return"serverAuth"===re?null:re},modularAPIs:P}};function ft(Oe){if(!(0,g.r3)(qe,Oe=Oe||P._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Oe});return qe[Oe]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function _e(){return Object.keys(qe).map(Oe=>qe[Oe])}}),ft.App=Le,ke}(ne);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function qe(ke){(0,g.ZB)(Le,ke)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Le}(),B=new X.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=L;!function Ae(Le){(0,P.registerVersion)("@firebase/app-compat","0.2.13",Le)}()},7592:(dt,be,O)=>{O.r(be),O.d(be,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>_n,_DEFAULT_ENTRY_NAME:()=>ie,_addComponent:()=>Ie,_addOrOverwriteComponent:()=>Me,_apps:()=>pe,_clearComponents:()=>_t,_components:()=>ve,_getProvider:()=>nt,_registerComponent:()=>Ze,_removeServiceInstance:()=>Mn,deleteApp:()=>qr,getApp:()=>on,getApps:()=>_r,initializeApp:()=>Gn,onLog:()=>Kr,registerVersion:()=>Vn,setLogLevel:()=>ws});var g=O(5861),K=O(4537),P=O(7879),X=O(9058),ne=O(1878);class fe{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(le=>{if(function ye(ge){const $=ge.getComponent();return"VERSION"===$?.type}(le)){const Ge=le.getImmediate();return`${Ge.library}/${Ge.version}`}return null}).filter(le=>le).join(" ")}}const Re="@firebase/app",L=new P.Yd("@firebase/app"),ie="[DEFAULT]",de={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,ve=new Map;function Ie(ge,$){try{ge.container.addComponent($)}catch(le){L.debug(`Component ${$.name} failed to register with FirebaseApp ${ge.name}`,le)}}function Me(ge,$){ge.container.addOrOverwriteComponent($)}function Ze(ge){const $=ge.name;if(ve.has($))return L.debug(`There were multiple attempts to register component ${$}.`),!1;ve.set($,ge);for(const le of pe.values())Ie(le,ge);return!0}function nt(ge,$){const le=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return le&&le.triggerHeartbeat(),ge.container.getProvider($)}function Mn(ge,$,le=ie){nt(ge,$).clearInstance(le)}function _t(){ve.clear()}const pt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mn{constructor($,le,Ge){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},le),this._name=le.name,this._automaticDataCollectionEnabled=le.automaticDataCollectionEnabled,this._container=Ge,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}const _n="9.23.0";function Gn(ge,$={}){let le=ge;"object"!=typeof $&&($={name:$});const Ge=Object.assign({name:ie,automaticDataCollectionEnabled:!1},$),$e=Ge.name;if("string"!=typeof $e||!$e)throw pt.create("bad-app-name",{appName:String($e)});if(le||(le=(0,X.aH)()),!le)throw pt.create("no-options");const Et=pe.get($e);if(Et){if((0,X.vZ)(le,Et.options)&&(0,X.vZ)(Ge,Et.config))return Et;throw pt.create("duplicate-app",{appName:$e})}const wt=new K.H0($e);for(const V of ve.values())wt.addComponent(V);const U=new mn(le,Ge,wt);return pe.set($e,U),U}function on(ge=ie){const $=pe.get(ge);if(!$&&ge===ie&&(0,X.aH)())return Gn();if(!$)throw pt.create("no-app",{appName:ge});return $}function _r(){return Array.from(pe.values())}function qr(ge){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(ge){const $=ge.name;pe.has($)&&(pe.delete($),yield Promise.all(ge.container.getProviders().map(le=>le.delete())),ge.isDeleted=!0)})).apply(this,arguments)}function Vn(ge,$,le){var Ge;let $e=null!==(Ge=de[ge])&&void 0!==Ge?Ge:ge;le&&($e+=`-${le}`);const Et=$e.match(/\s|\//),wt=$.match(/\s|\//);if(Et||wt){const U=[`Unable to register library "${$e}" with version "${$}":`];return Et&&U.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),Et&&wt&&U.push("and"),wt&&U.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void L.warn(U.join(" "))}Ze(new K.wA(`${$e}-version`,()=>({library:$e,version:$}),"VERSION"))}function Kr(ge,$){if(null!==ge&&"function"!=typeof ge)throw pt.create("invalid-log-argument");(0,P.Am)(ge,$)}function ws(ge){(0,P.Ub)(ge)}const wo="firebase-heartbeat-database",Qe=1,it="firebase-heartbeat-store";let Dt=null;function fn(){return Dt||(Dt=(0,ne.X3)(wo,Qe,{upgrade:(ge,$)=>{0===$&&ge.createObjectStore(it)}}).catch(ge=>{throw pt.create("idb-open",{originalErrorMessage:ge.message})})),Dt}function Wn(){return(Wn=(0,g.Z)(function*(ge){try{return yield(yield fn()).transaction(it).objectStore(it).get(Is(ge))}catch($){if($ instanceof X.ZR)L.warn($.message);else{const le=pt.create("idb-get",{originalErrorMessage:$?.message});L.warn(le.message)}}})).apply(this,arguments)}function Xt(ge,$){return xn.apply(this,arguments)}function xn(){return(xn=(0,g.Z)(function*(ge,$){try{const Ge=(yield fn()).transaction(it,"readwrite");yield Ge.objectStore(it).put($,Is(ge)),yield Ge.done}catch(le){if(le instanceof X.ZR)L.warn(le.message);else{const Ge=pt.create("idb-set",{originalErrorMessage:le?.message});L.warn(Ge.message)}}})).apply(this,arguments)}function Is(ge){return`${ge.name}!${ge.options.appId}`}class Kt{constructor($){this.container=$,this._heartbeatsCache=null;const le=this.container.getProvider("app").getImmediate();this._storage=new Yo(le),this._heartbeatsCachePromise=this._storage.read().then(Ge=>(this._heartbeatsCache=Ge,Ge))}triggerHeartbeat(){var $=this;return(0,g.Z)(function*(){const Ge=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=Zr();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==$e&&!$._heartbeatsCache.heartbeats.some(Et=>Et.date===$e))return $._heartbeatsCache.heartbeats.push({date:$e,agent:Ge}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(Et=>{const wt=new Date(Et.date).valueOf();return Date.now()-wt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,g.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const le=Zr(),{heartbeatsToSend:Ge,unsentEntries:$e}=function Ds(ge,$=1024){const le=[];let Ge=ge.slice();for(const $e of ge){const Et=le.find(wt=>wt.agent===$e.agent);if(Et){if(Et.dates.push($e.date),dr(le)>$){Et.dates.pop();break}}else if(le.push({agent:$e.agent,dates:[$e.date]}),dr(le)>$){le.pop();break}Ge=Ge.slice(1)}return{heartbeatsToSend:le,unsentEntries:Ge}}($._heartbeatsCache.heartbeats),Et=(0,X.L)(JSON.stringify({version:2,heartbeats:Ge}));return $._heartbeatsCache.lastSentHeartbeatDate=le,$e.length>0?($._heartbeatsCache.heartbeats=$e,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),Et})()}}function Zr(){return(new Date).toISOString().substring(0,10)}class Yo{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,g.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function wn(ge){return Wn.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var le=this;return(0,g.Z)(function*(){var Ge;if(yield le._canUseIndexedDBPromise){const Et=yield le.read();return Xt(le.app,{lastSentHeartbeatDate:null!==(Ge=$.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Et.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var le=this;return(0,g.Z)(function*(){var Ge;if(yield le._canUseIndexedDBPromise){const Et=yield le.read();return Xt(le.app,{lastSentHeartbeatDate:null!==(Ge=$.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...$.heartbeats]})}})()}}function dr(ge){return(0,X.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function wi(ge){Ze(new K.wA("platform-logger",$=>new fe($),"PRIVATE")),Ze(new K.wA("heartbeat",$=>new Kt($),"PRIVATE")),Vn(Re,"0.9.13",ge),Vn(Re,"0.9.13","esm2017"),Vn("fire-js","")}("")},4097:(dt,be,O)=>{O.d(be,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp});var g=O(7592);(0,g.registerVersion)("firebase","9.23.0","app")},120:(dt,be,O)=>{O.d(be,{Z:()=>g.Z});var g=O(3399);g.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(dt,be,O)=>{O.r(be);var g=O(5861),K=O(3399),P=O(9058),X=O(7592),ne=O(7582),fe=O(7879),ye=O(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Le=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new fe.Yd("@firebase/auth");function se(v,...h){ht.logLevel<=fe.in.ERROR&&ht.error(`Auth (${X.SDK_VERSION}): ${v}`,...h)}function _e(v,...h){throw re(v,...h)}function Y(v,...h){return re(v,...h)}function me(v,h,p){const _=Object.assign(Object.assign({},Le()),{[h]:p});return new P.LL("auth","Firebase",_).create(h,{appName:v.name})}function Oe(v,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&_e(v,"argument-error"),me(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function re(v,...h){if("string"!=typeof v){const p=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=v.name),v._errorFactory.create(p,..._)}return qe.create(v,...h)}function G(v,h,...p){if(!v)throw re(h,...p)}function Ce(v){const h="INTERNAL ASSERTION FAILED: "+v;throw se(h),new Error(h)}function gt(v,h){v||Ce(h)}function Qt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function pn(){return"http:"===gn()||"https:"===gn()}function gn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class nr{constructor(h,p){this.shortDelay=h,this.longDelay=p,gt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pn()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ie(v,h){gt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class de{static initialize(h,p,_){this.fetchImpl=h,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new nr(3e4,6e4);function Ie(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function Me(v,h,p,_){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,g.Z)(function*(v,h,p,_,T={}){return nt(v,T,(0,g.Z)(function*(){let x={},j={};_&&("GET"===h?j=_:x={body:JSON.stringify(_)});const J=(0,P.xO)(Object.assign({key:v.config.apiKey},j)).slice(1),Ve=yield v._getAdditionalHeaders();return Ve["Content-Type"]="application/json",v.languageCode&&(Ve["X-Firebase-Locale"]=v.languageCode),de.fetch()(pt(v,v.config.apiHost,p,J),Object.assign({method:h,headers:Ve,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function nt(v,h,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(v,h,p){v._canInitEmulator=!1;const _=Object.assign(Object.assign({},pe),h);try{const T=new mn(v),x=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const j=yield x.json();if("needConfirmation"in j)throw _n(v,"account-exists-with-different-credential",j);if(x.ok&&!("errorMessage"in j))return j;{const J=x.ok?j.errorMessage:j.error.message,[Ve,He]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw _n(v,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ve)throw _n(v,"email-already-in-use",j);if("USER_DISABLED"===Ve)throw _n(v,"user-disabled",j);const rt=_[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw me(v,rt,He);_e(v,rt)}}catch(T){if(T instanceof P.ZR)throw T;_e(v,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function _t(v,h,p,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,g.Z)(function*(v,h,p,_,T={}){const x=yield Me(v,h,p,_,T);return"mfaPendingCredential"in x&&_e(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function pt(v,h,p,_){const T=`${h}${p}?${_}`;return v.config.emulator?ie(v.config,T):`${v.config.apiScheme}://${T}`}class mn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(Y(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(v,h,p){const _={appName:v.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const T=Y(v,h,_);return T.customData._tokenResponse=p,T}function on(){return(on=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function qr(){return(qr=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Vn(){return(Vn=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Kr(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Qe(){return(Qe=(0,g.Z)(function*(v,h=!1){const p=(0,P.m9)(v),_=yield p.getIdToken(h),T=Dt(_);G(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,j=x?.sign_in_provider;return{claims:T,token:_,authTime:Kr(it(T.auth_time)),issuedAtTime:Kr(it(T.iat)),expirationTime:Kr(it(T.exp)),signInProvider:j||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function it(v){return 1e3*Number(v)}function Dt(v){const[h,p,_]=v.split(".");if(void 0===h||void 0===p||void 0===_)return se("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(p);return T?JSON.parse(T):(se("Failed to decode base64 JWT payload"),null)}catch(T){return se("Caught error parsing JWT payload as JSON",T?.toString()),null}}function wn(v,h){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(v,h,p=!1){if(p)return h;try{return yield h}catch(_){throw _ instanceof P.ZR&&function Xt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(_)&&v.auth.currentUser===v&&(yield v.auth.signOut()),_}})).apply(this,arguments)}class xn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield p.iteration()}),_)}iteration(){var h=this;return(0,g.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Is{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kr(this.lastLoginAt),this.creationTime=Kr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(v){return rr.apply(this,arguments)}function rr(){return rr=(0,g.Z)(function*(v){var h;const p=v.auth,_=yield v.getIdToken(),T=yield wn(v,function Oi(v,h){return Vn.apply(this,arguments)}(p,{idToken:_}));G(T?.users.length,p,"internal-error");const x=T.users[0];v._notifyReloadListener(x);const j=null!==(h=x.providerUserInfo)&&void 0!==h&&h.length?function Yo(v){return v.map(h=>{var{providerId:p}=h,_=(0,ne._T)(h,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(x.providerUserInfo):[],J=function Ds(v,h){return[...v.filter(_=>!h.some(T=>T.providerId===_.providerId)),...h]}(v.providerData,j),rt=!!v.isAnonymous&&!(v.email&&x.passwordHash||J?.length),at={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:J,metadata:new Is(x.createdAt,x.lastLoginAt),isAnonymous:rt};Object.assign(v,at)}),rr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(v){const h=(0,P.m9)(v);yield tn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(v,h){const p=yield nt(v,{},(0,g.Z)(function*(){const _=(0,P.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:x}=v.config,j=pt(v,T,"/v1/token",`key=${x}`),J=yield v._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(j,{method:"POST",headers:J,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){G(h.idToken,"internal-error"),G(typeof h.idToken<"u","internal-error"),G(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function fn(v){const h=Dt(v);return G(h,"internal-error"),G(typeof h.exp<"u","internal-error"),G(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var _=this;return(0,g.Z)(function*(){return G(!_.accessToken||_.refreshToken,h,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var _=this;return(0,g.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:j}=yield function dr(v,h){return wi.apply(this,arguments)}(h,p);_.updateTokensAndExpiration(T,x,Number(j))})()}updateTokensAndExpiration(h,p,_){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,p){const{refreshToken:_,accessToken:T,expirationTime:x}=p,j=new ge;return _&&(G("string"==typeof _,"internal-error",{appName:h}),j.refreshToken=_),T&&(G("string"==typeof T,"internal-error",{appName:h}),j.accessToken=T),x&&(G("number"==typeof x,"internal-error",{appName:h}),j.expirationTime=x),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ge,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function $(v,h){G("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class le{constructor(h){var{uid:p,auth:_,stsTokenManager:T}=h,x=(0,ne._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Is(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,g.Z)(function*(){const _=yield wn(p,p.stsTokenManager.getToken(p.auth,h));return G(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(h){return function wo(v){return Qe.apply(this,arguments)}(this,h)}reload(){return function Kt(v){return Zr.apply(this,arguments)}(this)}_assign(h){this!==h&&(G(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new le(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var _=this;return(0,g.Z)(function*(){let T=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield tn(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,g.Z)(function*(){const p=yield h.getIdToken();return yield wn(h,function Gn(v,h){return on.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var _,T,x,j,J,Ve,He,rt;const at=null!==(_=p.displayName)&&void 0!==_?_:void 0,ln=null!==(T=p.email)&&void 0!==T?T:void 0,gi=null!==(x=p.phoneNumber)&&void 0!==x?x:void 0,Nl=null!==(j=p.photoURL)&&void 0!==j?j:void 0,dp=null!==(J=p.tenantId)&&void 0!==J?J:void 0,Ma=null!==(Ve=p._redirectEventId)&&void 0!==Ve?Ve:void 0,xa=null!==(He=p.createdAt)&&void 0!==He?He:void 0,hp=null!==(rt=p.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:pc,emailVerified:gc,isAnonymous:fp,providerData:Ol,stsTokenManager:Pl}=p;G(pc&&Pl,h,"internal-error");const qv=ge.fromJSON(this.name,Pl);G("string"==typeof pc,h,"internal-error"),$(at,h.name),$(ln,h.name),G("boolean"==typeof gc,h,"internal-error"),G("boolean"==typeof fp,h,"internal-error"),$(gi,h.name),$(Nl,h.name),$(dp,h.name),$(Ma,h.name),$(xa,h.name),$(hp,h.name);const kl=new le({uid:pc,auth:h,email:ln,emailVerified:gc,displayName:at,isAnonymous:fp,photoURL:Nl,phoneNumber:gi,tenantId:dp,stsTokenManager:qv,createdAt:xa,lastLoginAt:hp});return Ol&&Array.isArray(Ol)&&(kl.providerData=Ol.map(mc=>Object.assign({},mc))),Ma&&(kl._redirectEventId=Ma),kl}static _fromIdTokenResponse(h,p,_=!1){return(0,g.Z)(function*(){const T=new ge;T.updateFromServerResponse(p);const x=new le({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:_});return yield tn(x),x})()}}const Ge=new Map;function $e(v){gt(v instanceof Function,"Expected a class definition");let h=Ge.get(v);return h?(gt(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,Ge.set(v,h),h)}const wt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(p,_){var T=this;return(0,g.Z)(function*(){T.storage[p]=_})()}_get(p){var _=this;return(0,g.Z)(function*(){const T=_.storage[p];return void 0===T?null:T})()}_remove(p){var _=this;return(0,g.Z)(function*(){delete _.storage[p]})()}_addListener(p,_){}_removeListener(p,_){}}return v.type="NONE",v})();function U(v,h,p){return`firebase:${v}:${h}:${p}`}class V{constructor(h,p,_){this.persistence=h,this.auth=p,this.userKey=_;const{config:T,name:x}=this.auth;this.fullUserKey=U(this.userKey,T.apiKey,x),this.fullPersistenceKey=U("persistence",T.apiKey,x),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,g.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?le._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,g.Z)(function*(){if(p.persistence===h)return;const _=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,_?p.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,_="authUser"){return(0,g.Z)(function*(){if(!p.length)return new V($e(wt),h,_);const T=(yield Promise.all(p.map(function(){var He=(0,g.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return He.apply(this,arguments)}}()))).filter(He=>He);let x=T[0]||$e(wt);const j=U(_,h.config.apiKey,h.name);let J=null;for(const He of p)try{const rt=yield He._get(j);if(rt){const at=le._fromJSON(h,rt);He!==x&&(J=at),x=He;break}}catch{}const Ve=T.filter(He=>He._shouldAllowMigration);return x._shouldAllowMigration&&Ve.length?(x=Ve[0],J&&(yield x._set(j,J.toJSON())),yield Promise.all(p.map(function(){var He=(0,g.Z)(function*(rt){if(rt!==x)try{yield rt._remove(j)}catch{}});return function(rt){return He.apply(this,arguments)}}())),new V(x,h,_)):new V(x,h,_)})()}}function q(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ct(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Se(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(In(h))return"Blackberry";if(yn(h))return"Webos";if(ae(h))return"Safari";if((h.includes("chrome/")||ct(h))&&!h.includes("edge/"))return"Chrome";if(Ut(h))return"Android";{const _=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Se(v=(0,P.z$)()){return/firefox\//i.test(v)}function ae(v=(0,P.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ct(v=(0,P.z$)()){return/crios\//i.test(v)}function Ct(v=(0,P.z$)()){return/iemobile/i.test(v)}function Ut(v=(0,P.z$)()){return/android/i.test(v)}function In(v=(0,P.z$)()){return/blackberry/i.test(v)}function yn(v=(0,P.z$)()){return/webos/i.test(v)}function xt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Io(v=(0,P.z$)()){return xt(v)||Ut(v)||yn(v)||In(v)||/windows phone/i.test(v)||Ct(v)}function Qo(v,h=[]){let p;switch(v){case"Browser":p=q((0,P.z$)());break;case"Worker":p=`${q((0,P.z$)())}-${v}`;break;default:p=v}const _=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${X.SDK_VERSION}/${_}`}function qa(){return(qa=(0,g.Z)(function*(v){return(yield Me(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fu(v,h){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(v,h){return Me(v,"GET","/v2/recaptchaConfig",Ie(v,h))})).apply(this,arguments)}function ea(v){return void 0!==v&&void 0!==v.getResponse}function Ys(v){return void 0!==v&&void 0!==v.enterprise}class Lu{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Id(v){return new Promise((h,p)=>{const _=document.createElement("script");_.setAttribute("src",v),_.onload=h,_.onerror=T=>{const x=Y("internal-error");x.customData=T,p(x)},_.type="text/javascript",_.charset="UTF-8",function wd(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(_)})}function Vu(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Cd{constructor(h){this.type="recaptcha-enterprise",this.auth=qn(h)}verify(h="verify",p=!1){var _=this;return(0,g.Z)(function*(){function x(){return x=(0,g.Z)(function*(J){if(!p){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Ve=(0,g.Z)(function*(He,rt){Fu(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(at=>{if(void 0!==at.recaptchaKey){const ln=new Lu(at);return null==J.tenantId?J._agentRecaptchaConfig=ln:J._tenantRecaptchaConfigs[J.tenantId]=ln,He(ln.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(at=>{rt(at)})});return function(He,rt){return Ve.apply(this,arguments)}}())}),x.apply(this,arguments)}function j(J,Ve,He){const rt=window.grecaptcha;Ys(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(J,{action:h}).then(at=>{Ve(at)}).catch(()=>{Ve("NO_RECAPTCHA")})}):He(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Ve)=>{(function T(J){return x.apply(this,arguments)})(_.auth).then(He=>{if(!p&&Ys(window.grecaptcha))j(He,J,Ve);else{if(typeof window>"u")return void Ve(new Error("RecaptchaVerifier is only supported in browser"));Id("https://www.google.com/recaptcha/enterprise.js?render="+He).then(()=>{j(He,J,Ve)}).catch(rt=>{Ve(rt)})}}).catch(He=>{Ve(He)})})})()}}function Ii(v,h,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,g.Z)(function*(v,h,p,_=!1){const T=new Cd(v);let x;try{x=yield T.verify(p)}catch{x=yield T.verify(p,!0)}const j=Object.assign({},h);return Object.assign(j,_?{captchaResp:x}:{captchaResponse:x}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class jc{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const _=x=>new Promise((j,J)=>{try{j(h(x))}catch(Ve){J(Ve)}});_.onAbort=p,this.queue.push(_);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,g.Z)(function*(){if(p.auth.currentUser===h)return;const _=[];try{for(const T of p.queue)yield T(h),T.onAbort&&_.push(T.onAbort)}catch(T){_.reverse();for(const x of _)try{x()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class bd{constructor(h,p,_,T){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ta(this),this.idTokenSubscription=new ta(this),this.beforeStateQueue=new jc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(h,p){var _=this;return p&&(this._popupRedirectResolver=$e(p)),this._initializationPromise=this.queue((0,g.Z)(function*(){var T,x;if(!_._deleted&&(_.persistenceManager=yield V.create(_,h),!_._deleted)){if(null!==(T=_._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(p),_.lastNotifiedUid=(null===(x=_.currentUser)||void 0===x?void 0:x.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,g.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,g.Z)(function*(){var _;const T=yield p.assertedPersistence.getCurrentUser();let x=T,j=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const J=null===(_=p.redirectUser)||void 0===_?void 0:_._redirectEventId,Ve=x?._redirectEventId,He=yield p.tryRedirectSignIn(h);(!J||J===Ve)&&He?.user&&(x=He.user,j=!0)}if(!x)return p.directlySetCurrentUser(null);if(!x._redirectEventId){if(j)try{yield p.beforeStateQueue.runMiddleware(x)}catch(J){x=T,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(J))}return x?p.reloadAndSetCurrentUserOrClear(x):p.directlySetCurrentUser(null)}return G(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===x._redirectEventId?p.directlySetCurrentUser(x):p.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(h){var p=this;return(0,g.Z)(function*(){let _=null;try{_=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,g.Z)(function*(){try{yield tn(h)}catch(_){if("auth/network-request-failed"!==_?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Tn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,g.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,g.Z)(function*(){const _=h?(0,P.m9)(h):null;return _&&G(_.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(_&&_._clone(p))})()}_updateCurrentUser(h,p=!1){var _=this;return(0,g.Z)(function*(){if(!_._deleted)return h&&G(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),p||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,g.Z)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,g.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,g.Z)(function*(){yield p.assertedPersistence.setPersistence($e(h))}))}initializeRecaptchaConfig(){var h=this;return(0,g.Z)(function*(){const p=yield Fu(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new Lu(p);null==h.tenantId?h._agentRecaptchaConfig=_:h._tenantRecaptchaConfigs[h.tenantId]=_,_.emailPasswordEnabled&&new Cd(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new P.LL("auth","Firebase",h())}onAuthStateChanged(h,p,_){return this.registerStateListener(this.authStateSubscription,h,p,_)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,_){return this.registerStateListener(this.idTokenSubscription,h,p,_)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var _=this;return(0,g.Z)(function*(){const T=yield _.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,g.Z)(function*(){if(!p.redirectPersistenceManager){const _=h&&$e(h)||p._popupRedirectResolver;G(_,p,"argument-error"),p.redirectPersistenceManager=yield V.create(p,[$e(_._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,g.Z)(function*(){var _,T;return p._isInitialized&&(yield p.queue((0,g.Z)(function*(){}))),(null===(_=p._currentUser)||void 0===_?void 0:_._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,g.Z)(function*(){if(h===p.currentUser)return p.queue((0,g.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,_,T){if(this._deleted)return()=>{};const x="function"==typeof p?p:p.next.bind(p),j=this._isInitialized?Promise.resolve():this._initializationPromise;return G(j,this,"internal-error"),j.then(()=>x(this.currentUser)),"function"==typeof p?h.addObserver(p,_,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,g.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Qo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,g.Z)(function*(){var p;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();T&&(_["X-Firebase-Client"]=T);const x=yield h._getAppCheckToken();return x&&(_["X-Firebase-AppCheck"]=x),_})()}_getAppCheckToken(){var h=this;return(0,g.Z)(function*(){var p;const _=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return _?.error&&function ft(v,...h){ht.logLevel<=fe.in.WARN&&ht.warn(`Auth (${X.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function qn(v){return(0,P.m9)(v)}class ta{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,P.ne)(p=>this.observer=p)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Do(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function Sd(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Cs{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ce("not implemented")}_getIdTokenResponse(h){return Ce("not implemented")}_linkToIdToken(h,p){return Ce("not implemented")}_getReauthenticationResolver(h){return Ce("not implemented")}}function Rf(v,h){return Za.apply(this,arguments)}function Za(){return(Za=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:resetPassword",Ie(v,h))})).apply(this,arguments)}function $c(v,h){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:update",Ie(v,h))})).apply(this,arguments)}function cn(v,h){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithPassword",Ie(v,h))})).apply(this,arguments)}function Er(v,h){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:sendOobCode",Ie(v,h))})).apply(this,arguments)}function na(){return(na=(0,g.Z)(function*(v,h){return Er(v,h)})).apply(this,arguments)}function Ya(v,h){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,g.Z)(function*(v,h){return Er(v,h)})).apply(this,arguments)}function Un(v,h){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(v,h){return Er(v,h)})).apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(v,h){return Er(v,h)})).apply(this,arguments)}function ra(){return(ra=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}function Co(){return(Co=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithEmailLink",Ie(v,h))})).apply(this,arguments)}class Sn extends Cs{constructor(h,p,_,T=null){super("password",_),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new Sn(h,p,"password")}static _fromEmailAndCode(h,p,_=null){return new Sn(h,p,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,g.Z)(function*(){var _;switch(p.signInMethod){case"password":const T={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const x=yield Ii(h,T,"signInWithPassword");return cn(h,x)}return cn(h,T).catch(function(){var x=(0,g.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield Ii(h,T,"signInWithPassword");return cn(h,J)}return Promise.reject(j)});return function(j){return x.apply(this,arguments)}}());case"emailLink":return function di(v,h){return ra.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:_e(h,"internal-error")}})()}_linkToIdToken(h,p){var _=this;return(0,g.Z)(function*(){switch(_.signInMethod){case"password":return $c(h,{idToken:p,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function kr(v,h){return Co.apply(this,arguments)}(h,{idToken:p,email:_._email,oobCode:_._password});default:_e(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function hr(v,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithIdp",Ie(v,h))})).apply(this,arguments)}class Yr extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Yr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):_e("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T}=p,x=(0,ne._T)(p,["providerId","signInMethod"]);if(!_||!T)return null;const j=new Yr(_,T);return j.idToken=x.idToken||void 0,j.accessToken=x.accessToken||void 0,j.secret=x.secret,j.nonce=x.nonce,j.pendingToken=x.pendingToken||null,j}_getIdTokenResponse(h){return hr(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,hr(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,hr(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,P.xO)(p)}return h}}function ns(){return(ns=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:sendVerificationCode",Ie(v,h))})).apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h))})).apply(this,arguments)}function Di(){return(Di=(0,g.Z)(function*(v,h){const p=yield _t(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,h));if(p.temporaryProof)throw _n(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const sa={USER_NOT_FOUND:"user-not-found"};function hi(){return(hi=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithPhoneNumber",Ie(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),sa)})).apply(this,arguments)}class Bn extends Cs{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Bn({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Bn({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Rn(v,h){return ia.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Qa(v,h){return Di.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function xd(v,h){return hi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:_,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:_,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:_,phoneNumber:T,temporaryProof:x}=h;return _||p||T||x?new Bn({verificationId:p,verificationCode:_,phoneNumber:T,temporaryProof:x}):null}}class $t{constructor(h){var p,_,T,x,j,J;const Ve=(0,P.zd)((0,P.pd)(h)),He=null!==(p=Ve.apiKey)&&void 0!==p?p:null,rt=null!==(_=Ve.oobCode)&&void 0!==_?_:null,at=function Gc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ve.mode)&&void 0!==T?T:null);G(He&&rt&&at,"argument-error"),this.apiKey=He,this.operation=at,this.code=rt,this.continueUrl=null!==(x=Ve.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(j=Ve.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(J=Ve.tenantId)&&void 0!==J?J:null}static parseLink(h){const p=function bo(v){const h=(0,P.zd)((0,P.pd)(v)).link,p=h?(0,P.zd)((0,P.pd)(h)).deep_link_id:null,_=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(_?(0,P.zd)((0,P.pd)(_)).link:null)||_||p||h||v}(h);try{return new $t(p)}catch{return null}}}let ju=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,_){return Sn._fromEmailAndPassword(p,_)}static credentialWithLink(p,_){const T=$t.parseLink(_);return G(T,"argument-error"),Sn._fromEmailAndCode(p,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class rs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Qr extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ci extends Qr{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return G("providerId"in p&&"signInMethod"in p,"argument-error"),Yr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return G(h.idToken||h.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ci.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ci.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:x,nonce:j,providerId:J}=h;if(!_&&!T&&!p&&!x||!J)return null;try{return new Ci(J)._credential({idToken:p,accessToken:_,nonce:j,pendingToken:x})}catch{return null}}}let To=(()=>{class v extends Qr{constructor(){super("facebook.com")}static credential(p){return Yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),So=(()=>{class v extends Qr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return Yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:T}=p;if(!_&&!T)return null;try{return v.credential(_,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),sr=(()=>{class v extends Qr{constructor(){super("github.com")}static credential(p){return Yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class jn extends Cs{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return hr(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,hr(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,hr(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T,pendingToken:x}=p;return _&&T&&x&&_===T?new jn(_,x):null}static _create(h,p){return new jn(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oa extends rs{constructor(h){G(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return oa.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return oa.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=jn.fromJSON(h);return G(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:_}=h;if(!p||!_)return null;try{return jn._create(_,p)}catch{return null}}}let Ts=(()=>{class v extends Qr{constructor(){super("twitter.com")}static credential(p,_){return Yr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=p;if(!_||!T)return null;try{return v.credential(_,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ss(v,h){return fr.apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signUp",Ie(v,h))})).apply(this,arguments)}class wr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,_,T=!1){return(0,g.Z)(function*(){const x=yield le._fromIdTokenResponse(h,_,T),j=Wc(_);return new wr({user:x,providerId:j,_tokenResponse:_,operationType:p})})()}static _forOperation(h,p,_){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const T=Wc(_);return new wr({user:h,providerId:T,_tokenResponse:_,operationType:p})})()}}function Wc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Rd(){return(Rd=(0,g.Z)(function*(v){var h;const p=qn(v);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new wr({user:p.currentUser,providerId:null,operationType:"signIn"});const _=yield Ss(p,{returnSecureToken:!0}),T=yield wr._fromIdTokenResponse(p,"signIn",_,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Xa extends P.ZR{constructor(h,p,_,T){var x;super(p.code,p.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,Xa.prototype),this.customData={appName:h.name,tenantId:null!==(x=h.tenantId)&&void 0!==x?x:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,p,_,T){return new Xa(h,p,_,T)}}function Of(v,h,p,_){return("reauthenticate"===h?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Xa._fromErrorAndOperation(v,x,h,_):x})}function Pf(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function is(){return is=(0,g.Z)(function*(v,h){const p=(0,P.m9)(v);yield Ja(!0,p,h);const{providerUserInfo:_}=yield function _r(v,h){return qr.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=Pf(_||[]);return p.providerData=p.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),is.apply(this,arguments)}function qc(v,h){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,g.Z)(function*(v,h,p=!1){const _=yield wn(v,h._linkToIdToken(v.auth,yield v.getIdToken()),p);return wr._forOperation(v,"link",_)})).apply(this,arguments)}function Ja(v,h,p){return Od.apply(this,arguments)}function Od(){return(Od=(0,g.Z)(function*(v,h,p){yield tn(h);const T=!1===v?"provider-already-linked":"no-such-provider";G(Pf(h.providerData).has(p)===v,h.auth,T)})).apply(this,arguments)}function kf(v,h){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,g.Z)(function*(v,h,p=!1){const{auth:_}=v,T="reauthenticate";try{const x=yield wn(v,Of(_,T,h,v),p);G(x.idToken,_,"internal-error");const j=Dt(x.idToken);G(j,_,"internal-error");const{sub:J}=j;return G(v.uid===J,_,"user-mismatch"),wr._forOperation(v,T,x)}catch(x){throw"auth/user-not-found"===x?.code&&_e(_,"user-mismatch"),x}})).apply(this,arguments)}function Ff(v,h){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,g.Z)(function*(v,h,p=!1){const _="signIn",T=yield Of(v,_,h),x=yield wr._fromIdTokenResponse(v,_,T);return p||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Zc(v,h){return eu.apply(this,arguments)}function eu(){return(eu=(0,g.Z)(function*(v,h){return Ff(qn(v),h)})).apply(this,arguments)}function kd(v,h){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,g.Z)(function*(v,h){const p=(0,P.m9)(v);return yield Ja(!1,p,h.providerId),qc(p,h)})).apply(this,arguments)}function $n(v,h){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,g.Z)(function*(v,h){return kf((0,P.m9)(v),h)})).apply(this,arguments)}function Ld(){return(Ld=(0,g.Z)(function*(v,h){return _t(v,"POST","/v1/accounts:signInWithCustomToken",Ie(v,h))})).apply(this,arguments)}function bi(){return bi=(0,g.Z)(function*(v,h){const p=qn(v),_=yield function aa(v,h){return Ld.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),T=yield wr._fromIdTokenResponse(p,"signIn",_);return yield p._updateCurrentUser(T.user),T}),bi.apply(this,arguments)}class tu{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?nu._fromServerResponse(h,p):"totpInfo"in p?Vd._fromServerResponse(h,p):_e(h,"internal-error")}}class nu extends tu{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new nu(p)}}class Vd extends tu{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Vd(p)}}function ca(v,h,p){var _;G((null===(_=p.url)||void 0===_?void 0:_.length)>0,v,"invalid-continue-uri"),G(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(G(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(G(p.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function la(){return la=(0,g.Z)(function*(v,h,p){var _;const T=qn(v),x={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const j=yield Ii(T,x,"getOobCode",!0);p&&ca(T,j,p),yield Ya(T,j)}else p&&ca(T,x,p),yield Ya(T,x).catch(function(){var j=(0,g.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ve=yield Ii(T,x,"getOobCode",!0);p&&ca(T,Ve,p),yield Ya(T,Ve)}});return function(J){return j.apply(this,arguments)}}())}),la.apply(this,arguments)}function da(){return(da=(0,g.Z)(function*(v,h,p){yield Rf((0,P.m9)(v),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Xr(){return Xr=(0,g.Z)(function*(v,h){yield function Bt(v,h){return ir.apply(this,arguments)}((0,P.m9)(v),{oobCode:h})}),Xr.apply(this,arguments)}function Ud(v,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,g.Z)(function*(v,h){const p=(0,P.m9)(v),_=yield Rf(p,{oobCode:h}),T=_.requestType;switch(G(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(_.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(_.mfaInfo,p,"internal-error");default:G(_.email,p,"internal-error")}let x=null;return _.mfaInfo&&(x=tu._fromServerResponse(qn(p),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function As(){return(As=(0,g.Z)(function*(v,h){const{data:p}=yield Ud((0,P.m9)(v),h);return p.email})).apply(this,arguments)}function Yc(){return Yc=(0,g.Z)(function*(v,h,p){var _;const T=qn(v),x={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const He=yield Ii(T,x,"signUpPassword");j=Ss(T,He)}else j=Ss(T,x).catch(function(){var He=(0,g.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const at=yield Ii(T,x,"signUpPassword");return Ss(T,at)}return Promise.reject(rt)});return function(rt){return He.apply(this,arguments)}}());const J=yield j.catch(He=>Promise.reject(He)),Ve=yield wr._fromIdTokenResponse(T,"signIn",J);return yield T._updateCurrentUser(Ve.user),Ve}),Yc.apply(this,arguments)}function $u(){return $u=(0,g.Z)(function*(v,h,p){var _;const T=qn(v),x={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function j(J,Ve){G(Ve.handleCodeInApp,T,"argument-error"),Ve&&ca(T,J,Ve)}if(null!==(_=T._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const J=yield Ii(T,x,"getOobCode",!0);j(J,p),yield Un(T,J)}else j(x,p),yield Un(T,x).catch(function(){var J=(0,g.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const He=yield Ii(T,x,"getOobCode",!0);j(He,p),yield Un(T,He)}});return function(Ve){return J.apply(this,arguments)}}())}),$u.apply(this,arguments)}function Vf(){return(Vf=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v),T=ju.credentialWithLink(h,p||Qt());return G(T._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Zc(_,T)})).apply(this,arguments)}function $d(){return($d=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:createAuthUri",Ie(v,h))})).apply(this,arguments)}function Jc(){return Jc=(0,g.Z)(function*(v,h){const _={identifier:h,continueUri:pn()?Qt():"http://localhost"},{signinMethods:T}=yield function Uf(v,h){return $d.apply(this,arguments)}((0,P.m9)(v),_);return T||[]}),Jc.apply(this,arguments)}function pa(){return pa=(0,g.Z)(function*(v,h){const p=(0,P.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&ca(p.auth,T,h);const{email:x}=yield function zc(v,h){return na.apply(this,arguments)}(p.auth,T);x!==v.email&&(yield v.reload())}),pa.apply(this,arguments)}function iu(){return iu=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};p&&ca(_.auth,x,p);const{email:j}=yield function Pt(v,h){return En.apply(this,arguments)}(_.auth,x);j!==v.email&&(yield v.reload())}),iu.apply(this,arguments)}function tl(){return(tl=(0,g.Z)(function*(v,h){return Me(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function zu(){return zu=(0,g.Z)(function*(v,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const _=(0,P.m9)(v),x={idToken:yield _.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},j=yield wn(_,function Bf(v,h){return tl.apply(this,arguments)}(_.auth,x));_.displayName=j.displayName||null,_.photoURL=j.photoUrl||null;const J=_.providerData.find(({providerId:Ve})=>"password"===Ve);J&&(J.displayName=_.displayName,J.photoURL=_.photoURL),yield _._updateTokensIfNecessary(j)}),zu.apply(this,arguments)}function os(v,h,p){return su.apply(this,arguments)}function su(){return(su=(0,g.Z)(function*(v,h,p){const{auth:_}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(x.email=h),p&&(x.password=p);const j=yield wn(v,$c(_,x));yield v._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class nn{constructor(h,p,_={}){this.isNewUser=h,this.providerId=p,this.profile=_}}class ou extends nn{constructor(h,p,_,T){super(h,p,_),this.username=T}}class ga extends nn{constructor(h,p){super(h,"facebook.com",p)}}class Dr extends ou{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class ma extends nn{constructor(h,p){super(h,"google.com",p)}}class Gd extends ou{constructor(h,p,_){super(h,"twitter.com",p,_)}}function Ms(v){const{user:h,_tokenResponse:p}=v;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function zd(v){var h,p;if(!v)return null;const{providerId:_}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!_&&v?.idToken){const j=null===(p=null===(h=Dt(v.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(j)return new nn(x,"anonymous"!==j&&"custom"!==j?j:null)}if(!_)return null;switch(_){case"facebook.com":return new ga(x,T);case"github.com":return new Dr(x,T);case"google.com":return new ma(x,T);case"twitter.com":return new Gd(x,T,v.screenName||null);case"custom":case"anonymous":return new nn(x,null);default:return new nn(x,_,T)}}(p)}class Js{constructor(h,p,_){this.type=h,this.credential=p,this.auth=_}static _fromIdtoken(h,p){return new Js("enroll",h,p)}static _fromMfaPendingCredential(h){return new Js("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,_;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Js._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return Js._fromIdtoken(h.multiFactorSession.idToken)}return null}}class bt{constructor(h,p,_){this.session=h,this.hints=p,this.signInResolver=_}static _fromError(h,p){const _=qn(h),T=p.customData._serverResponse,x=(T.mfaInfo||[]).map(J=>tu._fromServerResponse(_,J));G(T.mfaPendingCredential,_,"internal-error");const j=Js._fromMfaPendingCredential(T.mfaPendingCredential);return new bt(j,x,function(){var J=(0,g.Z)(function*(Ve){const He=yield Ve._process(_,j);delete T.mfaInfo,delete T.mfaPendingCredential;const rt=Object.assign(Object.assign({},T),{idToken:He.idToken,refreshToken:He.refreshToken});switch(p.operationType){case"signIn":const at=yield wr._fromIdTokenResponse(_,p.operationType,rt);return yield _._updateCurrentUser(at.user),at;case"reauthenticate":return G(p.user,_,"internal-error"),wr._forOperation(p.user,p.operationType,rt);default:_e(_,"internal-error")}});return function(Ve){return J.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,g.Z)(function*(){return p.signInResolver(h)})()}}class ki{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>tu._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new ki(h)}getSession(){var h=this;return(0,g.Z)(function*(){return Js._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var _=this;return(0,g.Z)(function*(){const T=h,x=yield _.getSession(),j=yield wn(_.user,T._process(_.user.auth,x,p));return yield _.user._updateTokensIfNecessary(j),_.user.reload()})()}unenroll(h){var p=this;return(0,g.Z)(function*(){const _="string"==typeof h?h:h.uid,T=yield p.user.getIdToken();try{const x=yield wn(p.user,function al(v,h){return Me(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(v,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:j})=>j!==_),yield p.user._updateTokensIfNecessary(x),yield p.user.reload()}catch(x){throw x}})()}}const ya=new WeakMap,ul="__sak";class cl{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ul,"1"),this.storage.removeItem(ul),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ao=(()=>{class v extends cl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zf(){const v=(0,P.z$)();return ae(v)||xt(v)}()&&function Pi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Io(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),x=this.localCache[_];T!==x&&p(_,x,T)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((J,Ve,He)=>{this.notifyListeners(J,He)});const T=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(T);if(p.newValue!==J)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!_)return}const x=()=>{const J=this.storage.getItem(T);!_&&this.localCache[T]===J||this.notifyListeners(T,J)},j=this.storage.getItem(T);!function ts(){return(0,P.w1)()&&10===document.documentMode}()||j===p.newValue||p.newValue===p.oldValue?x():setTimeout(x,10)}notifyListeners(p,_){this.localCache[p]=_;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var T=()=>super._set,x=this;return(0,g.Z)(function*(){yield T().call(x,p,_),x.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,T=this;return(0,g.Z)(function*(){const x=yield _().call(T,p);return T.localCache[p]=JSON.stringify(x),x})()}_remove(p){var _=()=>super._remove,T=this;return(0,g.Z)(function*(){yield _().call(T,p),delete T.localCache[p]})()}}return v.type="LOCAL",v})(),eo=(()=>{class v extends cl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return v.type="SESSION",v})();let Fi=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const _=this.receivers.find(x=>x.isListeningto(p));if(_)return _;const T=new v(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var _=this;return(0,g.Z)(function*(){const T=p,{eventId:x,eventType:j,data:J}=T.data,Ve=_.handlersMap[j];if(!Ve?.size)return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:j});const He=Array.from(Ve).map(function(){var at=(0,g.Z)(function*(ln){return ln(T.origin,J)});return function(ln){return at.apply(this,arguments)}}()),rt=yield function Wu(v){return Promise.all(v.map(function(){var h=(0,g.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(_){return{fulfilled:!1,reason:_}}});return function(p){return h.apply(this,arguments)}}()))}(He);T.ports[0].postMessage({status:"done",eventId:x,eventType:j,response:rt})})()}_subscribe(p,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(_)}_unsubscribe(p,_){this.handlersMap[p]&&_&&this.handlersMap[p].delete(_),(!_||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function au(v="",h=10){let p="";for(let _=0;_<h;_++)p+=Math.floor(10*Math.random());return v+p}class ll{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,_=50){var T=this;return(0,g.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let j,J;return new Promise((Ve,He)=>{const rt=au("",20);x.port1.start();const at=setTimeout(()=>{He(new Error("unsupported_event"))},_);J={messageChannel:x,onMessage(ln){const gi=ln;if(gi.data.eventId===rt)switch(gi.data.status){case"ack":clearTimeout(at),j=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ve(gi.data.response);break;default:clearTimeout(at),clearTimeout(j),He(new Error("invalid_response"))}}},T.handlers.add(J),x.port1.addEventListener("message",J.onMessage),T.target.postMessage({eventType:h,eventId:rt,data:p},[x.port2])}).finally(()=>{J&&T.removeMessageHandler(J)})})()}}function Nn(){return window}function qu(){return typeof Nn().WorkerGlobalScope<"u"&&"function"==typeof Nn().importScripts}function Si(){return(Si=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Li="firebaseLocalStorageDb",uu="firebaseLocalStorage",Qd="fbase_key";class cu{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function lu(v,h){return v.transaction([uu],h?"readwrite":"readonly").objectStore(uu)}function du(){const v=indexedDB.open(Li,1);return new Promise((h,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const _=v.result;try{_.createObjectStore(uu,{keyPath:Qd})}catch(T){p(T)}}),v.addEventListener("success",(0,g.Z)(function*(){const _=v.result;_.objectStoreNames.contains(uu)?h(_):(_.close(),yield function dl(){const v=indexedDB.deleteDatabase(Li);return new cu(v).toPromise()}(),h(yield du()))}))})}function Mo(v,h,p){return us.apply(this,arguments)}function us(){return(us=(0,g.Z)(function*(v,h,p){const _=lu(v,!0).put({[Qd]:h,value:p});return new cu(_).toPromise()})).apply(this,arguments)}function hu(){return(hu=(0,g.Z)(function*(v,h){const p=lu(v,!1).get(h),_=yield new cu(p).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function fu(v,h){const p=lu(v,!0).delete(h);return new cu(p).toPromise()}const xo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,g.Z)(function*(){return p.db||(p.db=yield du()),p.db})()}_withRetries(p){var _=this;return(0,g.Z)(function*(){let T=0;for(;;)try{const x=yield _._openDb();return yield p(x)}catch(x){if(T++>3)throw x;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,g.Z)(function*(){return qu()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,g.Z)(function*(){p.receiver=Fi._getInstance(function An(){return qu()?self:null}()),p.receiver._subscribe("keyChanged",function(){var _=(0,g.Z)(function*(T,x){return{keyProcessed:(yield p._poll()).includes(x.key)}});return function(T,x){return _.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var _=(0,g.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return _.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,g.Z)(function*(){var _,T;if(p.activeServiceWorker=yield function Fr(){return Si.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ll(p.activeServiceWorker);const x=yield p.sender._send("ping",{},800);x&&null!==(_=x[0])&&void 0!==_&&_.fulfilled&&null!==(T=x[0])&&void 0!==T&&T.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var _=this;return(0,g.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Ku(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:p},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const p=yield du();return yield Mo(p,ul,"1"),yield fu(p,ul),!0}catch{}return!1})()}_withPendingWrite(p){var _=this;return(0,g.Z)(function*(){_.pendingWrites++;try{yield p()}finally{_.pendingWrites--}})()}_set(p,_){var T=this;return(0,g.Z)(function*(){return T._withPendingWrite((0,g.Z)(function*(){return yield T._withRetries(x=>Mo(x,p,_)),T.localCache[p]=_,T.notifyServiceWorker(p)}))})()}_get(p){var _=this;return(0,g.Z)(function*(){const T=yield _._withRetries(x=>function Zu(v,h){return hu.apply(this,arguments)}(x,p));return _.localCache[p]=T,T})()}_remove(p){var _=this;return(0,g.Z)(function*(){return _._withPendingWrite((0,g.Z)(function*(){return yield _._withRetries(T=>fu(T,p)),delete _.localCache[p],_.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,g.Z)(function*(){const _=yield p._withRetries(j=>{const J=lu(j,!1).getAll();return new cu(J).toPromise()});if(!_)return[];if(0!==p.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:j,value:J}of _)x.add(j),JSON.stringify(p.localCache[j])!==JSON.stringify(J)&&(p.notifyListeners(j,J),T.push(j));for(const j of Object.keys(p.localCache))p.localCache[j]&&!x.has(j)&&(p.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(p,_){this.localCache[p]=_;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(_)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),pu=1e12;class Wf{constructor(h){this.auth=h,this.counter=pu,this._widgets=new Map}render(h,p){const _=this.counter;return this._widgets.set(_,new Jd(h,this.auth.name,p||{})),this.counter++,_}reset(h){var p;const _=h||pu;null===(p=this._widgets.get(_))||void 0===p||p.delete(),this._widgets.delete(_)}getResponse(h){var p;return(null===(p=this._widgets.get(h||pu))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,g.Z)(function*(){var _;return null===(_=p._widgets.get(h||pu))||void 0===_||_.execute(),""})()}}class Jd{constructor(h,p,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;G(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wg(v){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<v;_++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yu=Vu("rcb"),fl=new nr(3e4,6e4);class Ro{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Nn().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return G(function eh(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&ea(Nn().grecaptcha)?Promise.resolve(Nn().grecaptcha):new Promise((_,T)=>{const x=Nn().setTimeout(()=>{T(Y(h,"network-request-failed"))},fl.get());Nn()[Yu]=()=>{Nn().clearTimeout(x),delete Nn()[Yu];const J=Nn().grecaptcha;if(!J||!ea(J))return void T(Y(h,"internal-error"));const Ve=J.render;J.render=(He,rt)=>{const at=Ve(He,rt);return this.counter++,at},this.hostLanguage=p,_(J)},Id(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Yu,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(x),T(Y(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Nn().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pl{load(h){return(0,g.Z)(function*(){return new Wf(h)})()}clearedOneInstance(){}}const va="recaptcha",gl={theme:"light",type:"image"};class Qu{constructor(h,p=Object.assign({},gl),_){this.parameters=p,this.type=va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(_),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;G(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pl:new Ro,this.validateStartingState()}verify(){var h=this;return(0,g.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(p)||new Promise(x=>{const j=J=>{J&&(h.tokenChangeListeners.delete(j),x(J))};h.tokenChangeListeners.add(j),h.isInvisible&&_.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(_=>_(p)),"function"==typeof h)h(p);else if("string"==typeof h){const _=Nn()[h];"function"==typeof _&&_(p)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,g.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const _=document.createElement("div");p.appendChild(_),p=_}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,g.Z)(function*(){G(pn()&&!qu(),h.auth,"internal-error"),yield function Vi(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Xo(v){return qa.apply(this,arguments)}(h.auth);G(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cs{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Bn._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Jt(){return(Jt=(0,g.Z)(function*(v,h,p){const _=qn(v),T=yield Xu(_,h,(0,P.m9)(p));return new cs(T,x=>Zc(_,x))})).apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v);yield Ja(!1,_,"phone");const T=yield Xu(_.auth,h,(0,P.m9)(p));return new cs(T,x=>kd(_,x))})).apply(this,arguments)}function _a(){return(_a=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v),T=yield Xu(_.auth,h,(0,P.m9)(p));return new cs(T,x=>$n(_,x))})).apply(this,arguments)}function Xu(v,h,p){return ml.apply(this,arguments)}function ml(){return ml=(0,g.Z)(function*(v,h,p){var _;const T=yield p.verify();try{let x;if(G("string"==typeof T,v,"argument-error"),G(p.type===va,v,"argument-error"),x="string"==typeof h?{phoneNumber:h}:h,"session"in x){const j=x.session;if("phoneNumber"in x)return G("enroll"===j.type,v,"internal-error"),(yield function Kd(v,h){return Me(v,"POST","/v2/accounts/mfaEnrollment:start",Ie(v,h))}(v,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{G("signin"===j.type,v,"internal-error");const J=(null===(_=x.multiFactorHint)||void 0===_?void 0:_.uid)||x.multiFactorUid;return G(J,v,"missing-multi-factor-info"),(yield function Xd(v,h){return Me(v,"POST","/v2/accounts/mfaSignIn:start",Ie(v,h))}(v,{mfaPendingCredential:j.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Md(v,h){return ns.apply(this,arguments)}(v,{phoneNumber:x.phoneNumber,recaptchaToken:T});return j}}finally{p._reset()}}),ml.apply(this,arguments)}function nh(){return(nh=(0,g.Z)(function*(v,h){yield qc((0,P.m9)(v),h)})).apply(this,arguments)}let xs=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=qn(p)}verifyPhoneNumber(p,_){return Xu(this.auth,p,(0,P.m9)(_))}static credential(p,_){return Bn._fromVerification(p,_)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:T}=p;return _&&T?Bn._fromTokenResponse(_,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Tt(v,h){return h?$e(h):(G(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Vr extends Cs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return hr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return hr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return hr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function rh(v){return Ff(v.auth,new Vr(v),v.bypassAuthState)}function Ea(v){const{auth:h,user:p}=v;return G(p,h,"internal-error"),kf(p,new Vr(v),v.bypassAuthState)}function ls(v){return no.apply(this,arguments)}function no(){return(no=(0,g.Z)(function*(v){const{auth:h,user:p}=v;return G(p,h,"internal-error"),qc(p,new Vr(v),v.bypassAuthState)})).apply(this,arguments)}class pi{constructor(h,p,_,T,x=!1){this.auth=h,this.resolver=_,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,g.Z)(function*(_,T){h.pendingPromise={resolve:_,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(x){h.reject(x)}});return function(_,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,g.Z)(function*(){const{urlResponse:_,sessionId:T,postBody:x,tenantId:j,error:J,type:Ve}=h;if(J)return void p.reject(J);const He={auth:p.auth,requestUri:_,sessionId:T,tenantId:j||void 0,postBody:x||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ve)(He))}catch(rt){p.reject(rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return rh;case"linkViaPopup":case"linkViaRedirect":return ls;case"reauthViaPopup":case"reauthViaRedirect":return Ea;default:_e(this.auth,"internal-error")}}resolve(h){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new nr(2e3,1e4);function ih(){return(ih=(0,g.Z)(function*(v,h,p){const _=qn(v);Oe(v,h,rs);const T=Tt(_,p);return new ec(_,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function yl(){return(yl=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v);Oe(_.auth,h,rs);const T=Tt(_.auth,p);return new ec(_.auth,"reauthViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}function Rs(){return(Rs=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v);Oe(_.auth,h,rs);const T=Tt(_.auth,p);return new ec(_.auth,"linkViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}let ec=(()=>{class v extends pi{constructor(p,_,T,x,j){super(p,_,x,j),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,g.Z)(function*(){const _=yield p.execute();return G(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,g.Z)(function*(){gt(1===p.filter.length,"Popup operations only handle one event");const _=au();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(Y(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Y(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Ui.get())};p()}}return v.currentPopupAction=null,v})();const No="pendingRedirect",ro=new Map;class Kf extends pi{constructor(h,p,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,g.Z)(function*(){let _=ro.get(p.auth._key());if(!_){try{const x=(yield function tc(v,h){return Oo.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;_=()=>Promise.resolve(x)}catch(T){_=()=>Promise.reject(T)}ro.set(p.auth._key(),_)}return p.bypassAuthState||ro.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,_=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(_,h);if("unknown"!==h.type){if(h.eventId){const T=yield _.auth._redirectUserForId(h.eventId);if(T)return _.user=T,p().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Oo(){return(Oo=(0,g.Z)(function*(v,h){const p=Ns(h),_=so(v);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(p));return yield _._remove(p),T})).apply(this,arguments)}function ds(v,h){return nc.apply(this,arguments)}function nc(){return(nc=(0,g.Z)(function*(v,h){return so(v)._set(Ns(h),"true")})).apply(this,arguments)}function io(v,h){ro.set(v._key(),h)}function so(v){return $e(v._redirectPersistence)}function Ns(v){return U(No,v.config.apiKey,v.name)}function Zn(v,h,p){return function Po(v,h,p){return $i.apply(this,arguments)}(v,h,p)}function $i(){return($i=(0,g.Z)(function*(v,h,p){const _=qn(v);Oe(v,h,rs),yield _._initializationPromise;const T=Tt(_,p);return yield ds(T,_),T._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function Ai(v,h,p){return function Tr(v,h,p){return oo.apply(this,arguments)}(v,h,p)}function oo(){return(oo=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v);Oe(_.auth,h,rs),yield _.auth._initializationPromise;const T=Tt(_.auth,p);yield ds(T,_.auth);const x=yield Os(_);return T._openRedirect(_.auth,h,"reauthViaRedirect",x)})).apply(this,arguments)}function sh(v,h,p){return function Zf(v,h,p){return Mi.apply(this,arguments)}(v,h,p)}function Mi(){return(Mi=(0,g.Z)(function*(v,h,p){const _=(0,P.m9)(v);Oe(_.auth,h,rs),yield _.auth._initializationPromise;const T=Tt(_.auth,p);yield Ja(!1,_,h.providerId),yield ds(T,_.auth);const x=yield Os(_);return T._openRedirect(_.auth,h,"linkViaRedirect",x)})).apply(this,arguments)}function Pn(){return(Pn=(0,g.Z)(function*(v,h){return yield qn(v)._initializationPromise,Ur(v,h,!1)})).apply(this,arguments)}function Ur(v,h){return rc.apply(this,arguments)}function rc(){return(rc=(0,g.Z)(function*(v,h,p=!1){const _=qn(v),T=Tt(_,h),j=yield new Kf(_,T,p).execute();return j&&!p&&(delete j.user._redirectEventId,yield _._persistUserIfCurrent(j.user),yield _._setRedirectUser(null,h)),j})).apply(this,arguments)}function Os(v){return xi.apply(this,arguments)}function xi(){return(xi=(0,g.Z)(function*(v){const h=au(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class ic{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(p=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Da(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ft(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var _;if(h.error&&!Ft(h)){const T=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(Y(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const _=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ko(h))}saveEventToCache(h){this.cachedEventUids.add(ko(h)),this.lastProcessedEventTime=Date.now()}}function ko(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function Ft({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function qg(v){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,g.Z)(function*(v,h={}){return Me(v,"GET","/v1/projects",h)})).apply(this,arguments)}const Nv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mu=/^https?/;function ao(){return(ao=(0,g.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield qg(v);for(const p of h)try{if(Hn(p))return}catch{}_e(v,"unauthorized-domain")})).apply(this,arguments)}function Hn(v){const h=Qt(),{protocol:p,hostname:_}=new URL(h);if(v.startsWith("chrome-extension://")){const j=new URL(v);return""===j.hostname&&""===_?"chrome-extension:"===p&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&j.hostname===_}if(!mu.test(p))return!1;if(Nv.test(v))return _===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const uo=new nr(3e4,6e4);function ba(){const v=Nn().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let Sr=null;const ah=new nr(5e3,15e3),vl="__/auth/iframe",Fo="emulator/auth/iframe",uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yu(v){const h=v.config;G(h.authDomain,v,"auth-domain-config-required");const p=h.emulator?ie(h,Fo):`https://${v.config.authDomain}/${vl}`,_={apiKey:h.apiKey,appName:v.name,v:X.SDK_VERSION},T=_l.get(v.config.apiHost);T&&(_.eid=T);const x=v._getFrameworks();return x.length&&(_.fw=x.join(",")),`${p}?${(0,P.xO)(_).slice(1)}`}function C(){return C=(0,g.Z)(function*(v){const h=yield function zi(v){return Sr=Sr||function co(v){return new Promise((h,p)=>{var _,T,x;function j(){ba(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ba(),p(Y(v,"network-request-failed"))},timeout:uo.get()})}if(null!==(T=null===(_=Nn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(x=Nn().gapi)||void 0===x||!x.load){const J=Vu("iframefcb");return Nn()[J]=()=>{gapi.load?j():p(Y(v,"network-request-failed"))},Id(`https://apis.google.com/js/api.js?onload=${J}`).catch(Ve=>p(Ve))}j()}}).catch(h=>{throw Sr=null,h})}(v),Sr}(v),p=Nn().gapi;return G(p,v,"internal-error"),h.open({where:document.body,url:yu(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},_=>new Promise(function(){var T=(0,g.Z)(function*(x,j){yield _.restyle({setHideOnLeave:!1});const J=Y(v,"network-request-failed"),Ve=Nn().setTimeout(()=>{j(J)},ah.get());function He(){Nn().clearTimeout(Ve),x(_)}_.ping(He).then(He,()=>{j(J)})});return function(x,j){return T.apply(this,arguments)}}()))}),C.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ke{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nt="__/auth/handler",Rt="emulator/auth/handler",ei=encodeURIComponent("fac");function Dn(v,h,p,_,T,x){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(v,h,p,_,T,x){G(v.config.authDomain,v,"auth-domain-config-required"),G(v.config.apiKey,v,"invalid-api-key");const j={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:_,v:X.SDK_VERSION,eventId:T};if(h instanceof rs){h.setDefaultLanguage(v.languageCode),j.providerId=h.providerId||"",(0,P.xb)(h.getCustomParameters())||(j.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rt,at]of Object.entries(x||{}))j[rt]=at}if(h instanceof Qr){const rt=h.getScopes().filter(at=>""!==at);rt.length>0&&(j.scopes=rt.join(","))}v.tenantId&&(j.tid=v.tenantId);const J=j;for(const rt of Object.keys(J))void 0===J[rt]&&delete J[rt];const Ve=yield v._getAppCheckToken(),He=Ve?`#${ei}=${encodeURIComponent(Ve)}`:"";return`${function Lo({config:v}){return v.emulator?ie(v,Rt):`https://${v.authDomain}/${Nt}`}(v)}?${(0,P.xO)(J).slice(1)}${He}`})).apply(this,arguments)}const lo="webStorageSupport",Fs=class ti{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eo,this._completeRedirectFn=Ur,this._overrideRedirectResult=io}_openPopup(h,p,_,T){var x=this;return(0,g.Z)(function*(){var j;gt(null===(j=x.eventManagers[h._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const J=yield Dn(h,p,_,Qt(),T);return function ze(v,h,p,_=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-_)/2,0).toString();let J="";const Ve=Object.assign(Object.assign({},M),{width:_.toString(),height:T.toString(),top:x,left:j}),He=(0,P.z$)().toLowerCase();p&&(J=ct(He)?"_blank":p),Se(He)&&(h=h||"http://localhost",Ve.scrollbars="yes");const rt=Object.entries(Ve).reduce((ln,[gi,Nl])=>`${ln}${gi}=${Nl},`,"");if(function Pr(v=(0,P.z$)()){var h;return xt(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(He)&&"_self"!==J)return function st(v,h){const p=document.createElement("a");p.href=v,p.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(h||"",J),new Ke(null);const at=window.open(h||"",J,rt);G(at,v,"popup-blocked");try{at.focus()}catch{}return new Ke(at)}(h,J,au())})()}_openRedirect(h,p,_,T){var x=this;return(0,g.Z)(function*(){return yield x._originValidation(h),function Hg(v){Nn().location.href=v}(yield Dn(h,p,_,Qt(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:x}=this.eventManagers[p];return T?Promise.resolve(T):(gt(x,"If manager is not set, promise should be"),x)}const _=this.initAndGetManager(h);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(h){var p=this;return(0,g.Z)(function*(){const _=yield function I(v){return C.apply(this,arguments)}(h),T=new ic(h);return _.register("authEvent",x=>(G(x?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=_,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(lo,{type:lo},T=>{var x;const j=null===(x=T?.[0])||void 0===x?void 0:x[lo];void 0!==j&&p(!!j),_e(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ps(v){return ao.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Io()||ae()||xt()}};class El{constructor(h){this.factorId=h}_process(h,p,_){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,_);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ce("unexpected MultiFactorSessionType")}}}class vu extends El{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new vu(h)}_finalizeEnroll(h,p,_){return function $f(v,h){return Me(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(v,h))}(h,{idToken:p,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Gg(v,h){return Me(v,"POST","/v2/accounts/mfaSignIn:finalize",Ie(v,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ch=(()=>{class v{constructor(){}static assertion(p){return vu._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var sc="@firebase/auth";class Pv{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,g.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(_=>{h(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hs(){return window}(0,P.Pz)("authIdTokenMaxAge"),function kv(v){(0,X._registerComponent)(new ye.wA("auth",(h,{options:p})=>{const _=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),x=h.getProvider("app-check-internal"),{apiKey:j,authDomain:J}=_.options;G(j&&!j.includes(":"),"invalid-api-key",{appName:_.name});const Ve={apiKey:j,authDomain:J,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qo(v)},He=new bd(_,T,x,Ve);return function xf(v,h){const p=h?.persistence||[],_=(Array.isArray(p)?p:[p]).map($e);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(_,h?.popupRedirectResolver)}(He,p),He},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,_)=>{h.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new ye.wA("auth-internal",h=>{const p=qn(h.getProvider("auth").getImmediate());return new Pv(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(sc,"0.23.2",function Qf(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,X.registerVersion)(sc,"0.23.2","esm2017")}("Browser");function tp(){return tp=(0,g.Z)(function*(v,h,p){var _;const{BuildInfo:T}=hs();gt(h.sessionId,"AuthEvent did not contain a session ID");const x=yield function lh(v){return Dl.apply(this,arguments)}(h.sessionId),j={};return xt()?j.ibi=T.packageName:Ut()?j.apn=T.packageName:_e(v,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=x,Dn(v,p,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,j)}),tp.apply(this,arguments)}function wl(){return(wl=(0,g.Z)(function*(v){const{BuildInfo:h}=hs(),p={};xt()?p.iosBundleId=h.packageName:Ut()?p.androidPackageName=h.packageName:_e(v,"operation-not-supported-in-this-environment"),yield qg(v,p)})).apply(this,arguments)}function Il(){return(Il=(0,g.Z)(function*(v,h,p){const{cordova:_}=hs();let T=()=>{};try{yield new Promise((x,j)=>{let J=null;function Ve(){var at;x();const ln=null===(at=_.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof ln&&ln(),"function"==typeof p?.close&&p.close()}function He(){J||(J=window.setTimeout(()=>{j(Y(v,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&He()}h.addPassiveListener(Ve),document.addEventListener("resume",He,!1),Ut()&&document.addEventListener("visibilitychange",rt,!1),T=()=>{h.removePassiveListener(Ve),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",rt,!1),J&&window.clearTimeout(J)}})}finally{T()}})).apply(this,arguments)}function Dl(){return(Dl=(0,g.Z)(function*(v){const h=function Xg(v){if(gt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const h=new ArrayBuffer(v.length),p=new Uint8Array(h);for(let _=0;_<v.length;_++)p[_]=v.charCodeAt(_);return p}(v),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Bv extends ic{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,g.Z)(function*(){yield h.initPromise})()}}function Ls(v){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,g.Z)(function*(v){const h=yield Sa()._get(uc(v));return h&&(yield Sa()._remove(uc(v))),h})).apply(this,arguments)}function Cl(){const v=[];for(let p=0;p<20;p++){const _=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(_))}return v.join("")}function Sa(){return $e(Ao)}function uc(v){return U("authEvent",v.config.apiKey,v.name)}function bl(v){if(!v?.includes("?"))return{};const[h,...p]=v.split("?");return(0,P.zd)(p.join("?"))}const ho=class fh{constructor(){this._redirectPersistence=eo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ur,this._overrideRedirectResult=io}_initialize(h){var p=this;return(0,g.Z)(function*(){const _=h._key();let T=p.eventManagers.get(_);return T||(T=new Bv(h),p.eventManagers.set(_,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){_e(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,_,T){var x=this;return(0,g.Z)(function*(){!function Uv(v){var h,p,_,T,x,j,J,Ve,He,rt;const at=hs();G("function"==typeof(null===(h=at?.universalLinks)||void 0===h?void 0:h.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof(null===(p=at?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(x=null===(T=null===(_=at?.cordova)||void 0===_?void 0:_.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Ve=null===(J=null===(j=at?.cordova)||void 0===j?void 0:j.plugins)||void 0===J?void 0:J.browsertab)||void 0===Ve?void 0:Ve.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(rt=null===(He=at?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===rt?void 0:rt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const j=yield x._initialize(h);yield j.initialized(),j.resetRedirect(),function ji(){ro.clear()}(),yield x._originValidation(h);const J=function jv(v,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Cl(),postBody:null,tenantId:v.tenantId,error:Y(v,"no-auth-event")}}(h,_,T);yield function dh(v,h){return Sa()._set(uc(v),h)}(h,J);const Ve=yield function ep(v,h,p){return tp.apply(this,arguments)}(h,J,p),He=yield function Lv(v){const{cordova:h}=hs();return new Promise(p=>{h.plugins.browsertab.isAvailable(_=>{let T=null;_?h.plugins.browsertab.openUrl(v):T=h.InAppBrowser.open(v,function Zt(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(T)})})}(Ve);return function Vv(v,h,p){return Il.apply(this,arguments)}(h,j,He)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Qg(v){return wl.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:_,handleOpenURL:T,BuildInfo:x}=hs(),j=setTimeout((0,g.Z)(function*(){yield Ls(h),p.onEvent(em())}),500),J=function(){var rt=(0,g.Z)(function*(at){clearTimeout(j);const ln=yield Ls(h);let gi=null;ln&&at?.url&&(gi=function Uo(v,h){var p,_;const T=function Jg(v){const h=bl(v),p=h.link?decodeURIComponent(h.link):void 0,_=bl(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return bl(T).link||T||_||p||v}(h);if(T.includes("/__/auth/callback")){const x=bl(T),j=x.firebaseError?function cc(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,J=null===(_=null===(p=j?.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Ve=J?Y(J):null;return Ve?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(ln,at.url)),p.onEvent(gi||em())});return function(ln){return rt.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,J);const Ve=T,He=`${x.packageName.toLowerCase()}://`;hs().handleOpenURL=function(){var rt=(0,g.Z)(function*(at){if(at.toLowerCase().startsWith(He)&&J({url:at}),"function"==typeof Ve)try{Ve(at)}catch(ln){console.error(ln)}});return function(at){return rt.apply(this,arguments)}}()}};function em(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Y("no-auth-event")}}function lc(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function nm(v=(0,P.z$)()){return!("file:"!==lc()&&"ionic:"!==lc()&&"capacitor:"!==lc()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function fs(){try{const v=self.localStorage,h=au();if(v)return v.setItem(h,"1"),v.removeItem(h),!function ni(v=(0,P.z$)()){return function rm(){return(0,P.w1)()&&11===document?.documentMode}()||function rp(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch{return Bo()&&(0,P.hl)()}return!1}function Bo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hc(){return(function r0(){return"http:"===lc()||"https:"===lc()}()||(0,P.ru)()||nm())&&!function dc(){return(0,P.b$)()||(0,P.UG)()}()&&fs()&&!Bo()}function Ar(){return nm()&&typeof document<"u"}function jo(){return(jo=(0,g.Z)(function*(){return!!Ar()&&new Promise(v=>{const h=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),v(!0)})})})).apply(this,arguments)}const Gi={LOCAL:"local",NONE:"none",SESSION:"session"},$o=G,sp="persistence";function gh(v){return fc.apply(this,arguments)}function fc(){return(fc=(0,g.Z)(function*(v){yield v._initializationPromise;const h=ap(),p=U(sp,v.config.apiKey,v.name);h&&h.setItem(p,v._getPersistence())})).apply(this,arguments)}function ap(){var v;try{return(null===(v=function ip(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const up=G;class Wi{constructor(){this.browserResolver=$e(Fs),this.cordovaResolver=$e(ho),this.underlyingResolver=null,this._redirectPersistence=eo,this._completeRedirectFn=Ur,this._overrideRedirectResult=io}_initialize(h){var p=this;return(0,g.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,_,T){var x=this;return(0,g.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(h,p,_,T)})()}_openRedirect(h,p,_,T){var x=this;return(0,g.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(h,p,_,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return up(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,g.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Tl(){return jo.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function cp(v){return v.unwrap()}function Al(v){return lp(v)}function lp(v){const{_tokenResponse:h}=v instanceof P.ZR?v.customData:v;if(!h)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return xs.credentialFromResult(v);const p=h.providerId;if(!p||p===ue.PASSWORD)return null;let _;switch(p){case ue.GOOGLE:_=So;break;case ue.FACEBOOK:_=To;break;case ue.GITHUB:_=sr;break;case ue.TWITTER:_=Ts;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:j,pendingToken:J,nonce:Ve}=h;return x||j||T||J?J?p.startsWith("saml.")?jn._create(p,J):Yr._fromParams({providerId:p,signInMethod:p,pendingToken:J,idToken:T,accessToken:x}):new Ci(p).credential({idToken:T,accessToken:x,rawNonce:Ve}):null}return v instanceof P.ZR?_.credentialFromError(v):_.credentialFromResult(v)}function Br(v,h){return h.catch(p=>{throw p instanceof P.ZR&&function zv(v,h){var p;const _=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new xl(v,function ol(v,h){var p;const _=(0,P.m9)(v),T=h;return G(h.customData.operationType,_,"argument-error"),G(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),bt._fromError(_,T)}(v,h));else if(_){const T=lp(h),x=h;T&&(x.credential=T,x.tenantId=_.tenantId||void 0,x.email=_.email||void 0,x.phoneNumber=_.phoneNumber||void 0)}}(v,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Al(p),additionalUserInfo:Ms(p),user:Vs.getOrCreate(T)}})}function Ml(v,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,g.Z)(function*(v,h){const p=yield h;return{verificationId:p.verificationId,confirm:_=>Br(v,p.confirm(_))}})).apply(this,arguments)}class xl{constructor(h,p){this.resolver=p,this.auth=function Sl(v){return v.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Br(cp(this.auth),this.resolver.resolveSignIn(h))}}class Vs{constructor(h){this._delegate=h,this.multiFactor=function Yd(v){const h=(0,P.m9)(v);return ya.has(h)||ya.set(h,ki._fromUser(h)),ya.get(h)}(h)}static getOrCreate(h){return Vs.USER_MAP.has(h)||Vs.USER_MAP.set(h,new Vs(h)),Vs.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,g.Z)(function*(){return Br(p.auth,kd(p._delegate,h))})()}linkWithPhoneNumber(h,p){var _=this;return(0,g.Z)(function*(){return Ml(_.auth,function mt(v,h,p){return Lr.apply(this,arguments)}(_._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,g.Z)(function*(){return Br(p.auth,function Ia(v,h,p){return Rs.apply(this,arguments)}(p._delegate,h,Wi))})()}linkWithRedirect(h){var p=this;return(0,g.Z)(function*(){return yield gh(qn(p.auth)),sh(p._delegate,h,Wi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,g.Z)(function*(){return Br(p.auth,$n(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Ml(this.auth,function th(v,h,p){return _a.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Br(this.auth,function Bi(v,h,p){return yl.apply(this,arguments)}(this._delegate,h,Wi))}reauthenticateWithRedirect(h){var p=this;return(0,g.Z)(function*(){return yield gh(qn(p.auth)),Ai(p._delegate,h,Wi)})()}sendEmailVerification(h){return function el(v,h){return pa.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,g.Z)(function*(){return yield function Bg(v,h){return is.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function nl(v,h){return os((0,P.m9)(v),h,null)}(this._delegate,h)}updatePassword(h){return function Hd(v,h){return os((0,P.m9)(v),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Ju(v,h){return nh.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function jf(v,h){return zu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Hu(v,h,p){return iu.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vs.USER_MAP=new WeakMap;const Aa=G;let Rl=(()=>{class v{constructor(p,_){if(this.app=p,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;Aa(T,"invalid-api-key",{appName:p.name}),Aa(T,"invalid-api-key",{appName:p.name});const x=typeof window<"u"?Wi:void 0;this._delegate=_.initialize({options:{persistence:s0(T,p.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,_){!function Uu(v,h,p){const _=qn(v);G(_._canInitEmulator,_,"emulator-config-failed"),G(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const T=!!p?.disableWarnings,x=Do(h),{host:j,port:J}=function Td(v){const h=Do(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!p)return{host:"",port:null};const _=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(_);if(T){const x=T[1];return{host:x,port:Sd(_.substr(x.length+1))}}{const[x,j]=_.split(":");return{host:x,port:Sd(j)}}}(h);_.config.emulator={url:`${x}//${j}${null===J?"":`:${J}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:j,port:J,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Vg(){function v(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,_)}applyActionCode(p){return function Kn(v,h){return Xr.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ud(this._delegate,p)}confirmPasswordReset(p,_){return function ss(v,h,p){return da.apply(this,arguments)}(this._delegate,p,_)}createUserWithEmailAndPassword(p,_){var T=this;return(0,g.Z)(function*(){return Br(T._delegate,function Bd(v,h,p){return Yc.apply(this,arguments)}(T._delegate,p,_))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Xc(v,h){return Jc.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Qc(v,h){const p=$t.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,g.Z)(function*(){Aa(hc(),p._delegate,"operation-not-supported-in-this-environment");const _=yield function Hi(v,h){return Pn.apply(this,arguments)}(p._delegate,Wi);return _?Br(p._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function $v(v,h){qn(v)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,_,T){const{next:x,error:j,complete:J}=Gv(p,_,T);return this._delegate.onAuthStateChanged(x,j,J)}onIdTokenChanged(p,_,T){const{next:x,error:j,complete:J}=Gv(p,_,T);return this._delegate.onIdTokenChanged(x,j,J)}sendSignInLinkToEmail(p,_){return function fa(v,h,p){return $u.apply(this,arguments)}(this._delegate,p,_)}sendPasswordResetEmail(p,_){return function Rv(v,h,p){return la.apply(this,arguments)}(this._delegate,p,_||void 0)}setPersistence(p){var _=this;return(0,g.Z)(function*(){let T;switch(function ph(v,h){$o(Object.values(Gi).includes(h),v,"invalid-persistence-type"),(0,P.b$)()?$o(h!==Gi.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?$o(h===Gi.NONE,v,"unsupported-persistence-type"):Bo()?$o(h===Gi.NONE||h===Gi.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):$o(h===Gi.NONE||fs(),v,"unsupported-persistence-type")}(_._delegate,p),p){case Gi.SESSION:T=eo;break;case Gi.LOCAL:T=(yield $e(xo)._isAvailable())?xo:Ao;break;case Gi.NONE:T=wt;break;default:return _e("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Br(this._delegate,function Nf(v){return Rd.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Br(this._delegate,Zc(this._delegate,p))}signInWithCustomToken(p){return Br(this._delegate,function ua(v,h){return bi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,_){return Br(this._delegate,function jd(v,h,p){return Zc((0,P.m9)(v),ju.credential(h,p))}(this._delegate,p,_))}signInWithEmailLink(p,_){return Br(this._delegate,function Ir(v,h,p){return Vf.apply(this,arguments)}(this._delegate,p,_))}signInWithPhoneNumber(p,_){return Ml(this._delegate,function qf(v,h,p){return Jt.apply(this,arguments)}(this._delegate,p,_))}signInWithPopup(p){var _=this;return(0,g.Z)(function*(){return Aa(hc(),_._delegate,"operation-not-supported-in-this-environment"),Br(_._delegate,function wa(v,h,p){return ih.apply(this,arguments)}(_._delegate,p,Wi))})()}signInWithRedirect(p){var _=this;return(0,g.Z)(function*(){return Aa(hc(),_._delegate,"operation-not-supported-in-this-environment"),yield gh(_._delegate),Zn(_._delegate,p,Wi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function ru(v,h){return As.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Gi,v})();function Gv(v,h,p){let _=v;"function"!=typeof v&&({next:_,error:h,complete:p}=v);const T=_;return{next:j=>T(j&&Vs.getOrCreate(j)),error:h,complete:p}}function s0(v,h){const p=function op(v,h){const p=ap();if(!p)return[];const _=U(sp,v,h);switch(p.getItem(_)){case Gi.NONE:return[wt];case Gi.LOCAL:return[xo,eo];case Gi.SESSION:return[eo];default:return[]}}(v,h);if(typeof self<"u"&&!p.includes(xo)&&p.push(xo),typeof window<"u")for(const _ of[Ao,eo])p.includes(_)||p.push(_);return p.includes(wt)||p.push(wt),p}class im{constructor(){this.providerId="phone",this._delegate=new xs(cp(K.Z.auth()))}static credential(h,p){return xs.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}im.PHONE_SIGN_IN_METHOD=xs.PHONE_SIGN_IN_METHOD,im.PROVIDER_ID=xs.PROVIDER_ID;const o0=G;class Wv{constructor(h,p,_=K.Z.app()){var T;o0(null===(T=_.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Qu(h,p,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sm(v){v.INTERNAL.registerComponent(new ye.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),_=h.getProvider("auth");return new Rl(p,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ju,FacebookAuthProvider:To,GithubAuthProvider:sr,GoogleAuthProvider:So,OAuthProvider:Ci,SAMLAuthProvider:oa,PhoneAuthProvider:im,PhoneMultiFactorGenerator:ch,RecaptchaVerifier:Wv,TwitterAuthProvider:Ts,Auth:Rl,AuthCredential:Cs,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(K.Z)},4303:(dt,be,O)=>{O.d(be,{Jn:()=>_n,KN:()=>Vn,Xd:()=>Ze,qX:()=>nt});var g=O(5861),K=O(4537),P=O(7879),X=O(9058),ne=O(1878);class fe{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(le=>{if(function ye(ge){const $=ge.getComponent();return"VERSION"===$?.type}(le)){const Ge=le.getImmediate();return`${Ge.library}/${Ge.version}`}return null}).filter(le=>le).join(" ")}}const Re="@firebase/app",L=new P.Yd("@firebase/app"),de={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,ve=new Map;function Ie(ge,$){try{ge.container.addComponent($)}catch(le){L.debug(`Component ${$.name} failed to register with FirebaseApp ${ge.name}`,le)}}function Ze(ge){const $=ge.name;if(ve.has($))return L.debug(`There were multiple attempts to register component ${$}.`),!1;ve.set($,ge);for(const le of pe.values())Ie(le,ge);return!0}function nt(ge,$){const le=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return le&&le.triggerHeartbeat(),ge.container.getProvider($)}const pt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),_n="10.0.0";function Vn(ge,$,le){var Ge;let $e=null!==(Ge=de[ge])&&void 0!==Ge?Ge:ge;le&&($e+=`-${le}`);const Et=$e.match(/\s|\//),wt=$.match(/\s|\//);if(Et||wt){const U=[`Unable to register library "${$e}" with version "${$}":`];return Et&&U.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),Et&&wt&&U.push("and"),wt&&U.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void L.warn(U.join(" "))}Ze(new K.wA(`${$e}-version`,()=>({library:$e,version:$}),"VERSION"))}const wo="firebase-heartbeat-database",Qe=1,it="firebase-heartbeat-store";let Dt=null;function fn(){return Dt||(Dt=(0,ne.X3)(wo,Qe,{upgrade:(ge,$)=>{0===$&&ge.createObjectStore(it)}}).catch(ge=>{throw pt.create("idb-open",{originalErrorMessage:ge.message})})),Dt}function Wn(){return(Wn=(0,g.Z)(function*(ge){try{return yield(yield fn()).transaction(it).objectStore(it).get(Is(ge))}catch($){if($ instanceof X.ZR)L.warn($.message);else{const le=pt.create("idb-get",{originalErrorMessage:$?.message});L.warn(le.message)}}})).apply(this,arguments)}function Xt(ge,$){return xn.apply(this,arguments)}function xn(){return(xn=(0,g.Z)(function*(ge,$){try{const Ge=(yield fn()).transaction(it,"readwrite");yield Ge.objectStore(it).put($,Is(ge)),yield Ge.done}catch(le){if(le instanceof X.ZR)L.warn(le.message);else{const Ge=pt.create("idb-set",{originalErrorMessage:le?.message});L.warn(Ge.message)}}})).apply(this,arguments)}function Is(ge){return`${ge.name}!${ge.options.appId}`}class Kt{constructor($){this.container=$,this._heartbeatsCache=null;const le=this.container.getProvider("app").getImmediate();this._storage=new Yo(le),this._heartbeatsCachePromise=this._storage.read().then(Ge=>(this._heartbeatsCache=Ge,Ge))}triggerHeartbeat(){var $=this;return(0,g.Z)(function*(){const Ge=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=Zr();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==$e&&!$._heartbeatsCache.heartbeats.some(Et=>Et.date===$e))return $._heartbeatsCache.heartbeats.push({date:$e,agent:Ge}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(Et=>{const wt=new Date(Et.date).valueOf();return Date.now()-wt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,g.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const le=Zr(),{heartbeatsToSend:Ge,unsentEntries:$e}=function Ds(ge,$=1024){const le=[];let Ge=ge.slice();for(const $e of ge){const Et=le.find(wt=>wt.agent===$e.agent);if(Et){if(Et.dates.push($e.date),dr(le)>$){Et.dates.pop();break}}else if(le.push({agent:$e.agent,dates:[$e.date]}),dr(le)>$){le.pop();break}Ge=Ge.slice(1)}return{heartbeatsToSend:le,unsentEntries:Ge}}($._heartbeatsCache.heartbeats),Et=(0,X.L)(JSON.stringify({version:2,heartbeats:Ge}));return $._heartbeatsCache.lastSentHeartbeatDate=le,$e.length>0?($._heartbeatsCache.heartbeats=$e,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),Et})()}}function Zr(){return(new Date).toISOString().substring(0,10)}class Yo{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,g.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function wn(ge){return Wn.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var le=this;return(0,g.Z)(function*(){var Ge;if(yield le._canUseIndexedDBPromise){const Et=yield le.read();return Xt(le.app,{lastSentHeartbeatDate:null!==(Ge=$.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Et.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var le=this;return(0,g.Z)(function*(){var Ge;if(yield le._canUseIndexedDBPromise){const Et=yield le.read();return Xt(le.app,{lastSentHeartbeatDate:null!==(Ge=$.lastSentHeartbeatDate)&&void 0!==Ge?Ge:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...$.heartbeats]})}})()}}function dr(ge){return(0,X.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function wi(ge){Ze(new K.wA("platform-logger",$=>new fe($),"PRIVATE")),Ze(new K.wA("heartbeat",$=>new Kt($),"PRIVATE")),Vn(Re,"0.9.14",ge),Vn(Re,"0.9.14","esm2017"),Vn("fire-js","")}("")},4537:(dt,be,O)=>{O.d(be,{H0:()=>Re,wA:()=>P});var g=O(5861),K=O(9058);class P{constructor(L,B,ee){this.name=L,this.instanceFactory=B,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const X="[DEFAULT]";class ne{constructor(L,B){this.name=L,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const B=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(B)){const ee=new K.BH;if(this.instancesDeferred.set(B,ee),this.isInitialized(B)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:B});Be&&ee.resolve(Be)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(L){var B;const ee=this.normalizeInstanceIdentifier(L?.identifier),Be=null!==(B=L?.optional)&&void 0!==B&&B;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ae){if(Be)return null;throw Ae}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function ye(ue){return"EAGER"===ue.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[B,ee]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(B);try{const Ae=this.getOrInitializeService({instanceIdentifier:Be});ee.resolve(Ae)}catch{}}}}clearInstance(L=X){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,g.Z)(function*(){const B=Array.from(L.instances.values());yield Promise.all([...B.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...B.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=X){return this.instances.has(L)}getOptions(L=X){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:B={}}=L,ee=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ee,options:B});for(const[Ae,We]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ae)&&We.resolve(Be);return Be}onInit(L,B){var ee;const Be=this.normalizeInstanceIdentifier(B),Ae=null!==(ee=this.onInitCallbacks.get(Be))&&void 0!==ee?ee:new Set;Ae.add(L),this.onInitCallbacks.set(Be,Ae);const We=this.instances.get(Be);return We&&L(We,Be),()=>{Ae.delete(L)}}invokeOnInitCallbacks(L,B){const ee=this.onInitCallbacks.get(B);if(ee)for(const Be of ee)try{Be(L,B)}catch{}}getOrInitializeService({instanceIdentifier:L,options:B={}}){let ee=this.instances.get(L);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=L,ue===X?void 0:ue),options:B}),this.instances.set(L,ee),this.instancesOptions.set(L,B),this.invokeOnInitCallbacks(ee,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ee)}catch{}var ue;return ee||null}normalizeInstanceIdentifier(L=X){return this.component?this.component.multipleInstances?L:X:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const B=this.getProvider(L.name);if(B.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);B.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const B=new ne(L,this);return this.providers.set(L,B),B}getProviders(){return Array.from(this.providers.values())}}},7879:(dt,be,O)=>{O.d(be,{Am:()=>ue,Ub:()=>Re,Yd:()=>ye,in:()=>K});const g=[];var K=(()=>((K=K||{})[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K))();const P={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},X=K.INFO,ne={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},fe=(L,B,...ee)=>{if(B<L.logLevel)return;const Be=(new Date).toISOString(),Ae=ne[B];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Ae](`[${Be}]  ${L.name}:`,...ee)};class ye{constructor(B){this.name=B,this._logLevel=X,this._logHandler=fe,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in K))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?P[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...B),this._logHandler(this,K.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...B),this._logHandler(this,K.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,K.INFO,...B),this._logHandler(this,K.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,K.WARN,...B),this._logHandler(this,K.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...B),this._logHandler(this,K.ERROR,...B)}}function Re(L){g.forEach(B=>{B.setLogLevel(L)})}function ue(L,B){for(const ee of g){let Be=null;B&&B.level&&(Be=P[B.level]),ee.userLogHandler=null===L?null:(Ae,We,...Le)=>{const qe=Le.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");We>=(Be??Ae.logLevel)&&L({level:K[We].toLowerCase(),message:qe,args:Le,type:Ae.name})}}}},1878:(dt,be,O)=>{O.d(be,{X3:()=>ft});var g=O(5861);const K=(re,G)=>G.some(Ce=>re instanceof Ce);let P,X;const ye=new WeakMap,Re=new WeakMap,ue=new WeakMap,L=new WeakMap,B=new WeakMap;let Ae={get(re,G,Ce){if(re instanceof IDBTransaction){if("done"===G)return Re.get(re);if("objectStoreNames"===G)return re.objectStoreNames||ue.get(re);if("store"===G)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return ke(re[G])},set:(re,G,Ce)=>(re[G]=Ce,!0),has:(re,G)=>re instanceof IDBTransaction&&("done"===G||"store"===G)||G in re};function qe(re){return"function"==typeof re?function Le(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...G){return re.apply(ht(this),G),ke(ye.get(this))}:function(...G){return ke(re.apply(ht(this),G))}:function(G,...Ce){const gt=re.call(ht(this),G,...Ce);return ue.set(gt,G.sort?G.sort():[G]),ke(gt)}}(re):(re instanceof IDBTransaction&&function Be(re){if(Re.has(re))return;const G=new Promise((Ce,gt)=>{const Qt=()=>{re.removeEventListener("complete",pn),re.removeEventListener("error",gn),re.removeEventListener("abort",gn)},pn=()=>{Ce(),Qt()},gn=()=>{gt(re.error||new DOMException("AbortError","AbortError")),Qt()};re.addEventListener("complete",pn),re.addEventListener("error",gn),re.addEventListener("abort",gn)});Re.set(re,G)}(re),K(re,function ne(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,Ae):re)}function ke(re){if(re instanceof IDBRequest)return function ee(re){const G=new Promise((Ce,gt)=>{const Qt=()=>{re.removeEventListener("success",pn),re.removeEventListener("error",gn)},pn=()=>{Ce(ke(re.result)),Qt()},gn=()=>{gt(re.error),Qt()};re.addEventListener("success",pn),re.addEventListener("error",gn)});return G.then(Ce=>{Ce instanceof IDBCursor&&ye.set(Ce,re)}).catch(()=>{}),B.set(G,re),G}(re);if(L.has(re))return L.get(re);const G=qe(re);return G!==re&&(L.set(re,G),B.set(G,re)),G}const ht=re=>B.get(re);function ft(re,G,{blocked:Ce,upgrade:gt,blocking:Qt,terminated:pn}={}){const gn=indexedDB.open(re,G),bn=ke(gn);return gt&&gn.addEventListener("upgradeneeded",Tn=>{gt(ke(gn.result),Tn.oldVersion,Tn.newVersion,ke(gn.transaction),Tn)}),Ce&&gn.addEventListener("blocked",Tn=>Ce(Tn.oldVersion,Tn.newVersion,Tn)),bn.then(Tn=>{pn&&Tn.addEventListener("close",()=>pn()),Qt&&Tn.addEventListener("versionchange",nr=>Qt(nr.oldVersion,nr.newVersion,nr))}).catch(()=>{}),bn}const _e=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],me=new Map;function Oe(re,G){if(!(re instanceof IDBDatabase)||G in re||"string"!=typeof G)return;if(me.get(G))return me.get(G);const Ce=G.replace(/FromIndex$/,""),gt=G!==Ce,Qt=Y.includes(Ce);if(!(Ce in(gt?IDBIndex:IDBObjectStore).prototype)||!Qt&&!_e.includes(Ce))return;const pn=function(){var gn=(0,g.Z)(function*(bn,...Tn){const nr=this.transaction(bn,Qt?"readwrite":"readonly");let ie=nr.store;return gt&&(ie=ie.index(Tn.shift())),(yield Promise.all([ie[Ce](...Tn),Qt&&nr.done]))[0]});return function(Tn){return gn.apply(this,arguments)}}();return me.set(G,pn),pn}!function We(re){Ae=re(Ae)}(re=>({...re,get:(G,Ce,gt)=>Oe(G,Ce)||re.get(G,Ce,gt),has:(G,Ce)=>!!Oe(G,Ce)||re.has(G,Ce)}))},5861:(dt,be,O)=>{function g(P,X,ne,fe,ye,Re,ue){try{var L=P[Re](ue),B=L.value}catch(ee){return void ne(ee)}L.done?X(B):Promise.resolve(B).then(fe,ye)}function K(P){return function(){var X=this,ne=arguments;return new Promise(function(fe,ye){var Re=P.apply(X,ne);function ue(B){g(Re,fe,ye,ue,L,"next",B)}function L(B){g(Re,fe,ye,ue,L,"throw",B)}ue(void 0)})}}O.d(be,{Z:()=>K})},7582:(dt,be,O)=>{function X(ie,de){var pe={};for(var ve in ie)Object.prototype.hasOwnProperty.call(ie,ve)&&de.indexOf(ve)<0&&(pe[ve]=ie[ve]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(ve=Object.getOwnPropertySymbols(ie);Ie<ve.length;Ie++)de.indexOf(ve[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ie,ve[Ie])&&(pe[ve[Ie]]=ie[ve[Ie]])}return pe}function ee(ie,de,pe,ve){return new(pe||(pe=Promise))(function(Me,Ze){function nt(Wt){try{_t(ve.next(Wt))}catch(pt){Ze(pt)}}function Mn(Wt){try{_t(ve.throw(Wt))}catch(pt){Ze(pt)}}function _t(Wt){Wt.done?Me(Wt.value):function Ie(Me){return Me instanceof pe?Me:new pe(function(Ze){Ze(Me)})}(Wt.value).then(nt,Mn)}_t((ve=ve.apply(ie,de||[])).next())})}function se(ie){return this instanceof se?(this.v=ie,this):new se(ie)}function _e(ie,de,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ve=pe.apply(ie,de||[]),Me=[];return Ie={},Ze("next"),Ze("throw"),Ze("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function Ze(mn){ve[mn]&&(Ie[mn]=function(_n){return new Promise(function(Gn,on){Me.push([mn,_n,Gn,on])>1||nt(mn,_n)})})}function nt(mn,_n){try{!function Mn(mn){mn.value instanceof se?Promise.resolve(mn.value.v).then(_t,Wt):pt(Me[0][2],mn)}(ve[mn](_n))}catch(Gn){pt(Me[0][3],Gn)}}function _t(mn){nt("next",mn)}function Wt(mn){nt("throw",mn)}function pt(mn,_n){mn(_n),Me.shift(),Me.length&&nt(Me[0][0],Me[0][1])}}function me(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,de=ie[Symbol.asyncIterator];return de?de.call(ie):(ie=function Le(ie){var de="function"==typeof Symbol&&Symbol.iterator,pe=de&&ie[de],ve=0;if(pe)return pe.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ve>=ie.length&&(ie=void 0),{value:ie&&ie[ve++],done:!ie}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),pe={},ve("next"),ve("throw"),ve("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ve(Me){pe[Me]=ie[Me]&&function(Ze){return new Promise(function(nt,Mn){!function Ie(Me,Ze,nt,Mn){Promise.resolve(Mn).then(function(_t){Me({value:_t,done:nt})},Ze)}(nt,Mn,(Ze=ie[Me](Ze)).done,Ze.value)})}}}O.d(be,{FC:()=>_e,KL:()=>me,_T:()=>X,mG:()=>ee,qq:()=>se}),"function"==typeof SuppressedError&&SuppressedError}},dt=>{dt(dt.s=4359)}]);